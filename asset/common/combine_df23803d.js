define("common/zone",["exports","module","underscore","babel-runtime/helpers/interop-require-default","inf-i18n"],function(exports,module,e,t,i){function n(){var e=arguments.length<=0||void 0===arguments[0]?"-":arguments[0];if(!e)return"-";if(e.match(","))return"多可用区"+e.replace(/,/g,"+").replace(/zone/g,"");else return e.replace(/zone/g,a["default"]("可用区"))}var r=t["default"](e),a=t["default"](i);module.exports={getLabel:n,getZoneList:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return r["default"].map(e,function(e){return{value:e,name:n(e)}})}}}),define("common/util",["exports","moment","babel-runtime/helpers/interop-require-default","saber-cookie","underscore","inf-i18n","fc-storage/sessionStorage","./storage"],function(exports,e,t,i,n,r,a,o){exports.__esModule=!0;var s=t["default"](e),A=t["default"](i),B=t["default"](n),C=t["default"](r),D=t["default"](a),l=t["default"](o),E="guidetip-default",u=function(e){var t=e.target.get("id")||E,i=l["default"].get(t)||0,n=D["default"].get(t)||0;l["default"].set(t,++i),D["default"].set(t,++n)};exports.closeHandler=u;var c=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.id||E,i=e.onlineTime||null,n=e.serverTime||s["default"]().format(),r=e.intervalDays||30,a=e.clickCount||3;if(i){var o=s["default"](i).add(r,"days").format();if(new Date(n)>new Date(o))return!1}var A=l["default"].get(t)||0;if(A>parseInt(a,10))return!1;var B=D["default"].get(t)||0;if(B>0)return!1;else return!0};exports.checkHandler=c;var F=function(){return!!A["default"].get("bce-subuser-info")};exports.isSubUser=F;var d=function(e){if(!e||"default"===e)return C["default"]("默认私有网络");else return B["default"].escape(e)};exports.getVpcName=d;var f=function(e){if(!e)return C["default"]("系统预定义子网");else return B["default"].escape(e)};exports.getSubnetName=f}),define("common/util/tableUtil",["exports","module","underscore","babel-runtime/helpers/interop-require-default","inf-i18n","bat-ria/mvc/ListView"],function(exports,module,e,t,i,n){var r=t["default"](e),a=t["default"](i),o=t["default"](n),s={REFRESH:"refreshList",SAVE_EDIT:"saveedit"};module.exports={tableProperty:function(e,t){var i={fields:e,sortable:!0,columnResizable:!0,select:"multi",selectMode:"line",selectedIndex:[]};return r["default"].extend(i,t)},setButtonStatusOfTable:function(e,t,i){var n=e.get("table");i||(i=n.getSelectedItems());for(var r in t){var a=t[r],o=a.single&&1!==i.length||!a.canBeNull&&0===i.length||a.multiple&&i.length<2,s=a.rule;if(!o&&s)for(var A=0;A<i.length;A++){var B=!s(i[A]);if(o=o||B,B)break}e.get(r).setDisabled(o)}var C=e.get("selectAllItems"),D=i.length>0&&i.length===n.datasource.length;if(C)C.setChecked(D)},setSelectStatusOfTable:function(e,t,i,n){n||(n=e.get("table").getSelectedItems());var a=e.get(t),o=r["default"].indexBy(a.datasource,"value");for(var s in i){var A=i[s],B=A.single&&1!==n.length||!A.canBeNull&&0===n.length||A.multiple&&n.length<2,C=A.rule;if(!B&&C)for(var D=0;D<n.length;D++){var l=!C(n[D]);if(B=B||l,l)break}o[s].disabled=B}a.setProperties({datasource:r["default"].toArray(o),selectedIndex:-1})},getListEvents:function(e){var t=e||{};return t["keywordType:change"]=function(e){var t=e.target.getSelectedItem(),i=t.name||t.text;this.get("keyword").setProperties({placeholder:r["default"].sprintf(a["default"]("请输入%s进行搜索"),i)})},t["searchBtn:click"]=function(e){this.submitSearch(e)},t["refreshList:click"]=function(e){this.fire(s.REFRESH)},t["table:saveedit"]=function(e){this.fire(s.SAVE_EDIT,e)},t["selectAllItems:click"]=function(e){this.get("table").setAllRowSelected(e.target.isChecked())},t},initTableSelectItem:function(e,t){var i=this.get("table"),n=i.datasource,r=0;for(r=0;r<n.length&&n[r][e]!==t;r++);i.setRowSelected(r,!0)},getSearchArgs:function(){var e=o["default"].prototype.getSearchArgs.apply(this,arguments),t=this.model.get("pageNo");if(this.get("keywordType"))e.keywordType=this.get("keywordType").getValue();if(+t>0)e.pageNo=t;return e}}}),define("common/util/orderUtil",["exports","module","underscore","babel-runtime/helpers/interop-require-default","../enum"],function(exports,module,e,t,i){var n=t["default"](e);module.exports={make:function(e){var t=e.type;return n["default"].each(e.items,function(e){if(e.productType===i.PayType.PREPAY)switch(t){case i.OrderType.NEW:case i.OrderType.RENEW:break;case i.OrderType.RESIZE:case i.OrderType.EIP_RESIZE:delete e.count,delete e.unitPrice,delete e.unitPriceShow}else if(e.productType===i.PayType.POSTPAY)switch(delete e.price,delete e.time,delete e.timeUnit,t){case i.OrderType.NEW:case i.OrderType.RENEW:break;case i.OrderType.RESIZE:case i.OrderType.EIP_RESIZE:delete e.count}}),e}}}),define("common/util/dialog",["exports","module"],function(exports,module){function e(e,t){return e.waitActionDialogExt(t)}function t(e,t){return e.waitAlertExt(t)}module.exports={waitActionDialog:e,waitAlert:t}}),define("common/tpl",[],function(){return'<!-- target: listSearchBox -->\r\n<input name="keyword"\r\n    data-ui-type="SearchBox" data-ui-id="keyword"\r\n    data-ui-height="19"\r\n    data-ui-text="@keyword"\r\n    data-ui-placeholder="@keywordPlaceHolder"\r\n    data-ui-extension-submit-type="AutoSubmit" />\r\n\r\n<!-- target: listRangeCalendar -->\r\n<div data-ui-type="RangeCalendar" \r\n    data-ui-id="range"\r\n    data-ui-param-format="YYYYMMDDHHmmss" data-ui-raw-value="@time"\r\n    data-ui-extension-submit-type="AutoSubmit">\r\n</div>\r\n\r\n<!-- target: listTable -->\r\n<div data-ui-type="Table" data-ui-id="table" data-ui-datasource="@tableData"\r\n    data-ui-order-by="@orderBy" data-ui-order="@order" data-ui-select="@selectMode"\r\n    data-ui-extension-tip-type="TableTip">\r\n</div>\r\n\r\n<!-- target: listEditableTable -->\r\n<div data-ui-type="Table" data-ui-id="table" data-ui-datasource="@tableData"\r\n    data-ui-order-by="@orderBy" data-ui-order="@order" data-ui-select="@selectMode"\r\n    data-ui-extension-tip-type="TableTip" data-ui-extension-tableedit-type="TableEdit">\r\n</div>\r\n\r\n<!-- target: listTableWithCommand -->\r\n<div data-ui-type="Table" data-ui-id="table" data-ui-datasource="@tableData"\r\n    data-ui-order-by="@orderBy" data-ui-order="@order" data-ui-select="@selectMode"\r\n    data-ui-extension-tip-type="TableTip"\r\n    data-ui-extension-command-type="Command">\r\n</div>\r\n\r\n<!-- target: listEditableTableWithCommand -->\r\n<div data-ui-type="Table" data-ui-id="table" data-ui-datasource="@tableData"\r\n    data-ui-order-by="@orderBy" data-ui-order="@order" data-ui-select="@selectMode"\r\n    data-ui-extension-tip-type="TableTip" data-ui-extension-command-type="Command"\r\n    data-ui-extension-tableedit-type="TableEdit">\r\n</div>\r\n\r\n<!-- target: listTableWithCommandAndSubrow -->\r\n<div data-ui-type="Table" data-ui-id="table" data-ui-datasource="@tableData"\r\n    data-ui-order-by="@orderBy" data-ui-order="@order" data-ui-select="@selectMode"\r\n    data-ui-extension-command-type="Command"\r\n    data-ui-extension-tip-type="TableTip"\r\n    data-ui-extension-tablesubrow-type="TableSubrow">\r\n</div>\r\n\r\n<!-- target: listPager -->\r\n<div data-ui-type="Pager" data-ui-id="pager" data-ui-page-type="plain"\r\n    data-ui-count="@totalCount" data-ui-page="@pageNo" data-ui-page-size="@pageSize" \r\n    data-ui-url-template="@urlTemplate" data-ui-layout="alignRight">\r\n</div>\r\n\n<!-- target: monitor_trend_search_i18n -->\n<div class="monitor-search-wrap ui-row">\n    <span class=\'search-item\'>\n        <label >${i18n.最近：}</label>\n        <select data-ui-type="Select" data-ui-id="${type}TimeRange" data-ui-width="100" name="timeRange">\n            <option value="1h">${i18n.1小时}</option>\n            <option value="6h">${i18n.6小时}</option>\n            <option value="1d">${i18n.1天}</option>\n            <option value="7d">${i18n.7天}</option>\n            <option value="14d">${i18n.14天}</option>\n            <option value="40d">${i18n.40天}</option>\n        </select>\n    </span>\n    <button data-ui-type="Button" data-ui-id="${type}Refresh" data-ui-skin="refresh"></button>\n</div>\n\n<!-- target: monitor_trend_search -->\n<div class="monitor-search-wrap ui-row">\n    <span class=\'search-item\'>\n        <label >最近：</label>\n        <select data-ui-type="Select" data-ui-id="${type}TimeRange" data-ui-width="80" name="timeRange">\n            <option value="1h">1小时</option>\n            <option value="6h">6小时</option>\n            <option value="1d">1天</option>\n            <option value="7d">7天</option>\n            <option value="14d">14天</option>\n            <option value="40d">40天</option>\n        </select>\n    </span>\n    <button data-ui-type="Button" data-ui-id="${type}Refresh" data-ui-skin="refresh"></button>\n</div>\n\n<!-- target: monitor_trend_search_detail -->\n<div class="monitor-search-wrap ui-row">\n    <span class=\'search-item ${statHide}\'>\n        <label >统计项：</label>\n        <select data-ui-type="Select" data-ui-id="${type}Statistics" data-ui-width="90" name="statistics">\n            <option value="average">平均值</option>\n            <option value="sum">和值</option>\n            <option value="maximum">最大值</option>\n            <option value="minimum">最小值</option>\n            <option value="sampleCount">样本数</option>\n        </select>\n    </span>\n    <span class=\'search-item ${periodHide}\'>\n        <label >采样周期：</label>\n        <select data-ui-type="Select" data-ui-id="${type}Period" data-ui-width="90" name="period">\n            <option value="60">1分钟</option>\n            <option value="300">5分钟</option>\n            <option value="1200">20分钟</option>\n            <option value="3600">1小时</option>\n            <option value="21600">6小时</option>\n            <option value="43200">12小时</option>\n            <option value="86400">1天</option>\n        </select>\n    </span>\n    <span class=\'search-item ${timeRangeHide}\'>\n        <label >最近：</label>\n        <select data-ui-type="Select" data-ui-id="${type}TimeRange" data-ui-width="90" name="timeRange">\n            <option value="1h">1小时</option>\n            <option value="6h">6小时</option>\n            <option value="1d">1天</option>\n            <option value="7d">7天</option>\n            <option value="14d">14天</option>\n            <option value="40d">40天</option>\n        </select>\n    </span>\n    <div data-ui-type="Tip"\n         data-ui-content="最多支持1440个数据点的查询显示，请选择合适的采样周期和聚合时间段。"\n         data-ui-skin="warning"></div>\n    <button data-ui-type="Button" data-ui-id="${type}Refresh" data-ui-skin="refresh"></button>\n</div>\n\n<!-- target: TPL_alarm_state_summary -->\n<div class="alarm-info ui-row">\n    ${i18n.报警信息：}\n    <span class="alarm-state"><span class="status normal"></span><span id="js-alarm-state-ok"></span> ${i18n.项状态正常}</span>\n    <span class="alarm-state"><span class="status error"></span><span id="js-alarm-state-alarm"></span> ${i18n.项状态异常}</span>\n    <span class="alarm-state"><span class="status warning"></span><span id="js-alarm-state-insufficient"></span> ${i18n.项数据不足}</span>\n    <button data-ui-id="toAlarm" data-ui-type="Button" class="alarm-detail">${i18n.报警详情}</button>\n</div>\n\n<!-- target: TPL_open_service_success -->\n<div class="open-service">\n    <i class="success-icon"></i>\n    <div class="inner-wrap">\n        <div class="row one">您的服务开通成功！</div>\n        <div class="row two">服务将在1-5分钟内开通，请耐心等待。</div>\n        <div class="row three"><a href="/billing/#/order/list" target="_blank">查看订单明细</a>\n            <a href="${serviceConsoleUrl}" class="link-margin">管理控制台</a></div>\n    </div>\n</div>\n<ul class="open-service-tip">\n    <li>温馨提示：</li>\n    <li>感谢开通百度云服务，如您后续的操作遇到困难，您可以点击导航栏的“工单”提交问题。</li>\n</ul>\n<!-- target: TPL_open_service_fail -->\n<div class="open-service">\n    <i class="fail-icon"></i>\n    <div class="inner-wrap">\n        <div class="row one fail">您的服务开通失败！</div>\n        <div class="row two">${failMsg}</div>\n        <div class="row three"><a id="reopenService" href="javascript:void(0)">重新开通服务</a></div>\n    </div>\n</div>\n\n<!-- target: TPL_sidebar -->\n<ul class="sidebar" id="sidebar" data-menu="${menu}"></ul>\n\n<!-- target: TPL_realname_tip -->\n<p class="realname-tip"\n    data-ui-type="ToastLabel"\n    data-ui-message-type="alert"\n    data-ui-hidden="true"\n    data-auth="verifiedUser"\n    data-authtype="SHOW">${i18n.错误提示}</p>\n\n<!-- target: TPL_forbidden_realname_tip -->\n<p class="realname-tip"\n    data-ui-type="ToastLabel"\n    data-ui-message-type="alert"\n    data-ui-hidden="true"\n    data-auth="verifiedUser,forbidden"\n    data-auth-whenfailnotbreak="true"\n    data-authtype="SHOW"></p>\n\n<!-- target: TPL_common_billing_order_confirm_prepay_summary -->\n<div class="order-summary inner-row">\n    <table class="money-table">\n        <tbody>\n        <tr>\n            <td>${i18n.产品金额：} </td>\n            <td><span class="order-price">￥${totalPrepayPriceShow}</span></td>\n        </tr>\n        <tr>\n            <td>${i18n.代金券：}</td>\n            <td>-￥<span data-ui-type="Label" data-ui-id="coupon" class="coupon-value">0.00</span></td>\n        </tr>\n        <!-- if: ${prepayDiscount} && ${prepayDiscount} < 100 -->\n        <!-- var: discountShow = ${prepayDiscount} / 10  -->\n        <tr>\n            <td>${i18n.折扣：} </td>\n            <td><span data-ui-type="Label" data-ui-id="discount" class="discount-show">${discountShow}${i18n.折优惠}</span></td>\n        </tr>\n        <!-- /if -->\n        <tr class="practical-tr">\n            <td>${i18n.实付金额：} </td>\n            <td><span class="practical-price"><span class="red">￥</span><label data-ui-type="Label" data-ui-id="price" class="price">${order.practicalAmount}</label></span></td>\n        </tr>\n        </tbody>\n    </table>\n</div>\n\n<!-- target: TPL_common_billing_order_confirm_postpay_summary -->\n<!-- if: ${postpayDiscount} && ${postpayDiscount} < 100 -->\n<!-- var: discountShow = ${postpayDiscount} / 10  -->\n<div class="order-summary inner-row">\n    <table class="money-table">\n        <tbody>\n        <tr>\n            <td>${i18n.折扣：} </td>\n            <td><span class="discount-show">${discountShow}${i18n.折优惠}</span></td>\n        </tr>\n        </tbody>\n    </table>\n</div>\n<!-- /if -->\n\n<!-- target: TPL_common_partial_create_current_region -->\n<label>${i18n.当前地域：}</label>\n<div>\n    <div data-ui-id="region"\n        data-ui-name="region"\n        data-ui-type="RadioSelect"\n        data-ui-datasource="@consoleContext.region.datasource"\n        class="ui-radioselect-custom"></div>\n    <div data-ui-type="Tip"\n        data-ui-content="${i18n.如需修改购买其他区域产品，请前往主导航进行切换}"\n        data-ui-skin="warning"\n        class="doc-link region-tip"></div>\n</div>\n\n<!-- target: TPL_common_partial_create_zone -->\n<label>可用区：</label>\n<div>\n    <span data-ui-type="Select"\n        data-ui-id="logicalZone"\n        data-ui-name="logicalZone"></span>\n    <!-- block: zone_append -->\n        <span data-ui-type="Tip"\n            data-ui-content="${i18n.可用区是指在同一区域下，电力和网络互相独立的区域，故障会被隔离在一个可用区内。如果您的应用程序需要更高的高可用性，建议您将云服务创建在不同的可用区内。}<a href=\'https://cloud.baidu.com/doc/Reference/Regions.html#.E5.8F.AF.E7.94.A8.E5.8C.BA\' target=\'_blank\'>${i18n.了解详情。}</a>"\n            data-ui-skin="warning"\n            class="doc-link"></span>\n    <!-- /block -->\n</div>\n\n<!-- target: TPL_inf_ria_page_breadcrumb -->\n<div class="page-breadcrumb-wrapper">\n    <!-- block: back_wrapper -->\n        <div class="back-wrapper">\n            <a href="<!-- block: back_link --><!-- /block -->">\n                <i class="iconfont icon-downarrow"></i>\n                <!-- block: back_text -->${i18n.返回实例列表}<!-- /block -->\n            </a>\n        </div>\n    <!-- /block -->\n    <!-- block: text_wrapper -->\n        <div class="text-wrapper">\n            <!-- block: text_content_wrapper -->${i18n.创建实例}<!-- /block -->\n        </div>\n    <!-- /block -->\n    <!-- block: create_step --><!-- /block -->\n</div>\n\n<!-- target: TPL_common_order_recharge -->\n<div class="order-recharge">\n    <form data-ui-type="Form" data-ui-id="form"\n        data-ui-auto-validate="true">\n        <div class="form-data-body">\n            <div class="form-row">\n                <label>${idName}：</label>\n                <div class="form-value nowrap-text">${id}</div>\n            </div>\n            <div class="form-row">\n                <label>到期时间：</label>\n                <div class="form-value">${expireTime}</div>\n            </div>\n            <div class="form-row">\n                <label>续费时长：</label>\n                <div class="form-value">\n                    <span class="ui-group ui-select-group">\n                        <span data-ui-type="Select" data-ui-id="durationType"></span>\n                        <span data-ui-type="Select" data-ui-name="duration"\n                        data-ui-id="duration"></span>\n                    </span>\n                </div>\n            </div>\n            <div class="form-row">\n                <label>续费后到期时间：</label>\n                <div class="form-value">\n                    <div data-ui-type="Label" data-ui-id="expireTime"></div>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>\n\n<!-- target: TPL_common_order_recharge_child -->\n<!-- import: TPL_common_order_recharge -->\n\n<!-- target: TPL_common_eip_create_child -->\n<div class="eip-common-create">\n    <div data-ui-type="Tab" data-ui-id="eipProductType" class="bec-tab eip-common-tab">\n        <ul data-role="navigator" class="ui-tab-navigator">\n            <li class="ui-tab-item">\n                <span>预付费</span>\n            </li>\n            <li class="ui-tab-item">\n                <span>后付费</span>\n            </li>\n        </ul>\n    </div>\n    <div class="ui-tab-content">\n        <p class="realname-tip"\n            data-ui-id="toastLabel"\n            data-ui-type="ToastLabel"\n            data-ui-message-type="alert"\n            data-ui-hidden="true"\n            data-auth="verifiedUser,forbidden"\n            data-auth-whenfailnotbreak="true"\n            data-authtype="SHOW"></p>\n\n        <div class="create-main">\n            <form class="setting-form"\n                data-ui-type="Form"\n                data-ui-id="eipForm">\n                <div data-ui-id="eipBuyBucket" data-ui-type="BuyBucket"></div>\n                <div class="detail-parts-table">\n                    <dl class="detail-create-settings detail-create detail-part-1-col">\n                        <dt><h4>弹性公网IP配置信息</h4></dt>\n                        <dd><!-- import: TPL_common_partial_create_current_region --></dd>\n                        <dd>\n                            <label>名称：</label>\n                            <div>\n                                <input data-ui-type="TextBox"\n                                    data-ui-id="name"\n                                    data-ui-name="name"\n                                    data-ui-width="403" />\n                            </div>\n                        </dd>\n                        <dd class="eip-network-type">\n                            <label><i>*</i>公网带宽：</label>\n                            <div>\n                                <div data-ui-id="networkType"\n                                    data-ui-name="subProductType"\n                                    data-ui-type="RadioSelect"></div>\n                            </div>\n                        </dd>\n                        <dd class="eip-bandwidth">\n                            <label><i>*</i><span class="eip-bandwidth-title">公网带宽：</span></label>\n                            <div>\n                                <div data-ui-id="network"\n                                    data-ui-name="bandwidthInMbps"\n                                    data-ui-type="Dragger"></div>\n                            </div>\n                        </dd>\n                    </dl>\n                    <dl class="detail-create-buyinfo detail-create detail-part-1-col">\n                        <dt><h4>购买信息</h4></dt>\n                        <dd data-ui-type="Panel" data-ui-id="purchaseLengthPanel">\n                            <label>购买时长：</label>\n                            <div>\n                                <div data-ui-id="purchaseLength"\n                                    data-ui-name="purchaseLength"\n                                    data-ui-type="RadioSelect"\n                                    class="ui-radioselect-pl"></div>\n                            </div>\n                        </dd>\n                        <dd>\n                            <label>购买个数：</label>\n                            <div>\n                                <div data-ui-type="NumberTextline"\n                                    data-ui-id="purchaseNum"\n                                    data-ui-width="100"\n                                    data-ui-name="count"\n                                    class="purchase-num"></div>\n                                <!-- if: !${isFromBlbOrBcc} -->\n                                <span data-ui-type="Label" class="quota-tip">\n                                    最多可创建${quota.quotaTotal}个EIP实例，还可开通${quota.eipCreateAble}个\n                                </span>\n                                <!-- /if -->\n                            </div>\n                        </dd>\n                        <!-- if: ${isNotFromBlb} -->\n                        <dd>\n                            <span class="eip-purchase-tip">\n                                温馨提示：<br/>\n                                <!-- if: ${isRegionHK} -->\n                                于香港区域部署的网站服务无需进行备案操作，因此百度云不提供对此区域主机的备案服务。\n                                <!-- else: -->\n                                1. 弹性公网IP（EIP）需绑定在负载均衡（BLB）或预付费云服务器（BCC）上方可进行备案。\n                                <br/>\n                                2. 若您涉及网站部署并需要使用独立域名，请绑定弹性公网IP（EIP）并进行备案；目前暂不受理西藏地区备案业务，请慎重购买。\n                                <!-- /if -->\n                            </span>\n                        </dd>\n                        <!-- /if -->\n                    </dl>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n\n<!-- target: TPL_common_order_confirm -->\n<div class="order-confirm">\n    <div class="table-full-wrap">\n        <!-- if: ${prepayItems.length} > 0 -->\n            <div data-ui-type="Table" data-ui-id="prepay" data-ui-datasource="@prepayItems"></div>\n            <!-- if: ${isShowCoupon} -->\n                <div class="couponPanel">\n                    <div class="active-coupon">\n                        <a data-ui-id="activeLink" data-ui-type="Link" href="javascript:void(0)">+ 激活代金券</a>\n                        <a href="/finance/#/finance/coupon/list" target="_blank" class="finance-link">代金券管理</a>\n                        <div class="coupon-active-div">\n                            <form data-ui-type="Form" data-ui-id="activeform" data-ui-auto-validate="true" class="coupon-form">\n                                <input data-ui-type="TextBox" data-ui-id="couponName" data-ui-mode="text" data-ui-required="true" />\n                                <button data-ui-id="activeCoupon" data-ui-type="Button" data-ui-skin="ok">确认</button>\n                                <button data-ui-id="cancelActive" data-ui-type="Button" data-ui-skin="cancel">取消</button>\n                                <label data-ui-type="Validity" data-ui-id="couponNameValidity"></label>\n                            </form>\n                        </div>\n                    </div>\n                    <p class="coupon-tip">代金券（<span class="red">${couponCount}</span>张可用）</p>\n                    <div data-ui-type="Table" data-ui-id="couponTable" data-ui-extension-tableex-type="TableEx"></div>\n                </div>\n            <!-- /if -->\n        <!-- /if -->\n        <!-- if: ${postpayItems.length} > 0 -->\n        <div data-ui-type="Table" data-ui-id="postpay" data-ui-datasource="@postpayItems" class="postpay-table"></div>\n        <!-- /if -->\n        <div class="ui-row summary-row">\n            <!-- if: ${prepayItems.length} > 0 -->\n                <!-- import: TPL_common_billing_order_confirm_prepay_summary -->\n            <!-- else -->\n                <!-- import: TPL_common_billing_order_confirm_postpay_summary -->\n            <!-- /if -->\n            <div class="button-div">\n                <div class="postpay-tip">*后付费服务将根据使用情况从账户余额中扣除，请保证有足够的金额。</div>\n                <button data-ui="id:prevPage;type:Button;skin:stringfy">返回修改</button>\n                <button data-ui-id="confirmButton" data-ui-type="Button" class="confirm-button">去支付</button>\n                <!-- if: ${agreementList.length} > 0 -->\n                <div class="agree">\n                    <input type="checkbox" data-ui-type="CheckBox" data-ui-id="agree" data-ui-checked="true" class="agreeCheck" />已读\n                    <!-- for: ${agreementList} as ${item} -->\n                    <a target="_blank" href="${item.agreement}">《${item.name}（${item.serviceType}）服务条款》</a>\n                    <!-- /for --> \n                </div>\n                <!-- /if -->\n            </div>\n        </div>\n    </div>\n</div>\n\n<!-- target: TPL_common_order_confirm_child -->\n<!-- import: TPL_common_order_confirm -->\n\n<!-- target: TPL_global_announce -->\n<div class="announce">\n    <i class="iconfont icon-notice"></i>\n    <ul id="announce-list" class="content">\n        <!-- for: ${messages} as ${item} -->${item.content|raw}<!-- /for -->\n    </ul>\n    <div class="close">\n        <a href="javascript:void(0);" class="close-board"><i class="iconfont icon-close"></i></a>\n    </div>\n</div>\n\n<!-- target: TPL_global_sidebar_v5 -->\n<div tip="${i18n.总览}" class="sidebar-item overview"><a href="/${overviewUrl}"><i class="iconfont icon-overview"></i><span>${i18n.总览}</span></a></div>\n<div class="sidebar-divider"></div>\n<div class="sidebar-item service-overview">\n    <a href="javascript:void(0)">\n        <span>${i18n.产品服务}</span>\n        <i class="iconfont icon-arrow-right"></i>\n        <!-- if: ${displayBadge} --><i class="badge"></i><!-- /if -->\n    </a>\n    <div class="sub-menu service-list" id="serviceList">\n    </div>\n</div>\n<ul id="sidebar-products">\n</ul>\n<div class="sidebar-divider"></div>\n<!-- if: !${isSubUser} -->\n    <div tip="${i18n.财务中心}" class="sidebar-item">\n        <!-- if: ${FLAGS.enable_baixin} -->\n        <a href="/billing/#/order/list"><i class="iconfont icon-finance"></i><span title="${i18n.财务中心}">${i18n.财务中心}</span></a>\n        <!-- else -->\n        <a href="/billing/#/account/index"><i class="iconfont icon-finance"></i><span title="${i18n.财务中心}">${i18n.财务中心}</span></a>\n        <!-- /if -->\n    </div>\n    <!-- if: ${hasMultiUser} -->\n    <div tip="${i18n.多用户访问控制}" class="sidebar-item">\n        <a href="/iam/#/account/user/list"><i class="iconfont icon-iam-user"></i><span title="${i18n.多用户访问控制}">${i18n.多用户访问控制}</span></a>\n    </div>\n    <!-- /if -->\n    <!-- if: ${isAgent} -->\n    <div tip="${i18n.代理商管理}" class="sidebar-item">\n        <a href="/agent/#/agent/dashboard"><i class="iconfont icon-agent"></i><span title="${i18n.代理商管理}">${i18n.代理商管理}</span></a>\n    </div>\n    <!-- /if -->\n<!-- /if -->\n<div class="bottom-nav">\n    <!-- if: ${FLAGS.enable_custom_sidebar} && ${FLAGS.enable_sys_v3} -->\n    <a href="javascript:void(0)" class="custom-nav"><i class="iconfont icon-setting"></i> 自定义导航</a>\n    <!-- /if -->\n    <a class="toggle-nav-collapse collapse-nav" href="javascript:void(0)" tip="${i18n.展开/收起}"><i class="iconfont icon-collapse1"></i></a>\n</div>\n\n<!-- target: TPL_global_header_v5 -->\n<div class="header-select region">\n    <span class="region-text" id="region"></span>\n    <ul class="select-items region-select"></ul>\n</div>\n<div class="header-select user-info">\n    <a href="/iam/#/iam/baseinfo" class="username" id="username" title="${appVisitor.displayName}">${avatar}</a>\n    <div class="select-items user-nav<!-- if: ${isSubUser} --> sub-user-nav<!-- /if -->">\n\n        <!-- if: ${appVisitor.domainAccount.id} -->\n        <ul>\n            <li title="${appVisitor.displayName}" class="collaborator"><a>${i18n.子用户：}${appVisitor.displayName}</a></li>\n            <!-- if: !${FLAGS.enable_baixin} -->\n            <li title="${appVisitor.domainAccount.name}" class="collaborator"><a>${i18n.账户：}${appVisitor.domainAccount.name}</a></li>\n            <!-- else -->\n            <li title="${appVisitor.domainAccount.id}" class="collaborator"><a>${i18n.账户：}${appVisitor.domainAccount.id}</a></li>\n            <!-- /if -->\n            <li class="separator"></li>\n        </ul>\n        <!-- else -->\n        <div class="user-info-brief">\n            <ul class="verify-icons">\n                <li><a href="/qualify/#/qualify/index"><i title="${i18n.未实名认证}" class="iconfont icon-verify"></i></a></li>\n                <li><a href="/iam/#/iam/authinfo"><i title="${i18n.未绑定手机}" class="iconfont icon-verify-mobile"></i></a></li>\n                <li><a href="/iam/#/iam/authinfo"><i title="${i18n.未绑定邮箱}" class="iconfont icon-verify-email"></i></a></li>\n                <!-- if: ${isAgent} -->\n                <li><a href="/agent/#/agent/dashboard"><i class="iconfont icon-verify-agent verified"></i></a></li>\n                <!-- /if -->\n            </ul>\n            <a href="/iam/#/iam/baseinfo" class="username">${avatar}</a><a href="/iam/#/iam/baseinfo" title="${appVisitor.displayName}" class="username-full">${appVisitor.displayName}</a>\n        </div>\n        <!-- /if -->\n        <ul>\n            <!-- if: !${appVisitor.domainAccount.id} -->\n            <li class="user-menu"><a title="${i18n.用户中心}" href="/iam/#/iam/baseinfo"><i class="iconfont icon-myaccount"></i>${i18n.用户中心}</a></li>\n                <!-- if: !${FLAGS.enable_usercenter} -->\n                <li class="user-menu"><a title="${i18n.安全认证}" href="/qualify/#/qualify/index"><i class="iconfont icon-authinfo"></i>${i18n.安全认证}</a></li>\n                <!-- /if -->\n            <!-- /if -->\n            <!-- if: ${FLAGS.enable_usercenter} -->\n            <li class="user-menu"><a title="${i18n.安全认证}" href="/iam/#/iam/accesslist"><i class="iconfont icon-authinfo"></i>${i18n.安全认证}</a></li>\n            <!-- else -->\n            <li class="user-menu"><a href="/iam/#/iam/accesslist"><i class="iconfont icon-accesskey"></i>Access Key</a></li>\n            <!-- /if -->\n            <li class="user-menu" title="${i18n.退出}"><a href="${logoutUrl}" id="logout"><i class="iconfont icon-exit"></i>${i18n.退出}</a></li>\n        </ul>\n        <div class="user-info-tip">\n            ${i18n.财务中心、IAM已移至左侧导航}\n        </div>\n    </div>\n</div>\n<div class="lang-nav">\n    <a data-action="switch-zh" id="lang-zh" href="javascript:void(0);">中文</a>\n</div>\n<!-- if: !${FLAGS.is_online}-->\n<div class="flags-nav">\n    <a href="/?ed&no_xss&locale=zh-cn#/about/flags">开关配置</a>\n</div>\n<!-- /if -->\n\n<div class="doc-nav nav-item" title="${i18n.帮助文档}">\n    <a class="nav-item-link" href="javascript:void(0);" ><i class="iconfont icon-header-help"></i></a>\n    <ul class="sub-nav doc-sub">\n        <li title="${i18n.入门指南}">\n            <a href="https://cloud.baidu.com/doc/StartGuide/index.html" target="_blank">${i18n.入门指南}</a>\n        </li>\n        <li title="${i18n.产品文档}">\n            <a href="https://cloud.baidu.com/doc/index.html" target="_blank">${i18n.产品文档}</a>\n        </li>\n        <li title="${i18n.开发者资源}">\n            <a href="https://cloud.baidu.com/doc/Developer/index.html" target="_blank">${i18n.开发者资源}</a>\n        </li>\n        <li title="${i18n.常见问题}">\n            <a href="https://cloud.baidu.com/doc/FAQ/index.html" target="_blank">${i18n.常见问题}</a>\n        </li>\n    </ul>\n</div>\n<!-- if: !${isSubUser} && !${FLAGS.enable_baixin} -->\n<div class="msg-nav" title="${i18n.站内信}">\n    <a href="/mc/#/mc/letterlist"><i class="iconfont icon-header-message"></i><div id="msgCount" class="count"></div></a>\n</div>\n\n<div class="ticket-nav" title="${i18n.工单}"><i class="iconfont icon-ticket"></i><span id="ticketCount" class="count">0</span>\n    <div class="ticket-list" id="ticketList"></div>\n</div>\n<!-- /if -->\n\n\n<!-- if: !${FLAGS.enable_baixin} -->\n<div class="search">\n    <div class="bg"></div>\n    <div class="content">\n        <form id="header-search-form" action="https://cloud.baidu.com/search.html" target="_blank">\n            <input type="text" id="header-search-input" name="q" class="input" />\n            <button type="submit" class="button" id="header-search-button"></button>\n        </form>\n    </div>\n</div>\n<!-- /if -->\n\n\n<!-- target: TPL_global_sidebar_products -->\n<!-- for: ${shortcutServices} as ${service} -->\n<li tip="${service.name}" class="sidebar-item">\n    <a href="${service.url}"><i class="iconfont ${service.icon}"></i><span title="${service.name}"> ${service.name}</span></a>\n</li>\n<!-- /for -->\n<!-- target: TPL_global_unfinishedTicketList -->\n<h2>${i18n.待处理工单：}</h2>\n<!-- if: ${unfinishedCount} > 0 -->\n<ul>\n<!-- for: ${ticketList} as ${ticketItem} -->\n    <li>\n        <a href="${ticketDomain}/#/ticket/detail~ticketId=${ticketItem.id}" class="title" target="_blank">${ticketItem.title}</a>\n        <span class="ticket-status ${ticketItem.classname}">${ticketItem.status}</span>\n    </li>\n<!-- /for -->\n</ul>\n<!-- /if -->\n<p class="ticket-list-foot">\n    <a data-category="ticket" data-action="create" href="${ticketDomain}/#/ticket/create" target="_blank" class="ui-ctrl ui-button skin-create skin-create-button">${i18n.新建工单}</a>\n    <a data-category="ticket" data-action="more" href="${ticketDomain}/#/ticket/list" target="_blank" class="more-link">${i18n.全部工单}</a>\n</p>\n\n<!-- target: TPL_global_region_list -->\n<!-- for: ${regionList} as ${regionItem} -->\n<!-- if: ${regionItem.globalTip} === true -->\n<li title="${regionItem.text}"><span class="select-item disable-item global-region-tip"><i class="iconfont icon-block"></i>${regionItem.text}</span></li>\n<!-- elif: ${regionItem.supported} === false -->\n<li><span class="select-item disable-item" data-region="${regionItem.regionId}"><i class="iconfont icon-block"></i>${regionItem.text|raw}</span></li>\n<!-- else -->\n<li title="${regionItem.text}"><span class="select-item region-${regionItem.regionId}" data-region="${regionItem.regionId}"><i class="iconfont icon-location"></i>${regionItem.text}</span></li>\n<!-- /if -->\n<!-- /for -->\n\n<!-- target: TPL_global_service_list -->\n<table><tr>\n<!-- for: ${groups} as ${group} -->\n<!-- if: ${group.type} === \'seperator\' -->\n</tr><tr>\n<!-- else: -->\n<td class="sub-nav-section">\n    <h3>${group.name}</h3>\n    <ul>\n    <!-- for: ${group.services} as ${service}, ${key} -->\n    <li>\n        <a data-category="service_list" data-action="${key}" class="${service.status}<!-- if: ${service.disabled} --> state-disabled<!-- /if -->"\n            <!-- if: !${service.disabled} -->href="${service.showUrl}"<!-- /if -->\n            <!-- if: ${service.newWindow} -->target="_blank"<!-- /if -->\n            title="<!-- if: ${service.title} -->${service.title}<!-- else -->${service.name}<!-- /if -->">\n            <i class="iconfont ${service.icon}"></i>\n            ${service.name}\n            <!-- if: ${service.abbr}-->${service.abbr}<!-- /if -->\n            <!-- if: ${service.badgeNew}--><i class="badge">New</i><!-- /if -->\n        </a>\n    </li>\n    <!-- /for -->\n    </ul>\n</td>\n<!-- /if -->\n<!-- /for -->\n</tr></table>\n\n<!-- target: TPL_global_sidebar -->\n<li class="area">${i18n.全局}</li>\n<li class="menu-header">${sidebarTitle}</li>\n<!-- for: ${sidebars} as ${sidebar} -->\n<li class="menu-item menu-item-common ${sidebar.sidetype}"\n    sidetype="${sidebar.sidetype}">\n    <a href="${sidebar.url}"><i class="iconfont icon-${sidebar.sidetype}"></i>${sidebar.name}</a>\n</li>\n<!-- /for -->\n\n\n<!-- target: TPL_global_yeying -->\n<div class="yeying">\n    <div class="yeying-icon" title="点击开启智能云秘">\n        <div class="yeying-logo">\n            <a target="_blank" href="https://ikefu.baidu.com/web/kaifangyun">\n                <img src="${imageUrl}" width="80" height="40" />\n            </a>\n        </div>\n        <!--\n        <div class="yeying-about">\n            <i class="i-yy i-yy-question"></i>\n        </div>\n        -->\n    </div>\n    <div class="yeying-form yeying-form-hidden">\n        <div class="yeying-close"><i class="i-yy i-yy-x"></i></div>\n        <div class="yeying-nav">\n            <!-- import: TPL_global_yeying_nav -->\n        </div>\n        <form method="GET" action="https://ikefu.baidu.com/web/kaifangyun" target="_blank">\n            <div class="yeying-form-item" id="yy-question"></div>\n            <div class="yeying-form-item">\n                <textarea name="firstQuery" placeholder="请用一句话简要描述您的问题"></textarea>\n            </div>\n            <div class="yeying-form-item">\n                <button type="submit">提交问题</button>\n            </div>\n        </form>\n    </div>\n</div>\n\n<!-- target: TPL_global_yeying_question -->\n<p>您可能遇到的问题</p>\n<ul class="hot-questions">\n    <!-- for: ${hotQuestions} as ${hq} -->\n    <li><a href="https://ikefu.baidu.com/web/kaifangyun?firstQuery=${hq}" target="_blank">${hq}</a> </li>\n    <!-- /for -->\n</ul>\n\n\n<!-- target: TPL_global_yeying_nav -->\n<ul>\n    <li><i class="i-yy i-yy-doc"></i><a href="${docUrl}" target="_blank" data-action="help">帮助文档</a></li>\n    <li class="sep">|</li>\n    <li><i class="i-yy i-yy-price"></i><a href="${priceUrl}" target="_blank" data-action="price">产品价格</a></li>\n    <li class="sep">|</li>\n    <li><i class="i-yy i-yy-bbs"></i><a href="${bbsUrl}" target="_blank" data-action="bbs">产品论坛</a></li>\n</ul>\n\n<!-- target: TPL_common_eip_bind -->\n<div class="common-eip-bind">\n    <div class="form-data-body">\n        <div class="form-row">\n            <div class="form-key">公网IP：</div>\n            <div class="form-value ui-boxgroup-vertical">\n                <label class="ui-boxgroup-radio ui-boxgroup-wrapper">\n                    <input type="radio" id="ifBuyNewNo" name="ifBuyNew" value="no" checked="checked"/>\n                    <div data-ui-type="Select"\n                        data-ui-id="eip"\n                        data-ui-name="eip"\n                        class="eip-select"></div>\n                </label>\n                <label class="ui-boxgroup-radio ui-boxgroup-wrapper">\n                    <input type="radio" id="ifBuyNewYes" name="ifBuyNew" value="yes"/>\n                    <span for="ifBuyNewYes">购买新的弹性公网IP</span>\n                </label>\n            </div>\n        </div>\n    </div>\n</div>\n\n<!-- target: TPL_common_eip_bind_child -->\n<!-- import: TPL_common_eip_bind -->\n';
}),define("common/ContextProivder",["exports","module","babel-runtime/helpers/class-call-check","./user","babel-runtime/helpers/interop-require-default","./flags","./constants","./region"],function(exports,module,e,t,i,n,r,a){var o=i["default"](t),s=i["default"](n),A=i["default"](r),B=i["default"](a),C=function(){function t(){e["default"](this,t)}return t.prototype.get=function(){var e=B["default"].getCurrentRegion();return{constants:A["default"],FLAGS:s["default"],region:e,user:o["default"]}},t}();module.exports=C}),define("common/monitor/plugin/link",["exports","module","underscore","babel-runtime/helpers/interop-require-default","jquery","inf-monitor/logger"],function(exports,module,e,t,i,n){function r(e){return s["default"](e).parents().toArray().reverse().map(function(e){if(e.id)return"[@id='"+e.id+"']";else if(e.className)return"[@class='"+e.className+"']";var t=e.tagName.toLowerCase(),i=s["default"](e).prevAll(t);return 0===i.length?""+t:t+"[prevAll.length]"}).join("/")}function a(){s["default"](document).on("click","a",function(e){if(e.target&&e.target.innerHTML)A["default"].log("link-click",{href:e.target.href||"nil",id:e.target.id||"nil",content:e.target.innerHTML.replace(/\r?\n/g,""),xpath:r(e.target)})})}var o=t["default"](e),s=t["default"](i),A=t["default"](n);module.exports={activate:o["default"].once(a)}}),define("common/monitor/plugin/ajax",["exports","module","underscore","babel-runtime/helpers/interop-require-default","bat-ria/io/serverIO","inf-monitor/logger"],function(exports,module,e,t,i,n){function r(){var e=o["default"].hooks.afterFailure||a["default"].noop;o["default"].hooks.afterFailure=function(t,i){return s["default"].log("ajax-failure",{url:i.getRequestOption("url"),request:{id:i.getResponseHeader("x-bce-request-id")||"nil",params:JSON.stringify(i.getRequestOption("data")),method:i.getRequestOption("method"),timeout:i.getRequestOption("timeout")},xhr:{status:i.status,readyState:i.readyState,responseText:i.responseText},message:t,spent:(new Date).getTime()-i.getRequestOption("startTime")}),e(t,i)}}var a=t["default"](e),o=t["default"](i),s=t["default"](n);module.exports={activate:a["default"].once(r)}}),define("common/monitor/plugin/ui",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","lodash","babel-runtime/helpers/interop-require-default","esui/main","esui/Extension","inf-ria/ui/extension/TableCustomFields","inf-monitor/logger"],function(exports,module,e,t,i,n,r,a,o,s,A){var B=r["default"](n),C=r["default"](a),D=r["default"](o),l=r["default"](s),E=r["default"](A),u="LogExtension",c=function(n){function r(){i["default"](this,r),n.apply(this,arguments)}return e["default"](r,n),r.prototype.activate=function(){var e=this,t=this.target,i="ui-"+t.type.toLowerCase()+"-";t.on("afterrender",function(){switch(t.type){case"Tip":var n=t.getChild("layer");if(n)n.on("show",function(){e.log({target:i+"show",id:t.id,title:n.title,content:n.content,foot:n.foot})});break;case"Clipboard":t.on("aftercopy",function(){e.log({target:i+"copy",id:t.id,clipboardText:t.clipboardText})});break;case"ToggleButton":t.on("change",function(n){e.log({target:i+"change",id:t.id,newValue:n.target.getValue()})});break;case"Table":t.on("ext-fieldchanged",function(n){if(n.newData.join(",")!==n.oldData.join(","))e.log({target:i+"customfield-change",id:t.id,newValue:n.newData.join(","),oldValue:n.oldData.join(",")})}),t.on("saveedit",function(n){e.log({target:i+"edit-save",id:t.id,newValue:n.value,rowIndex:+n.rowIndex,columnIndex:+n.columnIndex,field:{name:n.field.field,title:n.field.title}})}),t.on("sort",function(n){e.log({target:i+"sort",id:t.id,order:n.order,field:{name:n.field.field,title:n.field.title}})}),t.on("filter",function(n){var r=n.target.fields[+n.fieldIndex];e.log({target:i+"filter",id:t.id,columnIndex:+n.fieldIndex,filter:{text:n.text,value:n.value},field:{name:r.field,title:r.title}})});var r=B["default"].find(t.extensions,function(e){return e instanceof l["default"]});t.on("bodyChange",function(n){var a={target:i+"show",id:t.id,isCustomFieldsActivated:r&&r.active};if(a.isCustomFieldsActivated)a.fields=r.currentFields,a.allFields=r.allFields;else a.fields=B["default"].map(t.fields,function(e){return e.field||e.title});e.log(a)});break;case"TableCustomFieldsInterface":t.on("quickset",function(n){e.log({target:i+"quickset",id:t.id,tableId:t.parent.id,command:n.command})});break;case"Dialog":case"ActionDialog":t.on("close",function(n){e.log({target:i+"close",id:t.id,title:t.title,content:t.content})});break;case"BucketSelect":t.on("click",function(n){e.log({target:i+"click",id:t.id,value:t.getValue()})}),t.on("create",function(n){e.log({target:i+"create",id:t.id})});break;default:t.on("click",function(){e.log({target:i+"click",id:t.id,content:t.content})}),t.on("change",function(n){e.log({target:i+"change",id:t.id,newIndex:+n.target.get("selectedIndex"),newValue:n.target.getValue()})})}t.on("command",function(n){e.log({target:i+"command",id:t.id,command:n.name,args:n.args,triggerType:n.triggerType})})}),n.prototype.activate.call(this)},r.prototype.inactivate=function(){n.prototype.inactivate.call(this)},r.prototype.log=function(e){try{E["default"].log(e)}catch(t){}},t["default"](r,[{key:"type",get:function(){return u}}]),r}(D["default"]);C["default"].registerExtension(c),module.exports={activate:function(){C["default"].attachExtension(u,{})}}}),define("common/monitor/main",["exports","module","inf-monitor/config","babel-runtime/helpers/interop-require-default","inf-monitor/hook","inf-monitor/logger","promise","jquery","er/events","./plugin/link","./plugin/ajax","./plugin/ui"],function(exports,module,e,t,i,n,r,a,o,s,A,B){function C(){d["default"].activate(),f["default"].activate(),h["default"].activate()}var D=t["default"](e),l=t["default"](i),E=t["default"](n),u=t["default"](r),c=t["default"](a),F=t["default"](o),d=t["default"](s),f=t["default"](A),h=t["default"](B);module.exports={activate:function(){D["default"].limit.queue=10,l["default"].send=function(e){return new u["default"](function(t,i){c["default"].ajax({method:"POST",url:"/api/log/csi",dataType:"json",headers:{"Content-Type":"application/json; charset=UTF-8","X-Request-By":"ERApplication"},data:JSON.stringify(e),success:t,error:i})})},F["default"].once("enteraction",function(){l["default"].canSend=!0;var e={target:"system-user-enter",referrer:document.referrer||"-"};if(window.performance)if(window.performance.timing.toJSON)e.timing=window.performance.timing.toJSON();else{e.timing={};for(var t in window.performance.timing)if(window.performance.timing.hasOwnProperty(t)&&"number"==typeof window.performance.timing[t])e.timing[t]=window.performance.timing[t]}E["default"].log(e)}),C(),window.onbeforeunload=function(){E["default"].cache()}}}}),define("common/i18n/ui",["exports","underscore","babel-runtime/helpers/interop-require-default","inf-i18n","esui/RangeCalendar","esui/Dialog","esui/Table","esui/extension/TableEdit"],function(exports,e,t,i,n,r,a,o){exports.__esModule=!0;var s=t["default"](e),A=t["default"](i),B=t["default"](n),C=t["default"](r),D=t["default"](a),l=t["default"](o),E=[function(){B["default"].defaultProperties.shownShortCut=[A["default"]("昨天"),A["default"]("最近7天"),A["default"]("上周"),A["default"]("本月"),A["default"]("上个月"),A["default"]("上个季度")].join(",");var e=B["default"].defaultProperties.shortCutItems;s["default"].each(e,function(e){e.name=A["default"](e.name)});var t=B["default"].prototype.repaint;B["default"].prototype.repaint=function(){t.apply(this,arguments);var e=this.getChild("okBtn");e&&e.setContent(A["default"]("确定"));var i=this.getChild("cancelBtn");i&&i.setContent(A["default"]("取消"))}},function(){C["default"].OK_TEXT=A["default"]("确定"),C["default"].CANCEL_TEXT=A["default"]("取消")},function(){s["default"].extend(D["default"].defaultProperties,{noDataHtml:A["default"]("没有数据"),subEntryOpenTip:A["default"]("点击展开"),subEntryCloseTip:A["default"]("点击收起")}),l["default"].okText=A["default"]("确定"),l["default"].cancelText=A["default"]("取消")}],u=function(){s["default"].each(E,function(e){e()})};exports.activate=u}),define("common/startup",["exports","module","./tpl","./i18n","underscore","babel-runtime/helpers/interop-require-default","er/config","inf-ria/helper","./region","./header","./flags","./App","./ContextProivder","./monitor/main","./i18n/ui","./extension/framework","./extension/ui","./extension/mfa","./extension/ajax","./extension/sentry","./extension/tracker","./extension/sw","./extension/rst"],function(exports,module,e,t,i,n,r,a,o,s,A,B,C,D,l,E,u,c,F,d,f,h,p){function H(e){var t=new v["default"](e);return t.initialize(),t}function G(e){if(e.index)I["default"].indexURL=e.index;var t=(new Date).getTime(),i=new v["default"](e);return i.start().then(function(){if(g["default"].checkSupport(),J["default"].activate(),!L["default"].is_online){var e=(new Date).getTime(),i="load-time";if(L["default"].enable_sw&&"serviceWorker"in navigator)i="load-time-sw";T["default"].trackEvent(i,"app-start",a.getAppName(location.pathname),Math.max(e-t,1))}})}var m=n["default"](i),I=n["default"](r),g=n["default"](o),J=n["default"](s),L=n["default"](A),v=n["default"](B),M=n["default"](C),y=n["default"](D),K=n["default"](l),N=n["default"](E),b=n["default"](u),P=n["default"](c),O=n["default"](F),S=n["default"](d),T=n["default"](f),x=n["default"](h),_=n["default"](p);if(N["default"].activate(new M["default"],g["default"]),b["default"].activate(),P["default"].activate(),O["default"].activate(),K["default"].activate(),T["default"].activate(),L["default"].enable_sw)x["default"].activate();if(L["default"].enable_rst)_["default"].activate();if(!L["default"].is_ticket&&!L["default"].enable_baixin)y["default"].activate();if(!L["default"].is_online&&L["default"].enable_sentry)S["default"].activate();module.exports={initialize:H,start:G,stop:m["default"].noop}}),define("common/sidebar",["exports","module","underscore","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){function i(){}var n=t["default"](e);module.exports={setSiderbarHeight:n["default"].noop,activate:n["default"].once(i)}}),define("common/header",["exports","module","underscore","babel-runtime/helpers/interop-require-default","er/events","./component/header/message_notifier","./component/header/service_list","./component/header/broadcast","./flags","./constants","./component/header/prepare","./component/header/search_box","./component/header/region_switcher","./component/header/highlight_menu","./component/header/default_view_v5","./component/header/history","./component/header/yeying","./component/header/sidebar","./component/header/events","./ioc"],function(exports,module,e,t,i,n,r,a,o,s,A,B,C,D,l,E,u,c,F,d){function f(){if(m["default"].activate(),new L["default"](G["default"]).render(),new g["default"](G["default"]),new y["default"](G["default"]),new J["default"](G["default"]).render(),K["default"].getComponent("messageNotifierComponent",function(e){return e.render()}),K["default"].getComponent("serviceListComponent",function(e){return e.render()}),K["default"].getComponent("broadcastComponent",function(e){return e.render()}),(new I["default"]).render(),(new v["default"]).render(),!H["default"].enable_baixin)(new M["default"]).render();p["default"].fire(F.SERVICES_CHANGED),p["default"].fire(F.REGION_CHANGED)}var h=t["default"](e),p=t["default"](i),H=t["default"](o),G=t["default"](s),m=t["default"](A),I=t["default"](B),g=t["default"](C),J=t["default"](D),L=t["default"](l),v=t["default"](E),M=t["default"](u),y=t["default"](c),K=t["default"](d);module.exports={renderServiceList:function(){p["default"].fire(F.SERVICES_CHANGED)},renderRegion:function(e,t){p["default"].fire(F.REGION_CHANGED,{id:e,globalOnly:t})},activate:h["default"].once(f)}}),define("common/extension/ui",["exports","module","underscore","babel-runtime/helpers/interop-require-default","esui/Pager"],function(exports,module,e,t,i){function n(){a["default"].defaultProperties={pageSizes:[],pageType:"anchor",backText:"<",forwardText:">",pageSize:10,backCount:4,forwardCount:4}}var r=t["default"](e),a=t["default"](i);module.exports={activate:r["default"].once(n)}}),define("common/extension/sw",["exports","module","underscore","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){function i(){if("serviceWorker"in navigator)navigator.serviceWorker.register("/sw.nocache.js").then(function(e){return console.log("ServiceWorker registration successful with scope: ",e.scope)})["catch"](function(e){return console.log("ServiceWorker registration failed: ",e)})}var n=t["default"](e);module.exports={activate:n["default"].once(i)}}),define("common/extension/sentry",["exports","module","underscore","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){function i(){setTimeout(function(){window.require.config({ 'paths': { 'Raven': 'https://bce.bdstatic.com/console/ravenjs/3.12.1/raven.min' } }),window.require(["Raven"],function(e){e.config("https://d814f43edd4748cc931715e8f359b4a0@sentry.io/117116").install()})},5e3)}var n=t["default"](e);module.exports={activate:n["default"].once(i)}}),define("common/extension/tracker",["exports","module","underscore","babel-runtime/helpers/interop-require-default","er-track","../flags"],function(exports,module,e,t,i,n){function r(){var e=o["default"].create();if(e.includeAll(),!s["default"].is_ticket&&!s["default"].enable_baixin)e.use("bce");if(/\bed\b/.test(location.search)&&/localhost/.test(location.host))e.use("console"),e.use("baidu").setAccount("5590ff9e1a9aec85e8e45b66baf9eb36");else if(/qasandbox\.bcetest\.baidu\.com/.test(location.host))e.use("baidu").setAccount("144fca2c5edd1e796247c439f1d31dd1");else if(/(ticket|console)\.bce\.baidu\.com$/.test(location.host))e.use("baidu").setAccount("28a17f66627d87f1d046eae152a1c93d");e.start()}var a=t["default"](e),o=t["default"](i),s=t["default"](n);module.exports={trackEvent:function(e,t,i,n){if(window._hmt)window._hmt.push(["_trackEvent",e,t,i,n])},activate:a["default"].once(r)}}),define("common/extension/rst",["exports","module","promise","babel-runtime/helpers/interop-require-default","underscore","./tracker"],function(exports,module,e,t,i,n){function r(){return performance.getEntriesByType("resource").filter(function(e){var t=e.initiatorType,i=e.name;return("script"===t||"link"===t)&&0===i.indexOf(E)&&-1===i.indexOf("loadjs.js")})}function a(e){var t=0;return e.forEach(function(e){if(e.startTime&&e.responseEnd)t+=Math.max(e.responseEnd-e.startTime,0)}),{totalTime:t}}function o(e){return new A["default"](function(t,i){function n(e){t(e.data),r()}function r(){document.body.removeChild(o),window.removeEventListener("message",n,!1)}var a=['<!doctype html><html><head><meta charset="utf-8" />'];a.push("\n        <script type=\"text/javascript\">\n        window.onload = function () {\n            var totalTime = 0;\n            performance.getEntriesByType('resource').forEach(function (item) {\n                var initiatorType = item.initiatorType;\n                if (initiatorType !== 'script' && initiatorType !== 'link') {\n                    return;\n                }\n                if (item.startTime && item.responseEnd && item.name.indexOf('esl.js') === -1) {\n                    totalTime += Math.max(item.responseEnd - item.startTime, 0);\n                }\n            });\n            var timing = {\n                totalTime: totalTime\n            };\n            parent.postMessage(timing, '*');\n        }\n        </script>\n        <script src=\"https://bce.bdstatic.com/ecom/esl/2-1-6/esl.js\"></script>\n        "),e.forEach(function(e){var t=e.initiatorType,i=e.name,n=i.replace("console.bce.baidu.com","bcecdn.bdimg.com");if("script"===t)a.push('<script type="text/javascript" src="'+n+'"></script>');else if("link"===t)a.push('<link rel="stylesheet" type="text/css" href="'+n+'" />')}),a.push("</head><body></body></html>");var o=document.body.appendChild(document.createElement("DIV"));o.style.display="none",o.innerHTML='<iframe src="javascript:;"></iframe>',window.addEventListener("message",n,!1);var s=o.firstChild,A=s.contentDocument||s.contentWindow.document;A.open(),A.write(a.join("\n")),A.close()})}function s(){if("object"==typeof performance&&"function"==typeof performance.getEntriesByType)setTimeout(function(){var e=r(),t=a(e);if(t.totalTime){var i=parseInt(t.totalTime,10);C["default"].trackEvent(D,l,"src",i)}o(e).then(function(e){if(e.totalTime){var t=parseInt(e.totalTime,10);C["default"].trackEvent(D,l,"cdn",t)}})},15e3)}var A=t["default"](e),B=t["default"](i),C=t["default"](n),D="rst",l="loaded",E=location.protocol+"//"+location.host+"/asset/common";module.exports={activate:B["default"].once(s)}}),define("common/extension/mfa",["exports","module","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","promise","bat-ria/io/mfa_check","../component/MFACheck"],function(exports,module,e,t,i,n,r,a){function o(){B["default"].registerImpl(function(e,t){var i={mobile:t.message.detail.mobile,errormsg:t.message.description};return new D(i)})}var s=i["default"](t),A=i["default"](n),B=i["default"](r),C=i["default"](a),D=function(){function t(i){e["default"](this,t),this.config=i,this.checker=null}return t.prototype.getAuthorizationCode=function(){var e=this;return new A["default"](function(t,i){e.checker=new C["default"]({data:e.config}),e.checker.show(),e.checker.on("ok",function(e){return t(e.data)}),e.checker.on("cancel",i)})},t.prototype.hide=function(){if(this.checker)this.checker.hide()},t}();module.exports={activate:s["default"].once(o)}}),define("common/extension/framework",["exports","module","underscore","babel-runtime/helpers/interop-require-default","etpl","etpl-filters","er/locator","er/View","er/Action","bat-ria/mvc/BaseModel","bat-ria/mvc/FormModel","bat-ria/mvc/ListModel"],function(exports,module,e,t,i,n,r,a,o,s,A,B){function C(e,t){var i;E["default"].activate(l["default"]),c["default"].prototype.dispose=D["default"].noop,F["default"].prototype.filterRedirect=function(e){if(t.isSupport(e))return!0;else return u["default"].redirect("/region/404"),!1},d["default"].prototype.defaultDatasource=(i={},i[p]=function(t){return e.get()},i),h["default"].prototype.defaultDatasource[p]=function(t){return e.get()},f["default"].prototype.defaultDatasource[p]=function(t){return e.get()}}var D=t["default"](e),l=t["default"](i),E=t["default"](n),u=t["default"](r),c=t["default"](a),F=t["default"](o),d=t["default"](s),f=t["default"](A),h=t["default"](B),p="consoleContext";module.exports={activate:D["default"].once(C)}}),define("common/hook/xhr-fallbacks",["exports","module"],function(exports,module){function e(e){return{success:!0,result:e}}module.exports={"/api/mc/letter/unreadcount":e({unreadCount:0}),"/api/ticket/unfinished":e({unfinishedCount:0,unfinishedList:[]}),"/region/get":e({regionId:"bj"}),"/api/region/set":e({})}}),define("common/extension/ajax",["exports","module","underscore","babel-runtime/helpers/interop-require-default","inf-i18n","er/ajax","bat-ria/io/serverIO","saber-cookie","../hook/xhr-fallbacks","../user","../region","./tracker"],function(exports,module,e,t,i,n,r,a,o,s,A,B){function C(e){return 0===e.indexOf("/api/bcm/website/")||0===e.indexOf("/api/bcm/fc/")}var D=t["default"](e),l=t["default"](i),E=t["default"](n),u=t["default"](r),c=t["default"](a),F=t["default"](o),d=t["default"](s),f=t["default"](A),h=t["default"](B),p=E["default"].hooks.serializeData;E["default"].hooks.serializeData=function(e,t,i){if("application/json"===i)return JSON.stringify(t)||"";else return p.call(E["default"].hooks,e,t,i)},E["default"].hooks.serializeData.getKey=function(e,t){return t?t+"."+e:e},E["default"].hooks.beforeSend=function(e,t){e.setRequestHeader("X-Request-By","ERApplication");var i=c["default"].get("bce-user-info"),n=t.region||f["default"].getCurrentRegion().id,r="";if("global"===n||C(t.url))r="bj";else r=n;if(i)e.setRequestHeader("csrftoken",i.replace(/"/g,""));if(""!==n)e.setRequestHeader("X-Region",r)},u["default"].hooks.beforeSuccess=function(e,t){var i=t.getRequestOption("url");if(e.success===!1&&e.message.global){var n=D["default"].deepClone(F["default"][i]);if(null!=n)return h["default"].trackEvent("xhr-fallbacks",i),n}else if(e.success===!0&&"/api/account/get_myaccount"===i)if("function"==typeof d["default"].initBalanceAndDebt)d["default"].initBalanceAndDebt(e.result);return e},u["default"].hooks.beforeFailure=function(e){var t=e.getRequestOption("url"),i=D["default"].deepClone(F["default"][t]);if(null!=i)return h["default"].trackEvent("xhr-fallbacks",t),i;var n=e.responseText;if(n&&n.length>0)try{JSON.parse(n)}catch(r){return null}return null},u["default"].post=function(e,t,i){var n=D["default"].extend({},i,{method:"POST"});return e+=e.indexOf("?")>0?"&":"?",e+="locale="+l["default"].getLanguage(),u["default"].request(e,t,n)},module.exports={activate:D["default"].noop}}),define("common/eip/BindModel",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","bat-ria/mvc/BaseModel"],function(exports,module,e,t,i,n,r){var a=n["default"](i),o=n["default"](r),s=function(i){function n(){t["default"](this,n);for(var e=arguments.length,r=Array(e),o=0;e>o;o++)r[o]=arguments[o];i.call.apply(i,[this].concat(r)),this.datasource={eipList:function(e){var t=e.get("listRequester");return t({}).then(function(e){var t=[{name:"选择已有弹性公网IP",value:""}];if(e&&e.length)a["default"].each(e,function(e){if("available"===e.status)t.push({name:e.eip,value:e.eip})});return t})}}}return e["default"](n,i),n}(o["default"]);module.exports=s}),define("common/eip/BindView",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","inf-ria/tpl!common/tpl","jquery","babel-runtime/helpers/interop-require-default","bat-ria/mvc/BaseView"],function(exports,module,e,t,i,n,r,a){var o=r["default"](n),s=r["default"](a),A=function(i){function n(){t["default"](this,n),i.call(this),this.template="TPL_common_eip_bind",this.uiEvents={"eip:change":function(e){if(!e.target.getValue())this.setBtnOkStatus(!1);else this.setBtnOkStatus(!0)}},this.uiProperties={eip:{datasource:"@eipList",emptyText:"没有合适的EIP",selectedIndex:"0",width:155}}}return e["default"](n,i),n.prototype.enterDocument=function(){var e=this;i.prototype.enterDocument.call(this),o["default"]("input[name=ifBuyNew]").on("change",function(t){var i=t.currentTarget;if("no"===i.value&&!e.get("eip").getValue())e.setBtnOkStatus(!1);else e.setBtnOkStatus(!0)})},n.prototype.setBtnOkStatus=function(e){var t=this.model.get("parentAction").view.get("btnFootOk");t[e?"enable":"disable"]()},n}(s["default"]);module.exports=A}),define("common/eip/Bind",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","bat-ria/mvc/BaseAction","babel-runtime/helpers/interop-require-default","./BindView","./BindModel"],function(exports,module,e,t,i,n,r,a,o){var s=r["default"](n),A=r["default"](a),B=r["default"](o),C=function(n){function r(){i["default"](this,r),n.apply(this,arguments)}return e["default"](r,n),t["default"](r,[{key:"modelType",get:function(){return B["default"]}},{key:"viewType",get:function(){return A["default"]}}]),r}(s["default"]);module.exports=C}),define("common/config/initData",["exports","module","underscore","babel-runtime/helpers/interop-require-default","bce-sdk-js/date","../enum","../region","../constants","../flags","../user","./api","../component/header/helper"],function(exports,module,e,t,i,n,r,a,o,s,A,B){function C(e,t){F["default"].init(e,t),D["default"].extend(u["default"],t);try{var i=new Date(t.systemTimestamp).getTime()-(new Date).getTime();l["default"].setDelta(i/1e3)}catch(r){}if(c["default"].enable_sys_v3){if(u["default"].services&&u["default"].services.length){var a=f["default"].transformK(u["default"].services),o=a.SERVICE_TYPE,s=a.SERVICE_LAYOUT;u["default"].SERVICE_TYPE=o,u["default"].SERVICE_LAYOUT=s}delete u["default"].services,delete u["default"].serviceLayout,delete u["default"].serviceTypes}if(!c["default"].is_ticket)return d["default"].regionAvailable().then(function(e){u["default"].regionAvailable=[n.AllRegion.GLOBAL,n.AllRegion.CNN1].concat(e||[]),u["default"].REGION=n.AllRegion.getRegionMap(u["default"].regionAvailable),D["default"].each(u["default"].SERVICE_TYPE,function(e){e.region=n.AllRegion.getRegionMap(D["default"].intersection(e.region,u["default"].regionAvailable))})}).ensure(function(){if(!f["default"].shouldHideNavigation())return d["default"].getRegion().then(function(e){return E["default"].setCurrentRegion(e.regionId)});else return void 0});else return void 0}module.exports=C;var D=t["default"](e),l=t["default"](i),E=t["default"](r),u=t["default"](a),c=t["default"](o),F=t["default"](s),d=t["default"](A),f=t["default"](B)}),define("common/config/api",["exports","module","saber-cookie","babel-runtime/helpers/interop-require-default","er/Deferred","bat-ria/util","bat-ria/io/serverIO","../region","../flags"],function(exports,module,e,t,i,n,r,a,o){function s(){var e=D["default"].get("bce-login-display-name"),t=D["default"].get("bce-login-domain-account"),i=D["default"].get("bce-login-accountid");if(F["default"].enable_baixin&&i)i=i.split("|")[0];var n=D["default"].get("bce-login-type"),r={displayName:e?decodeURIComponent(e):"百度云用户",domainAccount:{id:i,name:t},loginType:n};return l["default"].resolved(r)}function A(e){var t="function"==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;if(!t)return e;if(window.G_CONSOLE_ENDPOINT)e=window.G_CONSOLE_ENDPOINT+e;return e}function B(e,t){if("undefined"!=typeof window.G_SYSTEM_CONSTANTS)return l["default"].resolved(window.G_SYSTEM_CONSTANTS);var i=F["default"].enable_sys_v3?A("/system/constants"):A("/api/system/constants/v2");return u["default"].post(i,e,t)}function C(e,t){var i=A("/api/region/set");return u["default"].post(i,e,t).then(function(e){return c["default"].setCurrentRegion(e.regionId),e})}var D=t["default"](e),l=t["default"](i),E=t["default"](n),u=t["default"](r),c=t["default"](a),F=t["default"](o),d={user:s,constants:B,getRegion:A("/region/get"),setRegion:C,getZoneList:"/api/zone/list",getUnreadCount:"/api/mc/letter/unreadcount",getUnfinishedTicket:A("/api/ticket/unfinished"),getMyAccount:"/api/account/get_myaccount",accountPurchaseValidation:"/api/account/purchase_validation",blbEip:"/api/blb/eip/query",bcmAlarmStateSummary:"/api/bcm/alarm/state/summary",bcmMetricDataMetricName:"/api/bcm/metricdata/v2/datas/metricname",bcmMetricDataDimensions:"/api/bcm/metricdata/v2/datas/dimensions",bcmMetricList:"/api/bcm/metricmeta/metric/list",getAvailableCoupons:"/api/coupon/avail",activeCoupon:"/api/coupon/activate",activeBillingCoupon:"/api/account/coupon/activate",eipInstanceQuota:"/api/eip/quota",eipInstanceGetPrice:"/api/eip/price",getServiceDiscount:"/api/account/discount",getInstanceDiscount:"/api/account/instance_discount",getMockupOrder:"/api/common/billing/order/order",getMockupConfig:"/api/common/billing/order/config",regionAvailable:"/region/available",iotServiceStatus:"/api/iot/order/iotresource/valid",getUserInfo:"/iam/auth_info"};module.exports=E["default"].genRequesters(d)}),define("common/component/header/yeying",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","inf-ria/tpl!common/tpl","jquery","babel-runtime/helpers/interop-require-default","bat-ria/etpl","er/events","lodash","promise","./component","../../flags","../../service","./data/question_list"],function(exports,module,e,t,i,n,r,a,o,s,A,B,C,D,l){var E=r["default"](n),u=r["default"](a),c=r["default"](o),F=r["default"](s),d=r["default"](A),f=r["default"](B),h=r["default"](C),p=r["default"](D),H=r["default"](l),G=function(i){function n(e){t["default"](this,n),i.call(this,e),this.allHotQuestions=[],this.NUM=5,c["default"].on("enteractioncomplete",this._fixUrls,this)}return e["default"](n,i),n.prototype.render=function(){var e=this,t=u["default"].render("TPL_global_yeying",this._getViewModel());E["default"]("body").append(t),E["default"](".yeying-icon").on("click",function(){return E["default"](".feedback-form").addClass("feedback-form-hidden"),E["default"](".yeying-form").removeClass("yeying-form-hidden"),e.trackEvent("yeying","open"),!1}),E["default"](".yeying-close").on("click",function(){return E["default"](".yeying-form").addClass("yeying-form-hidden"),e.trackEvent("yeying","close"),!1}),E["default"](".yeying-form form").on("submit",function(){var t=E["default"](".yeying-form-item textarea").val();if(!t)return!1;else return void e.trackEvent("yeying","submit")}),E["default"](".yeying-form").on("click","a",function(t){var i=E["default"](t.target),n=i.data("action"),r=i.data("category")||"yeying";if(n)e.trackEvent(r,n)})},n.prototype._getDocumentKey=function(e){var t=e.getKey(),i=e.getSubKey(),n={BAEPRO:"BAE-Pro",BATCH:"Batch",BPS:"Kafka",MKT:"Market",NETWORK:"VPC",IOTRE:"RE",MODBUS:"Parser"},r=["BCC","DCC","BBC","BAE","BLB","EIP","BOS","CDS","CDN","RDS","SCS","BSS","BCM","BMR","BML","PALO","BES","BLS","MCT","LSS","VOD","IOT","IOTDM","TSDB","BCH","BCD","SES","SMS","APM","CAS"],a={};F["default"].each(r,function(e){return a[e]=e});var o=F["default"].extend(a,n);if(i)return o[i]||o[t];else return o[t]},n.prototype._getDocUrl=function(e){var t=this._getDocumentKey(e);return!t?"https://cloud.baidu.com/doc/index.html?from=console-yy":"https://cloud.baidu.com/doc/"+t+"/index.html?from=console-yy"},n.prototype._getPriceUrl=function(e){var t=this._getDocumentKey(e);return!t?"https://cloud.baidu.com/doc/Pricing/index.html?from=console-yy":"https://cloud.baidu.com/doc/"+t+"/Pricing.html?from=console-yy"},n.prototype._getBbsUrl=function(e){return"https://cloud.baidu.com/forum/bce?from=console-yy"},n.prototype._fixUrls=function(){var e=this._getViewModel(),t=u["default"].render("TPL_global_yeying_nav",e);if(E["default"](".yeying-nav").html(t),h["default"].enable_yy_hot_questions)this._getHotQuestions().then(function(e){if(e.length)E["default"]("#yy-question").html(u["default"].render("TPL_global_yeying_question",{hotQuestions:e}));else E["default"]("#yy-question").html("")})},n.prototype._getHotQuestions=function(){var e=this;return this._getAllQuestions().then(function(t){return d["default"].resolve(e._filterQuestions(t,e._getUrlList()))})},n.prototype._getAllQuestions=function(){var e=this;return new d["default"](function(t,i){if(e.allHotQuestions.length)t(e.allHotQuestions);else E["default"].ajax({url:"https://yunkefu.baidu.com/api/hotQuestion/all?token=3359911f-b678-1034-8f6b-6cae8b554422&systemId=100111",dataType:"jsonp",jsonp:"callback",success:function(i){e.allHotQuestions=i.result,t(e.allHotQuestions)},error:function(){e.allHotQuestions=[],t(e.allHotQuestions)}})})},n.prototype._filterQuestions=function(e,t,i){for(var n=[],r=i||function(e){return H["default"][e]},a={},o=5;t.length;){for(var s=t.join("/"),A=r(s),B=0;B<e.length;B++)if(null==a[B]){var C=e[B];if(C.tagName===A)if(a[""+B]=B,n.push(C.title),n.length>=o)return n}else;t.pop()}return n},n.prototype._getUrlList=function(){var e=location.hash.substr(2).replace(/~.*/,"");return e.split("/")},n.prototype._getViewModel=function(){var e="https://bce.bdstatic.com/console/yeying-200x100.png",t=p["default"].current(),i=t.config&&t.config.docUrl||this._getDocUrl(t),n=t.config&&t.config.priceUrl||this._getPriceUrl(t),r=t.config&&t.config.bbsUrl||this._getBbsUrl(t);return{imageUrl:e,docUrl:i,priceUrl:n,bbsUrl:r}},n}(f["default"]);module.exports=G}),define("common/component/header/sidebar",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","inf-ria/tpl!common/tpl","underscore","babel-runtime/helpers/interop-require-default","jquery","inf-i18n","bat-ria/etpl","er/events","../../service","./component","./helper"],function(exports,module,e,t,i,n,r,a,o,s,A,B,C,D){var l=r["default"](n),E=r["default"](a),u=r["default"](o),c=r["default"](s),F=r["default"](A),d=r["default"](B),f=r["default"](C),h=r["default"](D),p=function(i){
function n(e){var r=this;t["default"](this,n),i.call(this),this.model=e,this.hasBoundEvent=!1,F["default"].on("enteractioncomplete",function(e){if(!e.isChildAction)r.render()})}return e["default"](n,i),n.prototype.render=function(){var e=E["default"]("#sidebar");if(e.length&&e.data("menu")){var t=d["default"].current();if(t.dynamicSidebar()){var i=this._getViewModel(),n=c["default"].render("TPL_global_sidebar",i);e.html(n).show()}if(!this.hasBoundEvent)this._initEvents(),this.hasBoundEvent=!0;h["default"].fixHrefs(e);var r=e.data("menu").split("/");l["default"].each(r,function(t){var i=e.find("li[sidetype="+t+"]");if(i.hasClass("menu-list"))i.addClass("menu-list-opened");else if(i.closest("li.menu-list").length)i.addClass("current");else i.addClass("sidebar-current")})}},n.prototype._initEvents=function(){E["default"](document.body).on("click","#sidebar .menu-list > a",function(){return E["default"](this).parent("li").toggleClass("menu-list-opened"),!1}),E["default"](document.body).on("click","#sidebar a",function(e){return d["default"].current().switchTo(e)})},n.prototype._getViewModel=function(){var e=this.model,t=e.sidebar,i=e.SIDEBAR_TITLE,n=E["default"]("#sidebar"),r=n.data("menu").split("/"),a=r[0],o=r[1],s=l["default"].find(t,function(e){return e.service===a}),A=s?s.nodes:[],B=i[o]||i[d["default"].current().getKey().toLowerCase()]||u["default"]("用户中心");return{sidebars:A,sidebarTitle:B}},n}(f["default"]);module.exports=p}),define("common/component/header/service_list",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","inf-ria/tpl!common/tpl","jquery","babel-runtime/helpers/interop-require-default","underscore","inf-i18n","saber-cookie","bat-ria/etpl","er/events","inf-ria/decorators","./component","./events"],function(exports,module,e,t,i,n,r,a,o,s,A,B,C,D,l){var E=r["default"](n),u=r["default"](a),c=r["default"](o),F=r["default"](s),d=r["default"](A),f=r["default"](B),h=r["default"](D),p={beian:"http://beian.bce.baidu.com",console:"https://console.bce.baidu.com",ticket:"http://ticket.bce.baidu.com"},H=function(i){function n(e,n){t["default"](this,r),i.call(this),this.model=e,this.user=n,f["default"].on(l.SERVICES_CHANGED,this.render,this)}e["default"](n,i),n.prototype.render=function(){var e=this.getServiceGroups(),t=d["default"].render("TPL_global_service_list",{groups:e});E["default"]("#serviceList").html(t)},n.prototype.getServiceGroups=function(){var e=this.model,t=e.activeService,i=void 0===t?"":t,n=e.availableService,r=void 0===n?"":n,a=e.noOrderService,o=void 0===a?"":a,s=e.collaboratorService,A=void 0===s?"":s,B=e.SERVICE_LAYOUT,C=e.SERVICE_TYPE,D=e.domains,l=void 0===D?p:D,E=i.split(","),d=r.split(","),f=o.split(","),h=A.split(","),H=u["default"].object(E,E),G=u["default"].object(f,f),m=u["default"].clone(C);u["default"].each(m,function(e,t){if(e.showUrl=e.showUrl||e.listUrl,H[t]||G[t])e.status="";else e.status="inactive";if("BEIAN"===t)e.showUrl=l.beian+"?_"+(new Date).getTime(),e.newWindow=!0});var I=u["default"].deepClone(B),g=void 0;if(F["default"].get("bce-subuser-info")&&u["default"].indexOf(h,"BAEPRO")>-1)g=u["default"].deepClone(C.BAEPRO);else g=u["default"].deepClone(C.BAE);if(g)g.name=c["default"]("应用引擎");u["default"].each(I,function(e){if(e.services=u["default"].pick(m,u["default"].intersection(e.services,d)),F["default"].get("bce-subuser-info"))u["default"].each(e.services,function(e,t){if(-1===u["default"].indexOf(h,t))e.disabled=!0,e.status="inactive"});if(e.name===c["default"]("计算和网络")){if(e.services.BAEPRO&&g){if(e.services.BAEPRO.disabled)g.disabled=!0,g.status="inactive";delete e.services.BAEPRO}if(e.services.BAE)e.services.BAE=g}});var J=(c["default"].getLanguage()||"").split("-")[0];u["default"].each(I,function(e){u["default"].each(e.services,function(e,t){if(!u["default"].has(e,"icon"))e.icon="icon-"+t.toLowerCase();if("en"!==J){if(!u["default"].has(e,"abbr"))e.abbr=t}else e.abbr=""})});var L=this.getGlobalFlags();if(!L.enable_baixin)return I;if(I=u["default"].filter(I,function(e){return u["default"].size(e.services)>0}),I.length>5)I.splice(5,0,{name:":seperator:",services:[],type:"seperator"});return I};var r=n;return n=C.accessor("globalFlags")(n)||n}(h["default"]);module.exports=H}),define("common/component/header/search_box",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","jquery","babel-runtime/helpers/interop-require-default","./component"],function(exports,module,e,t,i,n,r){var a=n["default"](i),o=n["default"](r),s=function(i){function n(){t["default"](this,n),i.apply(this,arguments)}return e["default"](n,i),n.prototype.render=function(){var e=this;a["default"]("#header-search-button").click(function(t){return e._handleClick(t)})},n.prototype._handleClick=function(e){var t=a["default"](e.target);t.attr("disabled",!0);var i=a["default"]("#header-search-form"),n=a["default"]("#header-search-input"),r=a["default"]("#header .search");if(!r.hasClass("search-active"))r.addClass("search-active"),n.animate({width:132},{complete:function(){t.removeAttr("disabled")}}),e.preventDefault();else{var o=n.val();if(!a["default"].trim(o))n.animate({width:0},{complete:function(){r.removeClass("search-active"),t.removeAttr("disabled")}}),e.preventDefault();else t.removeAttr("disabled"),i.submit()}},n}(o["default"]);module.exports=s}),define("common/component/header/scroll_text",["exports","module","babel-runtime/helpers/class-call-check","jquery","babel-runtime/helpers/interop-require-default","underscore"],function(exports,module,e,t,i,n){var r=i["default"](t),a=i["default"](n),o=function(){function t(i){e["default"](this,t),this.delay=i.delay||10,this.lineHeight=i.lineHeight||20,this.amount=1,this.direction=i.direction||"up",this.timeout=i.timeout||3e3,this.scrollContent=r["default"](i.id)[0],this.scrollContent.innerHTML+=this.scrollContent.innerHTML,this.scrollContent.onmouseover=a["default"].bind(this.stop,this),this.scrollContent.onmouseout=a["default"].bind(this.start,this)}return t.prototype.start=function(){clearTimeout(this.autoscrollTimer),this.autoscrollTimer=setTimeout(a["default"].bind(this.autoScroll,this),this.timeout/10)},t.prototype.stop=function(){clearTimeout(this.scrollTimer),clearTimeout(this.autoscrollTimer)},t.prototype.autoScroll=function(){if("up"===this.direction){if(parseInt(this.scrollContent.scrollTop,10)>=parseInt(this.scrollContent.scrollHeight,10)/2)this.scrollContent.scrollTop=0;this.scrollContent.scrollTop+=this.amount}else{if(parseInt(this.scrollContent.scrollTop,10)<=0)this.scrollContent.scrollTop=parseInt(this.scrollContent.scrollHeight,10)/2;this.scrollContent.scrollTop-=this.amount}if(parseInt(this.scrollContent.scrollTop,10)%this.lineHeight!==0)this.scrollTimer=setTimeout(a["default"].bind(this.autoScroll,this),this.delay);else this.autoscrollTimer=setTimeout(a["default"].bind(this.autoScroll,this),this.timeout)},t}();module.exports=o}),define("common/component/header/region_switcher",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","inf-ria/tpl!common/tpl","jquery","babel-runtime/helpers/interop-require-default","underscore","inf-i18n","bat-ria/etpl","er/controller","er/locator","er/events","esui/Toast","inf-ria/helper","../../config","../../region","../../service","../../action_types","./component","../action_category","./helper","./events"],function(exports,module,e,t,i,n,r,a,o,s,A,B,C,D,l,E,u,c,F,d,f,h,p){var H=r["default"](n),G=r["default"](a),m=r["default"](o),I=r["default"](s),g=r["default"](A),J=r["default"](B),L=r["default"](C),v=r["default"](D),M=r["default"](u),y=r["default"](c),K=r["default"](F),N=r["default"](d),b=r["default"](f),P=r["default"](h),O="global",S=function(i){function n(e){var r=this;t["default"](this,n),i.call(this),this.model=e,this.hasBoundEvent=!1,L["default"].on(p.REGION_CHANGED,this.render,this),L["default"].on("enteraction",function(e){if(!e.isChildAction)r.render(e)},this),L["default"].on(p.AFTER_REGION_CHANGED,this.displayTipOrRedirect,this)}return e["default"](n,i),n.prototype.render=function(e){var t=this,i=e.id,n=e.globalOnly,r=this._prepareViewModel(i,n),a=r.regionId,o=r.regionOptions,s=r.serviceRegion,A=M["default"].getLabel(a),B=H["default"]("#region"),C=B.parent(),D=!s[a]&&a!==O?'<i class="iconfont icon-block"></i>'+A:'<i class="iconfont icon-location"></i>'+A;if(B.attr("class","region-text region-"+a).html(D),C.addClass("region-change-disable"),o.length){C.removeClass("region-change-disable");var l=I["default"].render("TPL_global_region_list",{regionList:o});H["default"](".region-select").html(l)}if(C.show(),!this.hasBoundEvent)H["default"](".region-select").on("click",".select-item",function(e){return t._handleItemClick(e)}),this.hasBoundEvent=!0},n.prototype.displayTipOrRedirect=function(e){var t=y["default"].current(),i=t.getActionConfig(),n=i&&null!=i.category?i.category:P["default"].getActionCategory();if(b["default"].isCreateLike(n)){var r=t.getKey(),a="MCT"===r||"LSS"===r?m["default"]("创建"):m["default"]("购买"),o={disposeOnHide:!0,autoShow:!0,content:G["default"].sprintf(m["default"]("您进行了区域切换，原%s已退出。您可以继续创建新区域下的%s。"),a,a)},s=new v["default"](o);s.render()}if(b["default"].isCreate(n)||b["default"].isList(n))return void J["default"].reload();var A=this.getTargetPageAfterRegionChanged(t),module=A.module,B=A.action;if(null==module)J["default"].redirect(B);else l.redirectToModule(module,B)},n.prototype.getTargetPageAfterRegionChanged=function(e){var t=g["default"].currentURL.getPath(),module=null,i=e.config.listUrl.split("#")[1];if("/order/confirm"===t||"/order/success"===t)module="CDS"===e.key?"bcc":e.key.toLowerCase();else{var n=K["default"].getRedirectRules(e.key);if(n)if(n=P["default"].findMatchRules(n),n.length)module=n[0].target[0],i=n[0].target[1]}return{module:module,action:i}},n.prototype._handleItemClick=function(e){if(!H["default"](e.target).hasClass("disable-item")&&!H["default"](e.target).parent().hasClass("disable-item")){var t=H["default"](e.target).data("region");E.api.setRegion({regionId:t}).then(function(){return L["default"].fire(p.AFTER_REGION_CHANGED)})}},n.prototype._prepareViewModel=function(e,t){var i=y["default"].current(),n=i.getKey(),r=i.getRegion(),a=i.getActionConfig(),o=!i.config||r[O]||t||a&&a.isPageGlobal;if(o){var s;return{regionId:O,regionOptions:[{globalTip:!0,text:m["default"]("全局服务不支持选择区域")}],serviceRegion:(s={},s[O]=m["default"]("全局"),s)}}var A=e||M["default"].getCurrentRegion(n).id,B=G["default"].clone(this.model.REGION);delete B["cn-n1"],delete B[O],G["default"].each(B,function(e,t){if(r[t])delete B[t]});var C=[];return G["default"].each(r,function(e,t){if(t!==A)C.push({text:e,regionId:t,supported:!0})}),G["default"].each(B,function(e,t){if(t!==A)C.push({text:e+'<span class="region-not-support">'+m["default"]("（暂不支持）")+"</span>",regionId:t,supported:!1})}),{regionId:A,regionOptions:C,serviceRegion:r}},n}(N["default"]);module.exports=S}),define("common/component/header/prepare",["exports","module","underscore","babel-runtime/helpers/interop-require-default","../../action_types","./data/list_actions","./data/create_actions","./data/create_like_actions","./data/redirect_rules"],function(exports,module,e,t,i,n,r,a,o){function s(){B["default"].registerListActions(C["default"]),B["default"].registerCreateActions(D["default"]),B["default"].registerCreateLikeActions(l["default"]),A["default"].each(E["default"],function(e,t){B["default"].registerRedirectRules(t,e)})}var A=t["default"](e),B=t["default"](i),C=t["default"](n),D=t["default"](r),l=t["default"](a),E=t["default"](o);module.exports={activate:A["default"].once(s)}}),define("common/component/header/message_notifier",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","inf-ria/tpl!common/tpl","jquery","babel-runtime/helpers/interop-require-default","er/events","saber-cookie","underscore","inf-i18n","bat-ria/etpl","inf-ria/decorators","./component","./helper"],function(exports,module,e,t,i,n,r,a,o,s,A,B,C,D,l){var E=r["default"](n),u=r["default"](a),c=r["default"](o),F=r["default"](s),d=r["default"](A),f=r["default"](B),h=r["default"](D),p=r["default"](l),H={"已分配":d["default"]("处理中"),"处理中":d["default"]("处理中"),"待反馈":d["default"]("待客户反馈"),"已反馈":d["default"]("处理中"),"待确认":d["default"]("待客户确认"),"已确认":d["default"]("已完成"),"已删除":d["default"]("已撤销"),"系统确认":d["default"]("已完成"),"系统删除":d["default"]("已撤销")},G={"处理中":1,"待客户反馈":2,"待客户确认":3,"已完成":4,"已撤销":5},m=function(i){function n(e){t["default"](this,r),i.call(this),this.model=e,this.delayTime=6e4,this.timer=0,this.lastRequestTime=0,u["default"].on("enteractioncomplete",this.render,this)}e["default"](n,i),n.prototype.render=function(e){var t=this,i=this.getGlobalFlags();if(!i.enable_baixin)if(!e||!e.isChildAction){var n=(new Date).getTime();if(!(n-this.lastRequestTime<=this.delayTime))if(c["default"].get("bce-user-info")&&!c["default"].get("bce-subuser-info")){if(this.timer)clearTimeout(this.timer);this.timer=setTimeout(function(){if(!p["default"].shouldHideNavigation())t._updateUnreadCount(),t._updateUnfinishedTicket(),t.lastRequestTime=n},5e3)}}},n.prototype._updateUnreadCount=function(){var e=this.getRequestManager();e.getUnreadCount({},{"X-silence":!0}).then(function(e){if(e.unreadCount>0)E["default"]("#msgCount").show();else E["default"]("#msgCount").text("").hide()})},n.prototype._updateUnfinishedTicket=function(){if(this.model.domains){var e=this.model.domains.ticket+"?_="+(new Date).getTime(),t=this.getRequestManager();t.getUnfinishedTicket({},{"X-silence":!0}).then(function(t){if(t.unfinishedCount>0)E["default"]("#ticketCount").text(t.unfinishedCount).show();else E["default"]("#ticketCount").text("").hide();F["default"].each(t.unfinishedList,function(e){e.status=H[e.status],e.classname="ticket-status"+G[e.status]});var i=f["default"].render("TPL_global_unfinishedTicketList",{ticketList:t.unfinishedList,ticketDomain:e,unfinishedCount:t.unfinishedCount});E["default"]("#ticketList").html(i)})}};var r=n;return n=C.accessor("requestManager")(n)||n,n=C.accessor("globalFlags")(n)||n}(h["default"]);module.exports=m}),define("common/component/header/history",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","er/events","babel-runtime/helpers/interop-require-default","../../service","./component"],function(exports,module,e,t,i,n,r,a){var o=n["default"](i),s=n["default"](r),A=n["default"](a),B=function(i){function n(){t["default"](this,n),i.call(this),this._pathname=null}return e["default"](n,i),n.prototype.render=function(){var e=this;if("pushState"in window.history)o["default"].on("enteractioncomplete",function(){return e._pathname=location.pathname}),window.onpopstate=function(t){return e._handlePopState(t)}},n.prototype._handlePopState=function(e){if(this._pathname!==location.pathname){var t=s["default"].guess(location.href);if(t)t.start()}},n}(A["default"]);module.exports=B}),define("common/component/header/highlight_menu",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","jquery","babel-runtime/helpers/interop-require-default","er/events","./component","../../service"],function(exports,module,e,t,i,n,r,a,o){var s=n["default"](i),A=n["default"](r),B=n["default"](a),C=n["default"](o),D=function(i){function n(){t["default"](this,n),i.call(this),A["default"].on("enteraction",this.render,this)}return e["default"](n,i),n.prototype.render=function(){var e=C["default"].current(),t="HOME"===e.getKey()?1:2;s["default"](".nav > li").removeClass("nav-item-active"),s["default"](".nav > li:nth-child("+t+")").addClass("nav-item-active")},n}(B["default"]);module.exports=D}),define("common/component/header/gz_guide",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","jquery","babel-runtime/helpers/interop-require-default","saber-cookie","er/events","../../config","../../region","./component","./events"],function(exports,module,e,t,i,n,r,a,o,s,A,B){var C=n["default"](i),D=n["default"](r),l=n["default"](a),E=n["default"](s),u=n["default"](A),c="showRegionGuide",F=["/bcc/instance/list","/bcc/cds/list","/bcc/image/list","/bcc/snapshot/list","/bcc/security/list","/bcc/operationlist","/blb/list","/rds/list","/scs/list","/eip/instance/list","/bcc/instance/create","/bcc/cds/create","/blb/create","/rds/create","/scs/create","/bmr/create","/eip/instance/create"],d=function(i){function n(){var e=this;t["default"](this,n),i.call(this),this.url=null,l["default"].on("enteractioncomplete",function(t){if(!t.isChildAction)e.url=t.url.getPath(),e.render()})}return e["default"](n,i),n.prototype.render=function(){if("0"!==D["default"].get(c))if("bj"===E["default"].getCurrentRegion().rawId&&-1!==F.indexOf(this.url))this._showGuideMask()},n.prototype._showGuideMask=function(){function e(){n.width(document.body.offsetWidth),n.height(document.body.offsetHeight)}function t(){n.remove(),C["default"](".region-select").removeAttr("style"),D["default"].set(c,"0",{expires:7776e7,path:"/"}),C["default"](window).off("resize scroll",e)}var i=this;this.trackEvent("region_gz_guide","region_gz_guide_show"),C["default"](".region-select").show().css("max-height","300px");var n=C["default"]('<div id="region-guide"><i id="change-region"></i><i id="close-btn"></i></div>');n.appendTo(document.body),C["default"](window).on("resize scroll",e),n.on("click",function(e){if("change-region"===e.target.id)i.trackEvent("region_gz_guide","region_gz_guide_change_btn"),o.api.setRegion({regionId:"gz"}).then(function(){return l["default"].fire(B.AFTER_REGION_CHANGED)});else if("close-btn"===e.target.id)i.trackEvent("region_gz_guide","region_gz_guide_close_btn");t()})},n}(u["default"]);module.exports=d}),define("common/component/header/events",["exports","module"],function(exports,module){module.exports={SERVICES_CHANGED:"services_changed",REGION_CHANGED:"region_changed",AFTER_REGION_CHANGED:"after_region_changed"}}),define("common/user",["exports","module","underscore","babel-runtime/helpers/interop-require-default","bat-ria/system/user","bat-ria/system/auth","./constants"],function(exports,module,e,t,i,n,r){function a(e){if("NONE"===e.verifyStatus||"NONE_EXPIRED"===e.verifyUser)return n.AuthType.NONE;else return n.AuthType.EDITABLE}var o=t["default"](e),s=t["default"](i),A=t["default"](r);module.exports=o["default"].extend({},s["default"],{init:function(e,t){var i={G_VERIFIED:a(t.verifyUser)};this.visitor=o["default"].extend({},this.visitor,e,t.verifyUser),this.visitor.auth=o["default"].extend({},this.visitor.auth,i)},initBalanceAndDebt:function(e){var t=e.cashBalance+e.couponBalance-e.debt,i=100>t?n.AuthType.READONLY:n.AuthType.EDITABLE,r=e.debt-e.couponBalance>0?n.AuthType.READONLY:n.AuthType.EDITABLE;o["default"].extend(this.visitor.auth,{G_BALANCE_NOT_ENOUGH:i,G_HAS_DEBT:r})},setAuth:function(e,t){this.visitor.auth[e]=t},isAgent:function(){return A["default"].agentInfo&&A["default"].agentInfo.userType&&"AGENT"===A["default"].agentInfo.userType},isAgentUser:function(){return A["default"].agentInfo&&A["default"].agentInfo.userType&&"AGENTUSER"===A["default"].agentInfo.userType},getAgentInfo:function(){return A["default"].agentInfo||{}}})}),define("common/component/header/default_view_v5",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","inf-ria/tpl!common/tpl","underscore","babel-runtime/helpers/interop-require-default","jquery","bat-ria/etpl","saber-cookie","er/events","inf-i18n","../../user","../../flags","../../storage","../../auth","../../service","./component","./helper","../../config","../../extension/tracker"],function(exports,module,e,t,i,n,r,a,o,s,A,B,C,D,l,E,u,c,F,d,f){var h=r["default"](n),p=r["default"](a),H=r["default"](o),G=r["default"](s),m=r["default"](A),I=r["default"](B),g=r["default"](C),J=r["default"](D),L=r["default"](l),v=r["default"](E),M=r["default"](u),y=r["default"](c),K=r["default"](F),N=r["default"](f),b=["CDN","BCC","DCC","BOS","LSS","RDS","BMR","VOD","BAE","BLB","DDOS","MCT","DOC","BCH","BCD","BML","PALO","BLS","BES","SCS","KAFKA","EIP","CDS","VPC","CAS","WMT","BEIAN"],P=["BCC","CDN","BOS","LSS","RDS","BMR","VOD","BAE"],O="ui-v5-guide",S=function(i){function n(e){var r=this;t["default"](this,n),i.call(this),this.hasBoundEvent=!1,this.model=e,this.viewModel=null,m["default"].on("globalError",function(e){return r._handleGlobalError(e)}),m["default"].on("enteractioncomplete",function(e){if(r.toggleNavigation(),r._handleAuthorization(e),e&&!e.isChildAction)r._displayFirstGuide()}),m["default"].on("forwardaction",function(){r.toggleNavigation()})}return e["default"](n,i),n.prototype.toggleNavigation=function(){if(K["default"].shouldHideNavigation())p["default"]("#header, .sidebar-item").removeClass("loaded");else p["default"]("#header, .sidebar-item").addClass("loaded")},n.prototype.render=function(){this.viewModel=this._getViewModel();var e=this.viewModel.appVisitor?this.viewModel.appVisitor.displayName:I["default"]("用户名");this.viewModel.avatar=e.charAt(0).toUpperCase();var t=h["default"].find(this.viewModel.sidebar,function(e){return"agent"===e.service}),i=h["default"].find(this.viewModel.sidebar,function(e){return"account"===e.service}),n=this.model.verifyUser;this.viewModel.isAgent=!!t,this.viewModel.hasMultiUser=!!i;var r=p["default"]("#header"),a=p["default"]("#main-sidebar"),o=H["default"].render("TPL_global_header_v5",this.viewModel),s=H["default"].render("TPL_global_sidebar_v5",this.viewModel);if(r.html(o),a.append(s),this.renderProducts(),K["default"].fixHrefs(r.find(".select-items")),K["default"].fixHrefs(r.find(".msg-nav")),K["default"].fixHrefs(r.find(".user-info")),!this.hasBoundEvent)this._initDOMEvents(),this.hasBoundEvent=!0;if(!J["default"].is_ticket&&!J["default"].enable_baixin)d.api.getUserInfo().then(function(e){if(e.phoneBound)p["default"](".verify-icons .icon-verify-mobile").addClass("verified").attr("title",I["default"]("手机已绑定"));if(e.emailBound)p["default"](".verify-icons .icon-verify-email").addClass("verified").attr("title",I["default"]("邮箱已绑定"))});if("pass"===n.verifyStatus.toLowerCase())p["default"](".verify-icons .icon-verify").addClass("verified").attr("title",I["default"]("已实名认证"));p["default"](".sidebar-item").addClass("tip-disable"),p["default"](".sidebar-collapsed .sidebar-item").removeClass("tip-disable"),K["default"].trackEventOnElement(r,"default_view")},n.prototype.renderProducts=function(){var e=p["default"]("#sidebar-products"),t=H["default"].render("TPL_global_sidebar_products",{shortcutServices:this._getShortcutServices()});e.html(t)},n.prototype._getShortcutServices=function(){var e=L["default"].get("custom-products");if(e)return e;var t=this.model,i=t.collaboratorService,n=t.activeService,r=t.SERVICE_TYPE,a=[];if(J["default"].enable_baixin)a=h["default"].keys(r).slice(0,8);else if(this.viewModel.isSubUser)a=i.split(",").slice(0,8);else{var o=n.split(",");a=h["default"].union(h["default"].intersection(b,o),P).slice(0,8)}var s=h["default"].map(a,function(e){var t=r[e];if(!t)return null;if(J["default"].enable_custom_sidebar&&J["default"].enable_sys_v3)return{type:e,url:t.listUrl,name:t.serviceDisplayName,icon:t.icon||"icon-"+e.toLowerCase()};var i=t.abbr||e;return{url:t.listUrl,name:t.name+" "+i,icon:t.icon||"icon-"+e.toLowerCase()}});return h["default"].filter(s,function(e){return!!e})},n.prototype._displayFirstGuide=function(){if(!J["default"].enable_baixin&&!J["default"].is_ticket&&"/"===location.pathname)if(!L["default"].get(O)){var e=p["default"](document).height(),t=p["default"](document).width(),i=document.createElement("DIV");i.className="default-view-first-guide",i.innerHTML='\n            <div class="mask"></div>\n            <div class="step step-1"></div>\n            <div class="step step-2" style="display: none"></div>\n        ',p["default"](document.body).append(p["default"](i)),p["default"](".default-view-first-guide .mask").css({width:t,height:e}),p["default"](".default-view-first-guide .step").click(function(e){if(p["default"](e.target).hasClass("step-1"))p["default"](e.target).hide(),p["default"](e.target).next().show();else if(p["default"](e.target).hasClass("step-2"))p["default"](i).remove(),L["default"].set(O,!0),p["default"]("#main-sidebar").css("z-index","")}),p["default"]("#main-sidebar").css("z-index",1e4)}},n.prototype._handleAuthorization=function(e){if(!e.isChildAction)if(window.scrollTo(0,0),e.action&&e.action.view)v["default"].check(e.action.view)},n.prototype._handleGlobalError=function(e){var t=e.service?this.model.SERVICE_TYPE[e.service].listUrl:e.listUrl;if(t)location.href=t},n.prototype._initDOMEvents=function(){var e=this,t=this.viewModel.displayBadge;p["default"](".service-overview").hover(function(){p["default"](this).find(".sub-menu").css("max-width","1100px")},function(){if(p["default"](this).find(".sub-menu").css("max-width",0),t)K["default"].hideBadge()}),p["default"](".toggle-nav-collapse").click(function(){var e=p["default"]("#main-sidebar").hasClass("sidebar-collapsed");e?K["default"].expandSidebar():K["default"].collapseSidebar(),N["default"].trackEvent("ui_v5_sidebar",e?"expand":"collapse")}),p["default"]("#main-sidebar, #header").on("click","a",function(e){var t=p["default"](e.currentTarget),i=t.attr("href");if(!i)return!1;else return p["default"](".service-list").css("max-width",0),void M["default"].current().switchTo(e)}),p["default"](".custom-nav").click(function(){var t=h["default"].deepClone(e.viewModel.SERVICE_TYPE),i=h["default"].map(h["default"].reject(e.viewModel.SERVICE_LAYOUT,function(e){return":seperator:"===e.name}),function(e){return{name:e.name,services:h["default"].pick(t,e.services)}}),n=e._getShortcutServices();K["default"].waitActionDialog({title:I["default"]("自定义导航"),url:"/common/customNav",actionOptions:{serviceList:i,shortcutServices:n,serviceMap:t,parentAction:e}}).then(function(e){var t=e.target,i=t.getAction();i.parentDialog=t;var n=t.getChild("foot").getChild("btnOk"),r=t.getChild("foot").getChild("btnCancel");t.resize(),n.on("click",function(){i.fire("saveConfig")}),r.on("click",function(){t.dispose()})})}),p["default"]("#lang-zh").on("click",function(){if(!location.search)return void(location.search="locale=zh-cn");var e=/locale=([a-zA-Z\-]+)/g.exec(location.search);location.search=e?location.search.replace(e[0],"locale=zh-cn"):location.search+"&locale=zh-cn"})},n.prototype._getViewModel=function(){var e=this.model,t=e.sidebar,i=e.logoutUrl,n=e.SERVICE_TYPE,r=e.availableService,a=e.SERVICE_LAYOUT,o=G["default"].get("bce-subuser-info"),s=K["default"].shouldDisplayBadge(n,(r||"").split(",")),A=o?"/user/overview":"/index/overview";if(/fromai=1/.test(location.search))A="/aip/overview";return A=location.search+"#"+A,{appVisitor:g["default"].visitor,displayBadge:s,FLAGS:J["default"],SERVICE_TYPE:n,sidebar:t,logoutUrl:i,isSubUser:o,overviewUrl:A,SERVICE_LAYOUT:a}},n}(y["default"]);module.exports=S}),define("common/component/header/rule",["exports","module","babel-runtime/helpers/class-call-check"],function(exports,module,e){var t=function(){function t(i,n){var r=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];e["default"](this,t),this.path=i,this.target=n,this.conditions=r}return t.prototype.isMatch=function(e){if(this.path!==e.getPath())return!1;if(this.conditions.length)for(var t=0;t<this.conditions.length;t++){var i=this.conditions[t],n=i[0];if("HAS_QUERY"===n){if(null==e.getQuery(i[1]))return!1}else if("MATCH_QUERY"===n){if(e.getQuery(i[1])!=i[2])return!1}else return!1}return!0},t}();module.exports=t}),define("common/component/header/data/redirect_rules",["exports","module","../rule","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var i=t["default"](e),n=["bcc","/bcc/instance/list"],r=[new i["default"]("/bcc/instance/detail",n),new i["default"]("/bcc/instance/security_groups",n,[["HAS_QUERY","instanceId"]]),new i["default"]("/bcc/instance/monitor",n,[["HAS_QUERY","instanceId"]]),new i["default"]("/bcc/instance/create",["bcc","/bcc/image/list"],[["HAS_QUERY","imageId"]]),new i["default"]("/bcc/snapshot/instance",n),new i["default"]("/bcc/snapshot/disk",["bcc","/bcc/cds/list"]),new i["default"]("/bcc/security/detail",["bcc","/bcc/security/list"]),new i["default"]("/bcc/security/edit",["bcc","/bcc/security/list"]),new i["default"]("/bcc/security/copy",["bcc","/bcc/security/list"]),new i["default"]("/bcc/security/create",["bcc","/bcc/security/list"])],a=[new i["default"]("/bcc/cds/list",n,[["HAS_QUERY","instanceId"]]),new i["default"]("/bcc/cds/detail",["bcc","/bcc/cds/list"],[["HAS_QUERY","diskId"]]),new i["default"]("/bcc/cds/create",["bcc","/bcc/snapshot/list"],[["HAS_QUERY","snapshotId"]]),new i["default"]("/bcc/cds/create",n,[["HAS_QUERY","instanceId"]])],o=[new i["default"]("/eip/instance/create",n,[["MATCH_QUERY","instanceType","BCC"]]),new i["default"]("/eip/instance/create",["blb","/blb/list"],[["MATCH_QUERY","instanceType","BLB"]])],s=[new i["default"]("/bss/bcc/detail",["bss","/bss/bcc/list"]),new i["default"]("/bss/blb/detail",["bss","/bss/blb/list"])],A=[new i["default"]("/bcm/server/detail",["bcm","/bcm/server/list"]),new i["default"]("/bcm/rds/detail",["bcm","/bcm/rds/list"]),new i["default"]("/bcm/website/detail",["bcm","/bcm/website/index"]),new i["default"]("/bcm/alarm/detail",["bcm","/bcm/alarm/rule"])],B=[new i["default"]("/mct/pipeline/detail",["mct","/mct/pipeline/list"]),new i["default"]("/mct/job/detail",["mct","/mct/job/list"]),new i["default"]("/mct/preset/detail",["mct","/mct/preset/list"]),new i["default"]("/mct/watermark/detail",["mct","/mct/watermark/list"]),new i["default"]("/mct/thumbnail/detail",["mct","/mct/thumbnail/list"])],C=[new i["default"]("/lss/session/detail",["lss","/lss/session/detail"]),new i["default"]("/lss/statistics/basic",["lss","/lss/statistics/session"])],D=[new i["default"]("/bmr/cluster/list",["bmr","/bmr/cluster/list"]),new i["default"]("/bmr/template/list",["bmr","/bmr/template/list"]),new i["default"]("/bmr/step/list",["bmr","/bmr/step/list"]),new i["default"]("/bmr/schedule_plan/list",["bmr","/bmr/schedule_plan/list"])];module.exports={BCC:r,CDS:a,EIP:o,BSS:s,BCM:A,MCT:B,LSS:C,BMR:D}}),define("common/component/header/data/question_list",["exports","module"],function(exports,module){module.exports={cdn:"CDN",iot:"IoT","bcc/instance/create":"BCC购买页","bcc/instance":"BCC列表页&详情页","bcc/cds":"BCC磁盘列表&详情页","dcc/image/list":"BCC镜像列表页","bcc/snapshot/list":"BCC快照列表页","bcc/security/list":"BCC安全组列表页","bcc/operationlist":"BCC操作日志列表页","rds/detail":"RDS详情页","rds/list":"RDS列表页","rds/create":"RDS购买页","bos/list":"BOS bucket","bos/object":"BOS数据管理页","bos/release":"BOS数据发布页","bmr/cluster/create":"BMR创建页展示相关","bls/task/list":"BLS任务列表页","bls/task/create":"BLS创建任务页","bls/task/detail":"BLS任务详情页","bls/token/list":"BLS收集器列表","bls/token/command":"BLS收集器安装","lss/v3/domain":"LSS域名管理模块","lss/v3/stream":"LSS流管理模块","lss/v3/security":"LSS安全策略模块","lss/v3/statistics":"LSS统计模块","vod/media":"VOD媒资管理","vod/setting/antileech":"VOD发布设置防盗链","vod/statistics/distribute":"VOD统计分析分发","iot/endpoint/list":"物接入实例列表页","iot/modbus/manage":"物解析管理网关设备页","iot/modbus/analysis":"物解析项目页&子页面","iot/modbus/":"物解析其他页面","iotre/rule/create":"规则引擎类创建规则页","iotre/rule/verify":"规则引擎类规则验证页","iotre/rule":"规则引擎其他页面","iotdm/device":"物管理所有页面",tsdb:"时序数据库所有页面","bcd/overview":"域名服务概览","bcd/manage":"域名服务列表&详情页","bcd/transferin":"域名服务转入页","bcd/resolution":"域名服务解析页",bcd:"域名服务其他","lss/v3/recording":"LSS模块管理模块","lss/v3/preset":"LSS模块管理模块","lss/v3/watermark":"LSS模块管理模块","lss/v3/thumbnail":"LSS模块管理模块"}}),define("common/component/header/data/list_actions",["exports","module"],function(exports,module){module.exports=["/bcc/instance/list","/bcc/cds/list","/bcc/image/list","/bcc/snapshot/list","/bcc/security/list","/bcc/operationlist","/bss/overview","/bss/bcc/list","/bss/blb/list","/bss/alarm","/bcm/overview","/bcm/server/list","/bcm/rds/list","/bcm/website/index","/bcm/website/create","/bcm/custom/list","/bcm/alarm/rule","/bcm/alarm/event","/bmr/cluster/list","/bmr/template/list","/bmr/step/list","/bmr/schedule_plan/list","/rds/list","/scs/list","/eip/instance/list","/blb/list","/mct/pipeline/list","/mct/job/list","/mct/preset/list","/mct/watermark/list","/mct/thumbnail/list","/lss/session/list","/bch/manage/list","/vpc/instance/list"];
}),define("common/component/header/data/create_like_actions",["exports","module"],function(exports,module){module.exports=["/bcc/instance/upgrade_config","/bcc/cds/upgrade_config","/order/confirm","/rds/updateConfiguration","/rds/recharge","/scs/updateConfiguration"]}),define("common/component/header/data/create_actions",["exports","module"],function(exports,module){module.exports=["/bcc/instance/create","/bcc/cds/create","/blb/create","/rds/create","/scs/create","/bmr/cluster/create","/bmr/template/create","/bmr/step/create","/bmr/schedule_plan/create","/eip/instance/create","/mct/pipeline/create","/mct/job/create","/mct/preset/create","/mct/watermark/create","/mct/thumbnail/create","/lss/session/create","/bch/create/create"]}),define("common/component/header/component",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","mini-event/EventTarget","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,i,n){var r=n["default"](i),a=function(i){function n(){t["default"](this,n),i.apply(this,arguments)}return e["default"](n,i),n.prototype.trackEvent=function(e,t,i,n){if(window._hmt)window._hmt.push(["_trackEvent",e,t,i,n])},n}(r["default"]);module.exports=a}),define("common/config/x",["exports","module","promise","babel-runtime/helpers/interop-require-default","../flags"],function(exports,module,e,t,i){function n(e){return new r["default"](function(t,i){var n=a["default"].is_online?"x-config/online":"x-config/qasandbox";window.require([n],function(i){return t(i[e]?i[e].data:null)})})}var r=t["default"](e),a=t["default"](i);module.exports={getConfig:n}}),define("common/component/header/broadcast",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","inf-ria/tpl!common/tpl","bat-ria/etpl","babel-runtime/helpers/interop-require-default","jquery","inf-ria/decorators","../../config/x","./component"],function(exports,module,e,t,i,n,r,a,o,s,A){var B=r["default"](n),C=r["default"](a),D=r["default"](s),l=r["default"](A),E=function(i){function n(){t["default"](this,r),i.apply(this,arguments)}e["default"](n,i),n.prototype.render=function(){var e=this;D["default"].getConfig("/broadcast.json").then(function(t){if(t&&t.id){var i=e.getGlobalStorage();if(!i.get(t.id)){var n=(new Date).getTime()/1e3;if(!(n>=+t.end_date||n<=+t.start_date))e._renderImpl(t)}}})},n.prototype._renderImpl=function(e){var t=this,i=[{content:e.message}],n=this.getGlobalFlags(),r=B["default"].render("TPL_global_announce",{messages:i,FLAGS:n});C["default"](".header-select.region").after(r),C["default"](".announce").show(),C["default"](".close-board").on("click",function(){C["default"](".announce").remove(),t.getGlobalStorage().set(e.id,!0)})};var r=n;return n=o.accessor("globalFlags")(n)||n,n=o.accessor("globalStorage")(n)||n}(l["default"]);module.exports=E}),define("common/component/action_category",["exports","module"],function(exports,module){module.exports={UNKNOWN:0,CREATE:1,LIST:2,CREATE_LIKE:4,isCreateLike:function(e){return this.isCreate(e)||0!==(e&this.CREATE_LIKE)},isCreate:function(e){return 0!==(e&this.CREATE)},isList:function(e){return 0!==(e&this.LIST)}}}),define("common/component/MFACheck",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","esui/Dialog","inf-ria/ui/SMSCodeBox","lodash","babel-runtime/helpers/interop-require-default","inf-i18n","jquery","promise","esui","./Base"],function(exports,module,e,t,i,n,r,a,o,s,A,B,C){var D=a["default"](r),l=a["default"](o),E=a["default"](s),u=a["default"](A),c=a["default"](B),F=a["default"](C),d=function(i){function n(){t["default"](this,n),i.apply(this,arguments)}return e["default"](n,i),n.prototype.initialize=function(e){this.data=e.data||{},this.validator=e.validator,this.createDialog(),this.main=E["default"](this.dialog.main),this.main.addClass("component-mfacheck"),this.render()},n.prototype.createDialog=function(){return this.dialog=c["default"].create("Dialog",{id:"component-mfacheck",closeButton:!1,closeOnHide:!0,mask:!0,alwaysTop:!0,title:l["default"]("短信验证"),content:'\n                <section class="component-dialog-content">\n                    <header>\n                        <p>'+l["default"]("为了保护您的账户安全，请通过手机验证：")+"</p>\n                    </header>\n                    <ul>\n                        <li>\n                            <label>"+l["default"]("您绑定的手机：")+"</label>\n                            "+this.data.mobile+'\n                            <a href="/iam/'+location.search+'#/iam/authinfo" id="redirect-to-change-mobile"\n                                title="'+l["default"]("更换手机")+'" target="_blank">\n                                '+l["default"]("更换手机")+"\n                            </a>\n                        </li>\n                        <li>\n                            <label>"+l["default"]("短信验证码：")+'</label>\n                            <div data-ui-type="SMSCodeBox"\n                                 data-ui-name="smsCodeBox"\n                                 data-ui-id="smsCodeBox"\n                                 data-ui-child-name="smsCodeBox"\n                                 data-ui-input-width="100"></div>\n                            <span id="mfacheck-message"></span>\n                        </li>\n                    </ul>\n                </section>\n            '}),this.dialog.appendTo(document.body),this.dialog},n.prototype.show=function(){this.dialog.show()},n.prototype.hide=function(){this.dispose()},n.prototype.render=function(){if(this.data.errormsg)this.showError(this.data.errormsg);this.bindEvents(),this.dialog.getFoot().getChild("btnOk").disable()},n.prototype.bindEvents=function(){var e=this,t=this.dialog,i=t.getFoot().getChild("btnOk"),n=t.getFoot().getChild("btnCancel"),r=t.getBody().getChild("smsCodeBox");r.on("action",function(){var t=r.getChild("btn");t.disable();var i=r.getChild("input");i.getFocusTarget().focus(),e.getAuthCode().then(function(){e.showMessage(l["default"]("校验码已发送")),r.startCountdown()})["catch"](function(){t.enable()})}),r.getChild("input").on("input",function(){if(e.clearError(),i.disabled)i.enable()}),i.on("click",function(t){var i=D["default"].trim(r.getChild("input").getValue());if(!i)return void e.showError(l["default"]("校验码不能为空"));else return void e.fire("ok",{data:i})}),n.on("click",function(t){e.fire("cancel"),e.hide()})},n.prototype.getAuthCode=function(){return new u["default"](function(e,t){E["default"].ajax({method:"POST",url:"/api/iam/authcode/send",dataType:"json",headers:{"Content-Type":"application/json; charset=UTF-8","X-Request-By":"ERApplication"},data:JSON.stringify({authtype:"phone"}),success:e,error:t})})},n.prototype.showError=function(e){E["default"]("#mfacheck-message",this.main).addClass("error").html(e)},n.prototype.clearError=function(){this.showMessage("")},n.prototype.showMessage=function(e){E["default"]("#mfacheck-message",this.main).removeClass("error").html(e)},n.prototype.dispose=function(){if(this.dialog)this.dialog.dispose(),this.dialog=null},n}(F["default"]);module.exports=d}),define("common/component/Base",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","mini-event/EventTarget","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,i,n){var r=n["default"](i),a=function(i){function n(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t["default"](this,n),i.call(this),this.initialize(e)}return e["default"](n,i),n.prototype.initialize=function(){},n.prototype.render=function(){},n.prototype.repaint=function(){},n.prototype.bindEvents=function(){},n.prototype.dispose=function(){},n}(r["default"]);module.exports=a}),define("common/bos/bucket/config",["exports"],function(exports){}),define("common/flags",["exports","module","lodash","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){function i(){return A[location.hostname]||s}function n(){if("undefined"==typeof localStorage||"function"!=typeof localStorage.getItem)return null;try{var e=JSON.parse(localStorage.getItem("FLAGS"));if(!r["default"].isPlainObject(e))return null;var t=r["default"].map(a,"name");return r["default"].pick(e,t)}catch(i){return localStorage.removeItem("FLAGS"),null}}var r=t["default"](e),a=[{type:"boolean",name:"enable_yy_hot_questions",description:"是否启用『夜莺』功能里面的问题列表"},{type:"boolean",name:"enable_sw",description:"是否启用 ServiceWorker 的测试功能，如果启用之后再关闭，需要参考 wiki 里面的方案去清理缓存."},{type:"boolean",name:"enable_sys_v3",description:"启用 产品中心 对应的 v3 接口"},{type:"boolean",name:"enable_sentry",description:"启用 sentry.io 来收集JS报错"},{type:"boolean",name:"enable_baixin",description:"启用 百信私有云 相关的功能配置"},{type:"boolean",name:"enable_rst",description:"启用 ResourceTiming 的统计（分析CDN和源站的速度）"},{type:"boolean",name:"enable_usercenter",description:"启用 新版用户中心"},{type:"boolean",name:"enable_custom_sidebar",description:"启用 自定义导航"},{type:"boolean",name:"enable_api_gateway",description:"是否从 API Gateway 读取数据"}],o={getSchema:function(){return r["default"].cloneDeep(a)}},s={is_online:!0,enable_batch_recharge:{bcc:!0,cds:!0,rds:!0,bch:!0,baepro:!0,eip:!0,bbc:!0},enable_legacy_order_confirm:{},enable_yy_hot_questions:!0,enable_sys_v3:!0,enable_rst:!0,enable_custom_sidebar:!1},A={"localhost.bcetest.baidu.com":{is_online:!1,is_ticket:"/ticket/"===location.pathname,enable_sw:!1,enable_batch_recharge:{bcc:!0,cds:!0,rds:!0,bch:!0,baepro:!0,eip:!0,bbc:!0},enable_legacy_order_confirm:{},enable_yy_hot_questions:!0,enable_sys_v3:!0,enable_sentry:!0,enable_rst:!0,enable_usercenter:!0,enable_custom_sidebar:!0},"qasandbox.bcetest.baidu.com":{is_online:!1,enable_sw:!1,enable_batch_recharge:{bcc:!0,cds:!0,rds:!0,bch:!0,baepro:!0,eip:!0,bbc:!0},enable_legacy_order_confirm:{},enable_yy_hot_questions:!0,enable_sys_v3:!0,enable_sentry:!0,enable_rst:!0,enable_usercenter:!0,enable_custom_sidebar:!0},"ticket.bcetest.baidu.com":{enable_yy_hot_questions:!1,enable_sys_v3:!0,is_ticket:!0,enable_rst:!0},"ticket.bce.baidu.com":{enable_yy_hot_questions:!1,is_online:!0,is_ticket:!0,enable_sys_v3:!0,enable_sentry:!0},"console.baixinlocal.com":{enable_baixin:!0,enable_sys_v3:!0,enable_legacy_order_confirm:{}},"console.bce-preonline.baidu.com":{is_online:!1,enable_batch_recharge:{bcc:!0,cds:!0,rds:!0,bch:!0,baepro:!0,eip:!0,bbc:!0},enable_legacy_order_confirm:{},enable_sentry:!0,enable_rst:!0}},B=i(),C=n();module.exports=r["default"].extend(o,B,C)}),define("common/i18n",["exports","underscore","babel-runtime/helpers/interop-require-default","inf-i18n","inf-i18n/config","fc-storage/sessionStorage","./flags"],function(exports,e,t,i,n,r,a){exports.__esModule=!0;var o=t["default"](e),s=t["default"](i),A=t["default"](n),B=t["default"](r),C=t["default"](a);A["default"].url=C["default"].is_online?"https://console-i18n.bj.bcebos.com/console.%s":"https://console-i18n-offline.bj.bcebos.com/console.%s",A["default"].sourceType="amd";var D=function(){var e=/locale=([a-zA-Z\-]+)/g.exec(location.search),t=(e||[])[1];if(t)B["default"].set("LANGUAGE",t);return s["default"].activate(B["default"].get("LANGUAGE")||s["default"].getLanguage()).then(function(){var e="locale-"+s["default"].getLanguage().split("-")[0],t=document.body.className.split(" ");if(-1===o["default"].indexOf(t,e))t.push(e),document.body.className=t.join(" ")}).then(function(){return document.title=s["default"]("百度云-管理中心")})};exports.activate=D}),define("common/bootstrap",["exports","module","inf-ria/ui/pkg","babel-runtime/helpers/interop-require-default","jquery","./i18n"],function(exports,module,e,t,i,n){function r(){return a(),o["default"].init(),A["default"].activate().then(function(){window.require([G_STARTUP_MODULE],function(e){FRAMEWORK_LOADED_TIME=(new Date).getTime(),e.start()})})}function a(){var e=document.getElementById("root-app-container");if(e){var t="sidebar-expanded",i=location.pathname;if(i&&"/"!==i)t="sidebar-collapsed";s["default"](document.body).addClass("ui-v5"),e.innerHTML='<div id="main-sidebar" class="ui-v5 '+t+'"><a class="logo" target="_blank" href="https://cloud.baidu.com/?from=console"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 40 50"  xml:space="preserve"><g><path fill="#FFFFFF" d="M12.857,30.901v-8.003c0-1.55-0.835-2.981-2.192-3.756l-5.541-3.165v19.341c0,0.485,0.261,0.933,0.685,1.175l17.001,9.709v-6.33c0-1.548-0.836-2.98-2.192-3.756l-7.075-4.041C13.119,31.833,12.857,31.386,12.857,30.901z"/><path fill="#FFFFFF" d="M34.655,32.075l-7.076,4.041c-1.356,0.775-2.192,2.208-2.192,3.756v6.33l17-9.709c0.424-0.242,0.685-0.689,0.685-1.175V15.978l-5.541,3.165c-1.356,0.775-2.192,2.207-2.192,3.756v8.004C35.34,31.386,35.079,31.833,34.655,32.075z"/><path fill="#FFFFFF" d="M32.216,8.035l-7.1-4.056c-0.423-0.242-0.946-0.242-1.37,0l-17.071,9.75l5.542,3.165c1.356,0.774,3.028,0.774,4.384,0l7.145-4.082c0.1-0.057,0.208-0.099,0.316-0.129c0.351-0.098,0.731-0.056,1.054,0.129l7.145,4.082c1.356,0.774,3.028,0.774,4.384,0l5.542-3.165L32.216,8.035z"/></g></svg><svg class="logo-text" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="95px" height="40px" viewBox="40 0 135 50"  xml:space="preserve"><g><path fill="#FFFFFF" d="M51.883,12.434h24.353v3.427h-9.132l-0.525,2.181h8.606v14.955c0.141,2.077-1.015,3.079-3.463,3.011H53.038V18.042h8.503l0.419-2.181H51.883V12.434z M57.131,25.208h13.961v-4.051H57.131V25.208z M71.093,31.75v-3.011H57.131v4.05h12.913C70.813,32.929,71.162,32.581,71.093,31.75z"/><path fill="#FFFFFF" d="M89.463,13.058v-1.039h3.884v1.039h9.657v2.908H83.583v17.24v2.596h-3.357v-3.116V13.058H89.463z M84.634,28.427v-2.595h18.16v2.388l-6.403,3.946l0.63,0.312c0.419,0.276,0.909,0.38,1.47,0.312h4.408v2.907H97.23c-0.771,0-1.47-0.14-2.1-0.415l-2.31-1.142l-1.994,1.038c-0.77,0.345-1.61,0.553-2.52,0.623h-4.303v-3.012h3.043c0.699,0,1.189-0.067,1.471-0.208l1.153-0.519l-4.934-3.531L84.634,28.427z M85.684,20.535h-1.26v-2.908h1.155v-1.142h3.465v1.039h9.341v-0.935h3.464v0.935h1.155v2.907h-1.155v2.493c-0.14,1.385-1.015,2.077-2.624,2.077H85.684V20.535z M89.148,20.43v2.389h8.082c0.839,0.14,1.26-0.068,1.26-0.624V20.43H89.148z M89.463,28.427l1.574,0.936l1.68,0.935l3.044-1.87H89.463z"/><path fill="#FFFFFF" d="M129.876,16.277h-23.514v-3.323h23.514V16.277z M106.362,33.516l3.569-9.14h-3.569v-3.323h23.514v3.323h-16.165l-3.15,8.205h15.116c0.279,0.069,0.42-0.068,0.42-0.415v-3.843h3.673v4.985c0,1.661-0.804,2.492-2.413,2.492h-20.994V33.516z"/></g></svg></a></div><div id="bce-content" class="'+t+'"><div class="header ui-v5" id="header"></div><div class="main-area ui-v5"><div id="main" class="ui-v5"></div></div></div>'}}var o=t["default"](e),s=t["default"](i),A=t["default"](n);module.exports={start:r}}),define("common/billing/order/order",["exports","module","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","./enum","../../region"],function(exports,module,e,t,i,n,r){var a=i["default"](t),o=i["default"](r),s=function(){function t(i){e["default"](this,t),this.data=i||{},this.prepare()}return t.prototype.prepare=function(){var e=this;this.items=this.data.items||[],this.prepayItems=[],this.postpayItems=[],a["default"].each(this.items,function(t,i,r){if(n.ORDER_TYPE.isPrepay(t.productType))e.prepayItems.push(t);else if(n.ORDER_TYPE.isPostpay(t.productType))e.postpayItems.push(t)});var t=a["default"].uniq(a["default"].pluck(this.prepayItems,"serviceType"));this.prepays=t;var i=a["default"].uniq(a["default"].pluck(this.postpayItems,"serviceType"));if(1===t.length&&0===i.length)this.orderType=n.ORDER_TYPE.prepay;else if(0===t.length&&i.length>0)this.orderType=n.ORDER_TYPE.postpay;else this.orderType=n.ORDER_TYPE["package"];if(this.isShowCoupon=!0,this.data.display&&this.data.display.coupon!==!0)this.isShowCoupon=!1},t.prototype.getPostUrl=function(){if(!this.data.serviceType)return null;var e=this.data.serviceType.toLowerCase(),t="/api/"+e;if("cds"===e)t="/api/bcc/"+e;return t+="/order/confirm?orderType="+this.data.type},t.prototype.get=function(e){return this[e]||null},t.prototype.getRegion=function(){var e=o["default"].getCurrentRegion().rawId;if("BCH"===this.data.serviceType)e=this.data.region;return e},t}();module.exports=s}),define("common/billing/order/enum",["exports","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","inf-ria/EnumX","babel-runtime/helpers/interop-require-default","underscore","../../constants","../../enum"],function(exports,e,t,i,n,r,a,o){exports.__esModule=!0;var s=n["default"](i),A=n["default"](r),B=new s["default"]({alias:"prepay",text:"预付费",value:"prepay"},{alias:"postpay",text:"后付费",value:"postpay"},{alias:"package",text:"合并付款",value:"package"});exports.ORDER_TYPE=B,B.isPostpay=function(e){return e===B.postpay},B.isPackage=function(e){return e===B["package"]},B.isPrepay=function(e){return e===B.prepay};var C=function(i){function n(){t["default"](this,n),i.apply(this,arguments)}return e["default"](n,i),n.prototype.getCouponRegion=function(e){return this[e]?(e!==this.GLOBAL?"仅":"")+this.getTextFromValue(e):""},n}(s["default"]),D=new C({alias:"GLOBAL",text:"所有区域",value:o.AllRegion.GLOBAL},o.AllRegion.fromValue(o.AllRegion.BJ),o.AllRegion.fromValue(o.AllRegion.GZ),o.AllRegion.fromValue(o.AllRegion.HK),o.AllRegion.fromValue(o.AllRegion.HK02),o.AllRegion.fromValue(o.AllRegion.SU));exports.COUPON_REGION=D;var l=new s["default"]({alias:"common",text:"通用",value:"COMMON"});exports.COUPON=l,l.getServiceCouponText=function(e,t){if(e=A["default"].trim(e),e===l.common)return l.getTextFromValue(e);var i=a.SERVICE_TYPE[e]||{};return i.showName?i.showName:(t?i.name+" ":"")+e};var E=new s["default"]({alias:"COUPON",text:"代金券",value:"coupon"},{alias:"CAMPAIGN",text:"活动",value:"campaign"},{alias:"NORMAL",text:"优惠",value:"normal"});exports.OrderCampaign=E}),define("common/billing/order/fields",["exports","underscore","babel-runtime/helpers/interop-require-default","common/util/moneyUtil","../../constants","./config","./enum"],function(exports,e,t,i,n,r,a){exports.__esModule=!0;var o=t["default"](e),s=t["default"](i),A=t["default"](n),B=t["default"](r),C=function(e,t){var i=[],n=B["default"].CHARGE_TYPE_MAP;return o["default"].each(t,function(t,r){var a=t;if(t=t.toLowerCase(),"RDS"===e&&"cpc"===t)a="流量另计";else if("CDN"===e&&/^peakbandwidth_percent_/.test(t))a=t.substring(22)+"%峰值计费";else if("CDN"===e&&/^peakbandwidth_top_/.test(t)){var s=t.substring(18);a="1"===s?"月峰值":"按月第"+s+"峰值"}else if(t in n)if(o["default"].isObject(n[t]))a=n[t][e]||"";else a=n[t];if(a)i.push(a)}),i};exports.getChangeTypeContent=C;var D={title:"产品名称",content:function I(e){if(e.serviceName)return o["default"].escape(e.serviceName);if(A["default"].SERVICE_TYPE[e.serviceType]&&A["default"].SERVICE_TYPE[e.serviceType].showName)return A["default"].SERVICE_TYPE[e.serviceType].showName;var t=A["default"].SERVICE_TYPE[e.serviceType]?A["default"].SERVICE_TYPE[e.serviceType].name:"",I=e.serviceType;if(t)I+="（"+t+"）";return I}};exports.SERVICE_NAME=D;var l={title:"配置",content:function g(e){var g=o["default"].map(e.configuration,o["default"].escape).join("<br>");return g}};exports.SERVICE_CONFIG=l;var E={title:"数量",content:function(e){return o["default"].escape(e.count||"-")}};exports.SERVICE_COUNT=E;var u={title:"时长",content:function J(e){var t=B["default"].TIMEUNIT_MAP,J="";if("prepay"===e.productType&&e.time){var i=e.time,n=t[e.timeUnit]||e.timeUnit;J+=o["default"].escape(i)+o["default"].escape(n)}else J+="-";return J}};exports.SERVICE_TIME=u;var c={title:"单价",content:function L(e){var L='<span class="red">';if(null!=e.unitPriceShow){var t=e.unitPriceUrl?'<a href="'+e.unitPriceUrl+'" target="_blank">':"",i=e.unitPriceUrl?"</a>":"";L+=t+o["default"].map(e.unitPriceShow.split(","),o["default"].escape).join("<br>")+i}else L+="-";return L+="</span>"}};exports.UNIT_PRICE=c;var F={title:"计费方式",content:function(e){var t=C(e.serviceType,e.chargeType);return t.join("<br>")}};exports.SERVICE_CHARGE=F;var d={title:"变更后计费方式",content:function(e){var t=C(e.serviceType,e.chargeType);return t.join("<br>")}};exports.SERVICE_CHARGE_AFTER_ALTER=d;var f={title:"订单金额",content:function v(e){var t=s["default"].convertPrice(e.price).getPriceOfMinute(),v='<span class="red">';return v+="prepay"===e.productType?"￥"+o["default"].escape(t):"-",v+="</span>"}};exports.SERVICE_PRICE=f;var h=function(e){var t=a.COUPON_REGION.getCouponRegion(e.region),i="￥"+s["default"].showMoney(e.balance)+"（"+e.productTypeName+"）"+(t?"（"+t+"）":"")+(e.specialScenarioDescription?"（"+e.specialScenarioDescription+"）":"")+e.endDate+"到期";return i};exports.getCouponContent=h;var p={title:"代金券",content:function(e,t){var i='<select data-ui-type="Select" data-ui-x-event-type="beforechange,change" data-ui-x-event-bubble="true" data-ui-width="250" data-ui-x-row-index="'+t+'" data-ui-empty-text="无可用代金券">';if(e.availableCoupons&&e.availableCoupons.length>0)i+='<option value="" title="不选择代金券">不选择代金券</option>',o["default"].each(e.availableCoupons,function(e,t){var n=h(e);i+='<option value="'+e.id+'" title="'+n+'">'+n+"</option>"});else i+='<option value="">无可用代金券</option>';return i+="</select>"}};exports.SERVICE_COUPON=p;var H={title:"折扣",content:function(e){if(e.discount)return e.discount+"%";else return"-"}};exports.SERVICE_DISCOUNT=H;var G={title:"产品类型",content:function(e){return a.ORDER_TYPE.getTextFromValue(e.productType)}};exports.PRODUCT_TYPE=G;var m=function(e,t,i){var n=[u,c,F];if("TO_PREPAY"===i)n=[u,d];else if("TO_POSTPAY"===i)n=[d];var r=[D,l,E].concat(n);if(t)r.push(H);if(a.ORDER_TYPE.isPackage(e))r.push(f);return r};exports.getTableFields=m}),define("common/billing/order/ConfirmView",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","inf-ria/tpl!common/tpl","bat-ria/mvc/BaseView","babel-runtime/helpers/interop-require-default","underscore","jquery","../../util/moneyUtil","./fields","./enum"],function(exports,module,e,t,i,n,r,a,o,s,A,B,C){var D=a["default"](r),l=a["default"](o),E=a["default"](s),u=a["default"](A),c=a["default"](B),F=[{title:"产品名称",width:130,stable:!0,content:function(e){return"产品类型："+e.serviceType}}].concat(c["default"].SERVICE_COUPON),d=function(n){function r(){i["default"](this,r),n.call(this),this.couponMap={},this.beforeValue=0,this.operate=[]}return e["default"](r,n),r.prototype.getUIProperties=function(){return{prepay:{fields:"@tableFields",select:"",columnResizable:!0},couponTable:{fields:F,noHead:!0,width:450,datasource:"@couponList",columnRenderIndexes:[1],noDataHtml:"无可用代金券"},postpay:{fields:"@tableFields",select:"",columnResizable:!0},couponName:{width:150,maxLength:100,required:"required",placeholder:"请输入代金券号码",validityLabel:"couponNameValidity"}}},r.prototype.updateOperate=function(e){var t=this.operate;if(l["default"].indexOf(t,e)>-1)t.splice(l["default"].indexOf(t,e),1);t.push(e)},r.prototype.getOriginData=function(e){var t=this.model.get("couponList")[e],i=this.model.get("prepayItems"),n=0,r=null;return l["default"].each(i,function(e){if(e.serviceType===t.serviceType)if(n+=parseFloat(e.price),e.priceDetail)r=e.priceDetail}),{serviceType:t.serviceType,price:n,availableCoupons:t.availableCoupons,priceDetail:r}},r.prototype.getNeedPrice=function(e,t){var i=this.getOriginData(e);if(i.priceDetail){var n=function(){var e=0,n=l["default"].find(i.availableCoupons,function(e,i){return e.id===t});return l["default"].each(i.priceDetail,function(t){if(n&&n.productType&&n.productType.indexOf(t.servicetype)>-1||n.productType.indexOf(C.COUPON.common)>-1)e+=l["default"].reduce(t.price,function(e,t){return e+t},0)}),{v:e}}();if("object"==typeof n)return n.v}return i.price},r.prototype.getUsedCoupon=function(e,t){var i=this.getOriginData(e),n=l["default"].find(i.availableCoupons,function(e,i){return e.id===t}),r=0;l["default"].each(this.couponMap,function(i,n){if(parseInt(n,10)!==e&&i[t])r+=i[t]});var a=0,o=this.getNeedPrice(e,t);if(n){var s=n.balance-r;a=o>s?s:o}return a},r.prototype.updateCouponMap=function(e){var t=this,i=this.beforeValue,n=this.operate;if(i)!function(){var r=t.couponMap,a=r[e][i];l["default"].each(r,function(r,o){if(o=parseInt(o,10),l["default"].indexOf(n,o)<l["default"].indexOf(n,e)&&r[i]){var s=t.getNeedPrice(e,i)-r[i];if(s>=a)r[i]+=a,a=0;else r[i]+=s,a-=s}})}()},r.prototype.updateSelectDatasource=function(e,t,i){var n=this,r=[{name:"不选择代金券",value:"",title:"不选择代金券"}],a=this.getOriginData(e),o=this.operate;if(l["default"].each(a.availableCoupons,function(t){var a=0;l["default"].each(n.couponMap,function(n,r){r=parseInt(r,10);var s=t.id;if(n[s])if(r!==e)if(i===s){if(l["default"].indexOf(o,r)<l["default"].indexOf(o,e))a+=n[s]}else a+=n[s]});var s=t.balance-a;if(s>0){var A=l["default"].deepClone(t);if(s!==t.balance)A.balance=s;var B=c["default"].getCouponContent(A);r.push({name:B,value:t.id,title:B})}}),!l["default"].isEqual(t.get("datasource"),r))t.setProperties({value:i,datasource:r,xEventBubble:""}),t.setProperties({xEventBubble:"true"})},r.prototype.getPracticalAmount=function(e,t,i){var n=this.getOriginData(e),r=null;if(i)r=l["default"].find(n.availableCoupons,function(e,t){return e.id===i});return this.model.getItemPracticalAmount(n,t,r?r.productType:"")},r.prototype.getUIEvents=function(){var e=this;return{"confirmButton:click":function(t){e.fire("confirmOrder")},"prevPage:click":function(t){e.fire("redirectPrevPage")},"couponTable:beforechange":function(t){if(t.bubble===!0)e.beforeValue=parseInt(t.originalTarget.getValue(),10)},"couponTable:change":function(t){if(t.bubble===!0){var i=t.originalTarget,n=parseInt(i.get("xRowIndex"),10);e.updateOperate(n),e.updateCouponMap(n);var r=parseInt(i.getValue(),10)||"",a=0,o=0;if(r)a=e.getUsedCoupon(n,r),e.couponMap[n]={},e.couponMap[n][r]=a;else delete e.couponMap[n];o+=e.getPracticalAmount(n,a,r);var s=a,A=t.target.get("itemRenderers");l["default"].each(A,function(t,i){var r=parseInt(t.getValue(),10)||"",a=0;if(i!==n){if(r)a=e.getUsedCoupon(i,r),s+=a;o+=e.getPracticalAmount(i,a,r)}e.updateSelectDatasource(i,t,r)});var B=e.model.get("precision");e.get("coupon").setText(u["default"].showMoney(s),B),e.get("price").setText(u["default"].showMoney(o),B)}},"activeCoupon:click":function(t){e.fire("activeCoupon")},"cancelActive:click":function(t){e.get("couponName").setValue(""),e.get("couponName").hideValidity(),E["default"](".coupon-active-div").hide()},"activeLink:click":function(e){E["default"](".coupon-active-div").show()},"agree:change":function(t){if(t.target.isChecked())e.enableSubmit();else e.disableSubmit()}}},r.prototype.invalidCoupon=function(e){this.get("couponName").showValidationMessage("invalid",e)},r.prototype.enableSubmit=function(){this.get("confirmButton").enable()},r.prototype.disableSubmit=function(){this.get("confirmButton").disable()},r.prototype.enterDocument=function(){var e=this.model.get("order"),t=this.model.get("orderType"),i=this.model.get("prepayShowDiscount")||this.model.get("postpayShowDiscount"),r=l["default"].clone(c["default"].getTableFields(t,i,this.model.get("type")));if(e.appendFields){var a=l["default"].sortBy(e.appendFields,"colIndex");l["default"].each(a,function(e,t){r.splice(e.colIndex||0,0,e.field||{})})}this.model.set("tableFields",[c["default"].PRODUCT_TYPE].concat(r)),n.prototype.enterDocument.call(this)},t["default"](r,[{key:"template",get:function(){return"TPL_common_order_confirm"}}]),r}(D["default"]);module.exports=d}),define("common/config/routers",["exports","module","underscore","babel-runtime/helpers/interop-require-default","er/config","er/controller","../ioc","../constants","../IoCActionFactory"],function(exports,module,e,t,i,n,r,a,o){function s(){var e=[{type:new E["default"]("globalErrorNotfound"),path:"/error/404"},{type:new E["default"]("globalRegionNotfound"),path:"/region/404"},{type:new E["default"]("globalMonitorChart"),path:"/common/bcm/monitorChart"},{type:new E["default"]("globalBucketCreate"),path:"/common/bos/bucket/create/v2"},{type:new E["default"]("globalCustomNav"),path:"/common/customNav"}];B["default"].notFoundLocation="/error/404",C["default"].registerAction(e)}var A=t["default"](e),B=t["default"](i),C=t["default"](n),D=t["default"](r),l=t["default"](a),E=t["default"](o);D["default"].registerActionComponent("globalErrorNotfound","inf-ria-page/error/NotFound"),D["default"].registerActionComponent("globalRegionNotfound","inf-ria-page/region/NotFound"),D["default"].registerActionComponent("globalBucketCreate","inf-ria-page/bos/Create"),D["default"].registerActionComponent("globalCustomNav","inf-ria-page/custom-nav/Action"),D["default"].registerActionComponent("globalMonitorChart","inf-ria-page/monitor/MonitorChart",{action:{properties:{scope:l["default"].MONITOR_SCOPE}}}),module.exports={activate:A["default"].once(s)}}),define("common/config",["exports","module","underscore","babel-runtime/helpers/interop-require-default","bat-ria/extension/underscore","./config/routers","./config/api","./config/initData"],function(exports,module,e,t,i,n,r,a){var o=t["default"](e),s=t["default"](i),A=t["default"](n),B=t["default"](r),C=t["default"](a),D={api:B["default"],index:"/index/overview",pageSize:30,monitorDefaultPeriod:{"1h":60,"6h":300,"1d":1200,"7d":3600,"14d":21600,"40d":43200},monitorDefaultStatistics:"average",hooks:{ADD_ADER_ID:!1},initData:C["default"]};s["default"].activate(),A["default"].activate(),module.exports={getConfig:function(){return o["default"].deepClone(D)},api:B["default"]}}),define("common/billing/order/ConfirmModel",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","bat-ria/mvc/BaseModel","babel-runtime/helpers/interop-require-default","underscore","er/Deferred","moment","common/config","common/util/moneyUtil","common/flags","./enum","./order","common/constants"],function(exports,module,e,t,i,n,r,a,o,s,A,B,C,D,l,E){var u=r["default"](n),c=r["default"](a),F=r["default"](o),d=r["default"](s),f=r["default"](B),h=r["default"](C),p=r["default"](l),H=function(n){function r(){i["default"](this,r),n.apply(this,arguments)}return e["default"](r,n),r.prototype.fixCoupon=function(e,t){var i=[];return c["default"].each(e,function(e,n){e.endDate=d["default"](e.endTime).subtract(1,"d").format("YYYY-MM-DD");var r=[];if(e.productTypes)c["default"].each(e.productTypes,function(e){r.push(D.COUPON.getServiceCouponText(e))});else r.push(D.COUPON.getServiceCouponText(e.productType));e.productTypeName=(1===r.length&&e.productType!==D.COUPON.common?"仅":"")+r.join("、");var a=["BCD","MKT"];if(!c["default"].contains(a,t)||e.productType===t)i.push(e)}),i},r.prototype.fixOrder=function(e){var t=new p["default"](e);return this.set("items",t.get("items")),this.set("prepayItems",t.get("prepayItems")),this.set("prepays",t.get("prepays")),this.set("postpayItems",t.get("postpayItems")),this.set("orderType",t.get("orderType")),this.set("region",t.getRegion()),this.set("isShowCoupon",t.get("isShowCoupon")),e.postUrl=t.getPostUrl(),e},r.prototype.getDiscount=function(e){var t=this.get("discount");if(t[e]&&t[e]>0&&t[e]<100)return parseInt(t[e],10);if(t.COMMON&&t.COMMON>0&&t.COMMON<100)return parseInt(t.COMMON,10);else return null},r.prototype.getItemPracticalAmount=function(e,t,i){if(void 0===e)e={};var n=this;t=parseFloat(t)||0,i=i||D.COUPON.common;var r=0,a=0;if(e.priceDetail)c["default"].each(e.priceDetail,function(e){a=n.getDiscount(e.servicetype)||100,c["default"].each(e.price||[],function(n){if(n=parseFloat(n||0),i===D.COUPON.common||i.indexOf(e.servicetype)>-1)if(t>=n)t-=n;else r+=parseFloat(f["default"].showMoney((n-t)*a/100)),t=0;else r+=parseFloat(f["default"].showMoney(n*a/100))})});else{a=this.getDiscount(e.serviceType)||100;var o=parseFloat(e.price);r+=parseFloat(f["default"].showMoney((o-t)*a/100))}return r},r.prototype.prepare=function(){var e=this,t=this.get("orderType"),i=this.get("order").serviceType,n=c["default"].uniq(c["default"].pluck(this.get("items"),"serviceType"));this.prepareServiceAgreement(n);var r=0,a=0;c["default"].each(this.get("prepayItems"),function(t,i){
if(t.discount=e.getDiscount(t.serviceType),t.discount)a++;r+=e.getItemPracticalAmount(t)});var o=this.get("availableCoupons")||[],s=[],A=[];if(c["default"].each(this.get("prepays"),function(t,n){if(!c["default"].find(s,function(e){return e.serviceType===t})){var r=e.fixCoupon(o[n]?o[n]:[],i);s.push({serviceType:t,availableCoupons:r}),A=A.concat(c["default"].pluck(r,"id"))}}),this.set("couponCount",c["default"].uniq(A).length),this.set("couponList",s),D.ORDER_TYPE.isPrepay(t))this.set("prepayDiscount",this.get("prepayItems").length>0?this.get("prepayItems")[0].discount||100:100);this.set("prepayShowDiscount",a>0&&n.length>1),r=f["default"].showMoney(r),this.get("order").practicalAmount=r;var B=0;c["default"].each(this.get("postpayItems"),function(t,i){if(t.discount=e.getDiscount(t.serviceType),t.discount)B++}),this.set("postpayDiscount",1===this.get("postpayItems").length?this.get("postpayItems")[0].discount||100:100),this.set("postpayShowDiscount",B>0&&n.length>1)},r.prototype.prepareServiceAgreement=function(e){var t=[];if(e.length>0)c["default"].each(e,function(e){var i=E.SERVICE_TYPE[e];if(i.extraProperties&&i.extraProperties.agreement)t.push({serviceType:e,name:i.name,agreement:i.extraProperties.agreement})});this.set("agreementList",t)},r.prototype.activeCoupon=function(e){var t=this.get("region");return A.api.activeCoupon(e,{region:t})},t["default"](r,[{key:"datasource",get:function(){return[{order:function(e){if(e.get("order"))return e.fixOrder(e.get("order"));else return A.api.getMockupOrder({orderType:e.get("orderType")}).then(function(t){return e.fixOrder(t)})},config:function(e){if(e.get("config"))return e.get("config");else return A.api.getMockupConfig({orderType:e.get("orderType")})}},{isPrivilege:function(e){return!!e.get("config").privilegeName&&!e.get("config").unrestrictedPrivilege}},{discount:function(e){if(e.get("isPrivilege")||h["default"].enable_baixin)return{};var t=e.get("order"),i=t.type||"",n=e.get("region");if(i.indexOf("RESIZE")>-1&&t.productType===D.ORDER_TYPE.prepay)return A.api.getInstanceDiscount({serviceType:t.serviceType,instanceId:t.instanceId},{region:n});var r=[];return c["default"].each(e.get("items"),function(e){if(e.priceDetail)r=r.concat(c["default"].uniq(c["default"].pluck(e.priceDetail,"servicetype")));else r.push(e.serviceType)}),A.api.getServiceDiscount({serviceTypes:r},{region:n})},availableCoupons:function(e){var t=e.get("orderType"),i=e.get("region"),n=0;if(c["default"].each(e.get("prepayItems"),function(e){n+=parseFloat(e.price)}),e.set("totalPrepayPrice",n),e.set("totalPrepayPriceShow",f["default"].showMoney(n)),e.get("isPrivilege"))return e.set("couponsDatasource",[]),[];if(e.get("isShowCoupon")){if(D.ORDER_TYPE.isPrepay(t)||D.ORDER_TYPE.isPackage(t)){var r=c["default"].uniq(c["default"].pluck(e.get("prepayItems"),"serviceType")),a=c["default"].map(r,function(e){return A.api.getAvailableCoupons({serviceType:e,region:i,totalPrice:n},{region:i})});return F["default"].all.apply(this,a).then(function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];return t})}return null}}}]}}]),r}(u["default"]);module.exports=H}),define("common/billing/order/Confirm",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","bat-ria/mvc/BaseAction","babel-runtime/helpers/interop-require-default","./ConfirmModel","./ConfirmView","underscore","saber-cookie","inf-ria/helper","bat-ria/io/serverIO","../../flags","../../constants","../../region","../common","./enum"],function(exports,module,e,t,i,n,r,a,o,s,A,B,C,D,l,E,u,c){var F=r["default"](n),d=r["default"](a),f=r["default"](o),h=r["default"](s),p=r["default"](A),H=r["default"](B),G=r["default"](C),m=r["default"](D),I=r["default"](E),g=r["default"](u),J=function(n){function r(){i["default"](this,r),n.apply(this,arguments)}return e["default"](r,n),r.prototype.redirectPrevPage=function(e){this.fire("prevPage")},r.prototype.activeCoupon=function(e){var t=this,i=h["default"].trim(this.view.get("couponName").getValue());if(""===i)return void this.view.invalidCoupon("代金券号不能为空");else return void this.model.activeCoupon({couponName:i}).then(function(e){t.view.showToast("激活成功"),t.reload({order:t.model.get("order"),config:t.model.get("config")})}).fail(function(e){return t.view.invalidCoupon(e.field.couponName)})},r.prototype.confirmOrder=function(){this.view.disableSubmit(),this.payOrder(),this.fire("confirmed")},r.prototype.getExtraData=function(){return null},r.prototype.payOrder=function(){var e=this,t=this.model.get("order"),i=this.model.get("config"),n=t.serviceType.toLowerCase(),r=null,a=this.view.get("couponTable");if(a)!function(){var t=a.get("itemRenderers"),n=e.model.get("couponList");if(e.model.get("orderType")===c.ORDER_TYPE["package"])h["default"].each(t,function(t,r){var a=n[r].serviceType?n[r].serviceType:"";h["default"].each(i,function(i,n){if(e.getConfigServiceType(n)===a)i.couponId=t.getValue()})});else r=t[0]?t[0].getValue():""}();var o=t.fromService||t.serviceType,s=this.model.get("recharge"),A={config:i,couponId:r,successUrl:g["default"].getSuccessUrl(t.serviceType,!!s,{fromService:o},t.type),failUrl:g["default"].getFailureUrl({fromService:o})},B=this.getExtraData();if(B)h["default"].extend(A,B);var C=p["default"].get("bce-user-info");if(C)C=C.replace(/"/g,"");var D=t.region||I["default"].getCurrentRegion().id,l="global"===D?"bj":D;if(!m["default"].enable_legacy_order_confirm[n]){var E=t.confirmV2Url?t.confirmV2Url+"?orderType="+t.type:"/api/"+n+"/order/v2/confirm?orderType="+t.type;if("dcc"===n)E="/api/bcc/dcc/order/v2/confirm?orderType="+t.type;else if("adas"===n)E="/api/bss/v1/adas/order/confirm?orderType="+t.type;else if("vpn"===n)E="/api/network/v1/vpn/order/confirm/new?orderType="+t.type;else if("tsdb"===n)E="/api/iot_tsdb/order/v2/confirm?orderType="+t.type;var u={serviceType:n.toUpperCase(),fromService:o,orderType:t.type};if(s)u.recharge=s;this.submitAjax(E,this.orderAdaptor(A),u)}else this.submitForm({data:A,url:t.postUrl,csrftoken:C,region:l})},r.prototype.submitForm=function(e){var t=require.toUrl("common/billing/order_process/process.html");if(!/^\//.test(t))t+="/";window.sessionStorage.setItem("orderItem",JSON.stringify(e)),window.open(t),this.openConfirmDialog(),this.view.enableSubmit()},r.prototype.submitAjax=function(e,t,i){var n=this,r={},a=this.model.get("order").region;if(a)r.region=a;G["default"].post(e,t,r).then(function(e){if(m["default"].enable_baixin)return n.redirectToSuccessUrl(i);var t="/api/finance/payinfo",r={orderId:e.orderId};h["default"].defaults(i,r),G["default"].post(t,r).then(function(e){if(e.isPureCoupon||"SUCCESS"===e.orderStatus)n.redirectToSuccessUrl(i);else H["default"].redirectToModule("finance","/finance/pay",i)}).fail(function(){return H["default"].redirectToModule("finance","/finance/pay",i)})}).ensure(function(){return n.view.enableSubmit()})},r.prototype.redirectToSuccessUrl=function(e){var t=g["default"].getSuccessUrlParam(e.serviceType,!!e.recharge,e.orderType);H["default"].redirectToModule(t.module,t.path,e)},r.prototype.getConfigServiceType=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return e.split("__")[0].toUpperCase()},r.prototype.orderAdaptor=function(e){var t=this,i=h["default"].pluck(this.model.get("order").items,"serviceType"),n={paymentMethod:[],items:[]};if(h["default"].map(e.config,function(r,a){var o=t.getConfigServiceType(a),s=i.indexOf(o);if(s>-1&&h["default"].isObject(r)){var A={config:h["default"].extend(h["default"].omit(r,"couponId"),{serviceType:o}),paymentMethod:[]};if(r.couponId||e.couponId)if(A.paymentMethod.push({type:c.OrderCampaign.COUPON,values:[r.couponId||e.couponId]}),t.view.operate)A.purchaseOrder=t.view.operate.indexOf(s);n.items.push(A)}}),0===n.items.length){if(e.paymentMethod=[],e.couponId)e.paymentMethod.push({type:c.OrderCampaign.COUPON,values:[e.couponId]});n.items=[h["default"].pick(e,"config","paymentMethod")],n.items[0].config.serviceType=i[0].toUpperCase()}if(e.campaignIdentify)n.paymentMethod.push({type:c.OrderCampaign.CAMPAIGN,values:[e.campaignIdentify,e.privilegeName,e.campaignDesc,p["default"].get("CAMPAIGN_TRACK")||""]});else if(e.config&&e.config.privilegeName)n.paymentMethod.push({type:c.OrderCampaign.NORMAL,values:[e.config.privilegeName]});return n},r.prototype.confirmSuccess=function(){H["default"].redirectToModule("billing","/order/list")},r.prototype.confirmFailure=function(){window.location.href=l.domains.ticket},r.prototype.openConfirmDialog=function(){var e=this;this.view.waitConfirm({title:"付款完成前请不要关掉页面",content:"请在新页面完成付款后选择",width:400,okText:"完成付款",cancelText:"遇到问题",needFoot:!0}).then(function(){return e.confirmSuccess()}).fail(function(){return e.confirmFailure()})},r.prototype.initBehavior=function(){n.prototype.initBehavior.call(this),this.view.on("redirectPrevPage",this.redirectPrevPage,this),this.view.on("activeCoupon",this.activeCoupon,this),this.view.on("confirmOrder",this.confirmOrder,this)},t["default"](r,[{key:"modelType",get:function(){return d["default"]}},{key:"viewType",get:function(){return f["default"]}}]),r}(F["default"]);module.exports=J}),define("common/bcm/mtools",["exports","module","inf-ria/utils/mtools","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var i=t["default"](e);module.exports=i["default"]}),define("common/bcm/config",["exports"],function(exports){}),define("common/storage",["exports","module","underscore","babel-runtime/helpers/interop-require-default","./constants","fc-storage/localStorage"],function(exports,module,e,t,i,n){function r(e,t){var i=function(){if(!n.SPEC_KEY)n.SPEC_KEY=t();return n.SPEC_KEY},n={SPEC_KEY:null,dump:function(){var t=e.getItem(i());if(!o["default"].isObject(t))t={};return o["default"].clone(t)},get:function(e){var t=this.dump();return o["default"].clone(t[e])},set:function(t,n){var r=this.dump();r[t]=n,e.setItem(i(),r)},clear:function(){e.removeItem(i())},remove:function(t){var n=this.dump();if(o["default"].isObject(n)&&void 0!==n[t])delete n[t];e.setItem(i(),n)},update:function(t,n){var r,a=(r={},r[t]=n,r);e.updateItem(i(),a)}};return n}function a(){return s["default"].userid||"default-user"}var o=t["default"](e),s=t["default"](i),A=t["default"](n);module.exports=r(A["default"],a)}),define("common/component/header/helper",["exports","module","er/URL","babel-runtime/helpers/interop-require-default","er/controller","jquery","underscore","moment","inf-i18n","esui","er/Deferred","../../storage","../../action_types","../action_category"],function(exports,module,e,t,i,n,r,a,o,s,A,B,C,D){function l(){var e=arguments.length<=0||void 0===arguments[0]?location.pathname:arguments[0],t=arguments.length<=1||void 0===arguments[1]?v["default"].currentURL:arguments[1];if(!e||"/"===e)e="/home/";var i=e.replace(/\//g,"").toUpperCase();if(/^X-/i.test(i))i=i.substr(2);if(null==t)t=L["default"].parse(location.hash.substr(1));var n=t.getPath();if("BILLING"===i){if("/order/success"===n||"/order/confirm"===n)i=t.getQuery("serviceType")||t.getQuery("amp;serviceType")||i}else if("BCC"===i)if(/^\/bcc\/cds\//.test(n))i="CDS";return i}function E(){var e=arguments.length<=0||void 0===arguments[0]?v["default"].currentURL:arguments[0],t=T["default"].UNKNOWN,i=e.getPath(),n=y["default"].size(e.getQuery());if(-1!==y["default"].indexOf(S["default"].getListActions(),i)&&0===n)t|=T["default"].LIST;if(-1!==y["default"].indexOf(S["default"].getCreateActions(),i)&&0===n)t|=T["default"].CREATE;if(-1!==y["default"].indexOf(S["default"].getCreateLikeActions(),i))t|=T["default"].CREATE_LIKE;return t}function u(e){var t=arguments.length<=1||void 0===arguments[1]?v["default"].currentURL:arguments[1],i=y["default"].filter(e,function(e){return e.isMatch(t)});if(i.length>1)i.sort(function(e,t){var i=e.conditions.length,n=t.conditions.length;if(i>n)return-1;else if(n>i)return 1;return 0});return i}function c(e){if(location.search)e.find("a").each(function(e,t){if("undefined"!=typeof t.search&&!t.search&&!/^https?:\/\//.test(M["default"](t).attr("href")))t.search=location.search})}function F(e){var t=K["default"](e).toDate();return t>new Date}function d(){M["default"](".service-overview > a").find(".badge").remove(),O["default"].set(x,!0)}function f(e,t){var i=!1,n=O["default"].get(x)===!0;t=t||y["default"].keys(e);for(var r=0;r<t.length;r++){var a=e[t[r]];if(a&&a.badgeNew===!0)if(!n&&(null==a.badgeNewExpired||F(a.badgeNewExpired)))i=!0;else a.badgeNew=!1}return i}function h(){var e=arguments.length<=0||void 0===arguments[0]?location.hash:arguments[0];if(!(/baseinfo.*hideBar/.test(e)||/\/iam\/user\/v2\/activate/.test(e)||/\/iam\/user\/activate/.test(e)||/\/collaborator\/baseinfo/.test(e)||/\/iam\/user\/reset/.test(e)))return!1;else return!0}function p(e,t){if(e){var i=e.data("category")||t;e.on("click","a",function(e){var t=M["default"](e.target),n=t.data("action"),r=t.data("category")||i;if(n&&r&&window._hmt)window._hmt.push(["_trackEvent",r,n])})}}function H(){M["default"]("#bce-content, #main-sidebar").removeClass("sidebar-expanded").addClass("sidebar-collapsed"),M["default"](".sidebar-item").removeClass("tip-disable"),m()}function G(){M["default"]("#bce-content, #main-sidebar").removeClass("sidebar-collapsed").addClass("sidebar-expanded"),M["default"](".sidebar-item").addClass("tip-disable"),m()}function m(){var e=document.createEvent("UIEvents"),t=document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),t.initUIEvent("scroll",!0,!1,window,0),window.dispatchEvent(e),window.dispatchEvent(t)}function I(e){if(!location.search||/^https?:\/\//.test(e))return e;var t=e.split("#"),i=t[0],n=t[1];return i+location.search+(n?"#"+n:"")}function g(e){function t(e,t,i,n){if(!r[t])r[t]={name:N["default"](e),services:[]};r[t].services[n]=i}for(var i={},n=[],r=[],a=0;a<e.length;a++){var o=e[a];if(!i[o.serviceType]){if(o.createUrl)o.createUrl=I(o.createUrl);if(o.listUrl)o.listUrl=I(o.listUrl);if(o.showUrl)o.showUrl=I(o.showUrl);if(o.icon&&!/^icon-/.test(o.icon))o.icon="icon-"+o.icon;if(i[o.serviceType]=o,o.category)t(o.category,o.categoryIndex,o.serviceType,o.categoryInnerIndex);if("NONE"===o.abbr)o.abbr=null;else if(""===o.abbr)delete o.abbr;if(o.enableBadge)o.badgeNew=!0;if(o.name)o.name=N["default"](o.name);if(o.chargeType)if(1===y["default"].size(o.chargeType)){var s=y["default"].values(o.chargeType)[0];if(1===s.length)o.chargeType=s[0]}delete o.sysType,delete o.siteType,delete o.pgm,delete o.uuid,delete o.category,delete o.categoryIndex,delete o.categoryInnerIndex,delete o.enableBadgeTime,delete o.enableBadge}else throw new Error("Duplicate serviceType "+o.serviceType)}r=y["default"].compact(r);for(var A=r.length,a=0;A>a;a++){var o=r[a];if(o.services=y["default"].compact(o.services),n.push(o),A-1>a&&(a+1)%6===0)n.push({name:":seperator:",services:[],type:"seperator"})}return{SERVICE_TYPE:i,SERVICE_LAYOUT:n}}function J(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=document.createElement("div");document.body.appendChild(t);var i={width:960,needFoot:!0,draggable:!0,closeOnHide:!0,autoClose:!0,main:t};e=y["default"].defaults({},e,i);var n=b["default"].create("ActionDialog",e);n.show(),n.main.style.opacity="0";var r=new P["default"];return n.on("actionloaded",r.resolver.resolve),n.on("actionloadfail",r.resolver.reject),n.on("actionloadabort",r.resolver.reject),n.on("actionloaded",function(){n.resize(),n.main.style.visibility="visible",n.main.style.opacity="1"}),r.promise}var L=t["default"](e),v=t["default"](i),M=t["default"](n),y=t["default"](r),K=t["default"](a),N=t["default"](o),b=t["default"](s),P=t["default"](A),O=t["default"](B),S=t["default"](C),T=t["default"](D),x="K_BADGE_20161011";module.exports={getServiceName:l,getActionCategory:E,fixHrefs:c,findMatchRules:u,shouldDisplayBadge:f,hideBadge:d,shouldHideNavigation:h,trackEventOnElement:p,collapseSidebar:H,expandSidebar:G,transformK:g,waitActionDialog:J}}),define("common/service",["exports","module","babel-runtime/helpers/class-call-check","jquery","babel-runtime/helpers/interop-require-default","er/controller","er/URL","inf-ria/helper","./component/header/helper","./constants"],function(exports,module,e,t,i,n,r,a,o,s){var A=i["default"](t),B=i["default"](n),C=i["default"](r),D=i["default"](a),l=i["default"](s),E=function(){function t(i,n){e["default"](this,t),this.model=i,this.moduleName=D["default"].getAppName(location.pathname),this.defaultActionUrl=null,this.key=n||o.getServiceName(),this.config=this.model.SERVICE_TYPE[this.key]}return t.current=function(){return new t(l["default"])},t.create=function(e){return new t(l["default"],e)},t.guess=function(e){var i=location.protocol+"//"+location.host;if(0===e.indexOf(i))e=e.replace(i,"");if(!e||/^\/(qss|mat|viz)\//.test(e)||/^https?:\/\//.test(e))return null;var n=/([^\?#]+)?(\?[^#]+)?(#.*)?/,r=n.exec(e),a=(r[0],r[1]),s=(r[2],r[3]);if(!a||/^javascript/.test(a)||"/logout"===a)return null;var module=a.replace(/\//g,""),A=s?s.substr(1):null;if(""===module)module="home";var B=o.getServiceName(a,C["default"].parse(A||"/")),E=new t(l["default"],B);return E.moduleName=D["default"].getAppName(a),E.defaultActionUrl=A,E},t.prototype.equals=function(e){return e.key===this.key&&e.moduleName===this.moduleName},t.prototype.getKey=function(){return this.key},t.prototype.getSubKey=function(){var e={BCC:/^\/((bbc)|(dcc))\//,IOT:/^\/iot\/(modbus)\//},t=e[this.key];if(!t)return null;var i=t.exec(location.hash.substr(1));if(!i)return null;else return i[1].toUpperCase()},t.prototype.supportRegion=function(e){if(!this.config)return!0;var t=this.getRegion();if(!t.global&&!t[e])return!1;else return!0},t.prototype.canSwitchTo404=function(){if(!this.config)return!0;else return this.config.disableRegion404!==!0},t.prototype.getRegion=function(){var e={};return this.config?this.config.region||e:e},t.prototype.getFullName=function(){var e=this.config?this.config.name:"";return e+this.key},t.prototype.getActionConfig=function(){var e=arguments.length<=0||void 0===arguments[0]?B["default"].currentURL:arguments[0],t=e.getPath(),i=B["default"].actionPathMapping;return i[t]},t.prototype.switchTo=function(e){var i=A["default"](e.currentTarget);if("_blank"!==i.attr("target")){var n=i.attr("href"),r=t.guess(n);if(r&&!this.equals(r)){e.preventDefault();var a=r.defaultActionUrl||"",o=r.moduleName.toLowerCase();return this.start(o,a)}}},t.prototype.start=function(e,t){var i=e||this.moduleName,n=t||this.defaultActionUrl,r={};if(n&&-1!==n.indexOf("~")){var a=C["default"].parse(n);n=a.getPath(),r=a.getQuery()}return D["default"].redirectToModule(i,n,r).then(function(){if("home"===i)o.expandSidebar();else o.collapseSidebar()})},t.prototype.stop=function(){},t.prototype.dynamicSidebar=function(){return/^(billing|finance|iam|mc|qualify)$/i.test(this.key)},t}();module.exports=E}),define("common/region",["exports","module","er/locator","babel-runtime/helpers/interop-require-default","er/controller","./constants","./service","./enum"],function(exports,module,e,t,i,n,r,a){var o=t["default"](e),s=t["default"](i),A=t["default"](n),B=t["default"](r),C="",D={setCurrentRegion:function(e){C=e},getServiceName:function(){return location.pathname.replace(/\//g,"").toUpperCase()},getCurrentRegion:function(e){if(!e)e=this.getServiceName();var t=B["default"].create(e),i="",n=C,r="-",a=!1;if(""!==n)i=t.supportRegion("global")?"global":n,r=A["default"].REGION[i],a="global"===i;var o=[{id:i,rawId:n,text:r,value:i}];return{id:i,rawId:n,label:r,isGlobal:a,datasource:o}},isSupport:function(e){if(!e||!e.getPath())return!0;var t={url:e},i=s["default"].findActionConfig(t);if(i&&i.skipRegionCheck===!0)return!0;var n=e.getPath();if("/region/404"===n)return!0;else return D.isSupportService(B["default"].current())},isSupportService:function(e){if(!e.supportRegion(C)&&e.canSwitchTo404())return!1;else return!0},checkSupport:function(){if(!D.isSupportService(B["default"].current()))return o["default"].redirect("/region/404"),!1;else return!0},getLabel:function(e){return a.AllRegion.getTextFromValue(e)||"-"}};module.exports=D}),define("common/baidubce",["exports","promise","babel-runtime/helpers/interop-require-default","bce-sdk-js/bcc/Instance","bce-sdk-js/bcc/Disk","bce-sdk-js/bcc/Image","bce-sdk-js/bcc/Snapshot","bce-sdk-js/bcc/SecurityGroup","bce-sdk-js/bos_client","bce-sdk-js/risk_client","./region"],function(exports,e,t,i,n,r,a,o,s,A,B){function C(e,t){var i=e.sendHTTPRequest;e.createSignature=function(e,t,i,n,r){var a=null;return E["default"].resolve(a)},e.sendHTTPRequest=function(e,n,r,a){if(r.headers&&!r.headers["x-region"]){var o=H["default"].getCurrentRegion(),s="global"===o.id?"bj":o.id;r.headers["x-region"]=s}return r.headers["x-target-host"]=t,i.call(this,e,n,r,a)}}function D(){return E["default"].resolve({ak:"ak",sk:"sk"})}function l(e){var t=G[e];if(!t)throw new Error("Unsupported serviceType: "+e);var i=e.split("/")[0];return D().then(function(e){var n=new t({endpoint:location.protocol+"//"+location.host,credentials:e});return C(n,i),n})}exports.__esModule=!0,exports.createClient=l;var E=t["default"](e),u=t["default"](i),c=t["default"](n),F=t["default"](r),d=t["default"](a),f=t["default"](o),h=t["default"](s),p=t["default"](A),H=t["default"](B),G={bcc:u["default"],"bcc/instance":u["default"],"bcc/image":F["default"],"bcc/disk":c["default"],"bcc/snapshot":d["default"],"bcc/security_group":f["default"],bos:h["default"],"risk-bos":p["default"]}}),define("common/action_types",["exports","module","underscore","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var i=t["default"](e),n=[],r=[],a=[],o={};module.exports={reset:function(){n=[],r=[],a=[],o={}},getListActions:function(){return n},getCreateActions:function(){return r},getCreateLikeActions:function(){return a},getRedirectRules:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];if(!e)return i["default"].extend({},o);else return o[e]},registerRedirectRules:function(e,t){o[e]=t},registerListActions:function(e){n=i["default"].uniq(n.concat(e))},registerCreateActions:function(e){r=i["default"].uniq(r.concat(e))},registerCreateLikeActions:function(e){a=i["default"].uniq(a.concat(e))}}}),define("common/extension/ioc",["exports","module","lodash","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){function i(e,t,i){var r,a=e+"View",o=t+"View",s=e+"Model",A=t+"Model",B=i||{},C={module:t,auto:!0,properties:{model:{$ref:s},view:{$ref:a}}};n(C,B.action);var D={module:o,auto:!0};n(D,B.view);var l={module:A,auto:!0};n(l,B.model);var E=(r={},r[e]=C,r[a]=D,r[s]=l,r);return E}function n(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;t>n;n++)i[n-1]=arguments[n];i.forEach(function(t){if(t){if(t.properties)e.properties=e.properties||{},r["default"].extend(e.properties,t.properties),t=r["default"].omit(t,"properties");r["default"].extend(e,t)}})}var r=t["default"](e);module.exports={createActionComponent:i,mergeExtends:n,activate:r["default"].noop}}),define("common/ioc",["exports","module","lodash","babel-runtime/helpers/interop-require-default","uioc","./extension/ioc","./config/api"],function(exports,module,e,t,i,n,r){function a(e){var t={};return t}function o(e){for(var t={},module=e.module,i=e.remoteModule,n=e.entityName,r=e.extend||{},a=0;a<e.actions.length;a++){var o=e.actions[a],s=o.extend||{},A={},C=o.name,D=C.charAt(0).toLowerCase()+C.slice(1),l=(i||module)+"/mvc/"+C,E=D+"Model",u=l+"Model";t[E]={module:u,properties:e.omitAutoProperties?null:A,auto:!0},B["default"].mergeExtends(t[E],r.model,s.model);var c=D+"View",F=l+"View",d={rule:{$ref:"commonRule"}};t[c]={module:F,properties:e.omitAutoProperties?null:d,auto:!0},B["default"].mergeExtends(t[c],r.view,s.view);var f={model:{$ref:E},view:{$ref:c},group:o.group||e.group,subGroup:o.subGroup||e.subGroup};if(i)f.packageName=i;t[D]={module:l,args:[n],properties:f,auto:!0},B["default"].mergeExtends(t[D],r.action,s.action)}return t}var s=t["default"](e),A=t["default"](i),B=t["default"](n),C=t["default"](r),D=new A["default"],l={systemConstants:{module:"common/constants",scope:"static"},user:{module:"common/user",scope:"static"},region:{module:"common/region",scope:"static"},service:{module:"common/service",scope:"static"},eventBus:{module:"er/events",scope:"static"},globalAuth:{module:"common/auth",scope:"static"},globalFlags:{module:"common/flags",scope:"static"},globalStorage:{module:"common/storage",scope:"static"},requestManager:{creator:function(){return C["default"]}},messageNotifierComponent:{module:"common/component/header/message_notifier",args:[{$ref:"systemConstants"}],auto:!0},serviceListComponent:{module:"common/component/header/service_list",args:[{$ref:"systemConstants"},{$ref:"user"}],auto:!0},broadcastComponent:{module:"common/component/header/broadcast",auto:!0}};D.addComponent(l),D.registerComponents=function(module,e,t){e.module=module,e.entityName=s["default"].camelCase(module);var i=a(e),n=o(e);s["default"].extend(i,n,t),D.addComponent(i)},D.registerActionComponent=function(e,t,i){var n=B["default"].createActionComponent(e,t,i);return D.addComponent(n),n},module.exports=D}),define("common/IoCActionFactory",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","inf-ria/mvc/ActionFactory","babel-runtime/helpers/interop-require-default","./ioc"],function(exports,module,e,t,i,n,r){var a=n["default"](i),o=n["default"](r),s=function(i){function n(){t["default"](this,n);for(var e=arguments.length,r=Array(e),a=0;e>a;a++)r[a]=arguments[a];i.call.apply(i,[this].concat(r)),this.setIocContainer(o["default"])}return e["default"](n,i),n}(a["default"]);module.exports=s}),define("common/App",["exports","module","babel-runtime/helpers/class-call-check","promise","babel-runtime/helpers/interop-require-default","er/main","bat-ria/main","bat-ria/util"],function(exports,module,e,t,i,n,r,a){var o=i["default"](t),s=i["default"](n),A=i["default"](r),B=i["default"](a),C=function(){function t(i){e["default"](this,t),this.config=i,this.inited=!1}return t.prototype.initialize=function(){if(!this.inited){var e=this.config;if(e.api)e.api=B["default"].genRequesters(e.api);this.inited=!0}},t.prototype.start=function(){return this.initialize(),o["default"].resolve(t.frameworkInitialized?s["default"].start():A["default"].start(this.config)).then(function(){return t.frameworkInitialized=!0})},t.prototype.stop=function(){},t}();module.exports=C,C.frameworkInitialized=!1}),define("common/eip/operations",["require","jquery","inf-ria/helper"],function(require){var exports={},e=require("jquery");return exports.bind=function(t){var i=this,n=i.view,r=function(r,a){var o=e("input[name=ifBuyNew]"),s=r.view.get("eip").getValue();if(o[0].checked&&s)t.submitRequester({instanceType:t.instanceType,instanceId:t.instanceId,eip:s}).then(function(){a.dispose(),n.showToast("绑定成功"),i.reload()});else if(o[1].checked)require("inf-ria/helper").redirectToModule("eip","/eip/instance/create",{instanceType:t.instanceType,instanceId:t.instanceId,instancePayment:t.instancePayment||"postpay"})};n.waitActionDialog({title:"弹性公网IP绑定",width:450,needFoot:!0,url:"/common/eip/bind",actionOptions:{parentAction:i,listRequester:t.listRequester}}).then(function(e){var t=e.target,n=t.getFoot().getChild("btnOk"),a=t.getFoot().getChild("btnCancel");n.disable();var o=t.getAction();n.on("click",function(){r.call(i,o,t)}),a.on("click",function(){t.fire("cancel"),t.dispose()}),t.resize()})},exports}),define("common/eip/config",["require","er/controller"],function(require){var e=[{type:"common/eip/Create",path:"/common/eip/create"},{type:"common/eip/Bind",path:"/common/eip/bind"}],t=require("er/controller");t.registerAction(e);var i={PAYMENT:{prepay:"prepay",postpay:"postpay",bandwidth:"bandwidth",netraffic:"netraffic",TXT:{prepay:"预付费",postpay:"后付费",bandwidth:"按使用带宽计费",netraffic:"按使用流量计费"}},DOC_URL:{QUATA:"https://cloud.baidu.com/doc/EIP/ProductDescription.html#.E8.B4.AD.E4.B9.B0.E9.A1.BB.E7.9F.A5"},EVENTS:{RECHARGE:"recharge",RELEASE:"release",BINDTOBCC:"bindtobcc",BINDTOBLB:"bindtoblb",UNBIND:"unbind",UPGRADE_NETWORK:"upgrade_network",CREATE_INSTANCE:"create_instance",UPDATE_PRODUCTTYPE:"update_producttype",GET_PRICE:"get_price",RESET:"reset",ORDER_CONFIRM:"order_confirm"},RULE:{NAME:{placeholder:"大小写字母、数字以及-_ /.特殊字符，必须以字母开头，长度1-65",pattern:/^[a-zA-Z][\w\-\/\.]{0,64}$/,patternErrorMessage:"名称不符合规则：支持大小写字母、数字以及-_ /.特殊字符，必须以字母开头，长度1-65"},NAME_SUPPORT_CHINESE:{placeholder:"大小写字母、数字，中文以及-_ /.特殊字符，必须以字母开头，长度1-65",pattern:/^[a-zA-Z\u4e00-\u9fa5][\u4e00-\u9fa5\w\-\/\.]{0,64}$/,patternErrorMessage:"名称不符合规则：大小写字母、数字，中文以及-_ /.特殊字符，必须以字母开头，长度1-65"}}};return i}),define("common/util/moneyUtil",["exports","module","underscore","babel-runtime/helpers/interop-require-default","./math"],function(exports,module,e,t,i){var n=t["default"](e),r=t["default"](i);module.exports={convertPrice:function(e,t){e=parseFloat(e),e=0===e?0:e||"-";var i=n["default"].isNumber(e);if(i)switch(t){case"second":e=r["default"].safeMulti(e,60);break;case"minute":break;case"hour":e/=60}return{getPriceOfMinute:function(t){if(i){var n=e.toString().split(".")[1]||"";if(n.length<2)e=e.toFixed(2);return t?e+t:e}return t?"-"+t:"-"},getPriceOfHour:function(t){if(e=r["default"].safeMulti(e,60),i){var n=e.toString().split(".")[1]||"";if(n.length<2)e=e.toFixed(2);return t?e+t:e}return t?"-"+t:"-"}}},format:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?"&yen;":arguments[2];if(e=r["default"].fixPrecision(e),"-"===e)return e;if(t)e=e.replace(/\d+/,function(e){return e.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")});return e.replace(/^(-?)/,"$1"+i)},showMoney:r["default"].fixPrecision}}),define("common/eip/CreateView",["require","inf-ria/tpl!common/tpl","bat-ria/mvc/FormView","common/util/moneyUtil","common/constants","common/region","./config","er/util"],function(require){function e(){t.apply(this,arguments)}require("inf-ria/tpl!common/tpl");var t=require("bat-ria/mvc/FormView"),i=require("common/util/moneyUtil"),n=require("common/constants"),r=require("common/region"),a=require("./config"),o=a.EVENTS,s=a.PAYMENT;e.prototype.template="TPL_common_eip_create";var A=[{title:"地域：",content:function(e){return r.getCurrentRegion().label}},{title:"购买配置：",content:function(e){if(e.subProductType===s.netraffic)return e.bandwidthInMbps?"公网带宽峰值"+e.bandwidthInMbps+"Mbps":"不限制带宽峰值";else return"公网带宽"+e.bandwidthInMbps+"Mbps"}},{title:"购买配额：",content:function(e){var t="";return t+=e.productType===s.prepay?e.purchaseLength+"月 * ":"",t+=e.count+"个"}},{title:"配置费用：",content:function(e,t){var n=i.convertPrice(e.configMoney),r=0;if(e.productType===s.prepay)t.title="价格：",r=n.getPriceOfMinute();else if(e.productType===s.postpay)t.title="配置费用：",r=n.getPriceOfMinute("/分钟");return'<span class="price">￥'+r+"</span>"}},{title:"流量费用：",content:function(e,t){var n=i.convertPrice(e.networkMoney),r="0.00/GB";if(e.subProductType===s.netraffic)t.hidden=!1,r=n.getPriceOfMinute("/GB");else t.hidden=!0;return'<span class="price">￥'+r+"</span>"}}];return e.prototype.formId="eipForm",e.prototype.uiProperties={eipProductType:{activeIndex:"@eipProductTypeIndex"},name:a.RULE.NAME,networkType:{datasource:[{name:s.TXT.netraffic,value:s.netraffic},{name:s.TXT.bandwidth,value:s.bandwidth}],hidden:!0},network:{max:200,min:1,length:349,unit:"Mbps"},purchaseLength:{datasource:n.PURCHASELENGTH,value:"@eipPurchaseLength"},purchaseNum:{currentValue:"@eipPurchaseNum",max:"@eipPurchaseNumMax",required:"required",requiredErrorMessage:"购买数量必填",pattern:"^[1-9][0-9]*$",patternErrorMessage:"购买数量必须是正整数"},eipBuyBucket:{fields:A,offsetTop:20,productLink:"",needPreBtn:"@needPreBtn",confirmBtn:{text:"下一步",skin:"skin-primary-button"}}},e.prototype.uiEvents={"eipProductType:activate":function(e){this.fire(o.UPDATE_PRODUCTTYPE,{optType:"productType",optValue:e.activeIndex}),this.fire(o.GET_PRICE)},"networkType:change":function(e){this.fire(o.UPDATE_PRODUCTTYPE,{optType:"networkType",optValue:e.index}),this.fire(o.GET_PRICE)},"network:change":function(e){this.fire(o.GET_PRICE)},"purchaseLength:change":function(e){this.fire(o.GET_PRICE);
},"purchaseNum:change":function(e){this.fire(o.GET_PRICE)},eipBuyBucket:{reset:function(e){e.preventDefault(),this.fire(o.RESET)},confirm:function(e){if(e.preventDefault(),this.get("eipForm").validate())this.fire(o.ORDER_CONFIRM)},previous:function(e){e.preventDefault(),this.fire("redirectPrevPage")}}},require("er/util").inherits(e,t),e}),define("big.js/big",["require"],function(e){"use strict";function t(){function e(i){var r=this;if(!(r instanceof e))return void 0===i?t():new e(i);if(i instanceof e)r.s=i.s,r.e=i.e,r.c=i.c.slice();else n(r,i);r.constructor=e}return e.prototype=E,e.DP=s,e.RM=A,e.E_NEG=D,e.E_POS=l,e}function i(e,t,i){var n=e.constructor,a=t-(e=new n(e)).e,o=e.c;if(o.length>++t)r(e,a,n.RM);if(!o[0])++a;else if(i)a=t;else o=e.c,a=e.e+a+1;for(;o.length<a;o.push(0));return a=e.e,1===i||i&&(a>=t||a<=n.E_NEG)?(e.s<0&&o[0]?"-":"")+(o.length>1?o[0]+"."+o.join("").slice(1):o[0])+(0>a?"e":"e+")+a:e.toString()}function n(e,t){var i,n,r;if(0===t&&0>1/t)t="-0";else if(!u.test(t+=""))a(NaN);if(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(i=t.indexOf("."))>-1)t=t.replace(".","");if((n=t.search(/e/i))>0){if(0>i)i=n;i+=+t.slice(n+1),t=t.substring(0,n)}else if(0>i)i=t.length;for(n=0;"0"==t.charAt(n);n++);if(n==(r=t.length))e.c=[e.e=0];else{for(;"0"==t.charAt(--r););for(e.e=i-n-1,e.c=[],i=0;r>=n;e.c[i++]=+t.charAt(n++));}return e}function r(e,t,i,n){var r,o=e.c,s=e.e+t+1;if(1===i)n=o[s]>=5;else if(2===i)n=o[s]>5||5==o[s]&&(n||0>s||o[s+1]!==r||1&o[s-1]);else if(3===i)n=n||o[s]!==r||0>s;else if(n=!1,0!==i)a("!Big.RM!");if(1>s||!o[0])if(n)e.e=-t,e.c=[1];else e.c=[e.e=0];else{if(o.length=s--,n)for(;++o[s]>9;)if(o[s]=0,!s--)++e.e,o.unshift(1);for(s=o.length;!o[--s];o.pop());}return e}function a(e){var t=new Error(e);throw t.name="BigError",t}var o,s=20,A=1,B=1e6,C=1e6,D=-7,l=21,E={},u=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;return E.abs=function(){var e=new this.constructor(this);return e.s=1,e},E.cmp=function(e){var t,i=this,n=i.c,r=(e=new i.constructor(e)).c,a=i.s,o=e.s,s=i.e,A=e.e;if(!n[0]||!r[0])return!n[0]?!r[0]?0:-o:a;if(a!=o)return a;if(t=0>a,s!=A)return s>A^t?1:-1;for(a=-1,o=(s=n.length)<(A=r.length)?s:A;++a<o;)if(n[a]!=r[a])return n[a]>r[a]^t?1:-1;return s==A?0:s>A^t?1:-1},E.div=function(e){var t=this,i=t.constructor,n=t.c,o=(e=new i(e)).c,s=t.s==e.s?1:-1,A=i.DP;if(A!==~~A||0>A||A>B)a("!Big.DP!");if(!n[0]||!o[0]){if(n[0]==o[0])a(NaN);if(!o[0])a(s/0);return new i(0*s)}var C,D,l,E,u,c,F=o.slice(),d=C=o.length,f=n.length,h=n.slice(0,C),p=h.length,H=e,G=H.c=[],m=0,I=A+(H.e=t.e-e.e)+1;for(H.s=s,s=0>I?0:I,F.unshift(0);p++<C;h.push(0));do{for(l=0;10>l;l++){if(C!=(p=h.length))E=C>p?1:-1;else for(u=-1,E=0;++u<C;)if(o[u]!=h[u]){E=o[u]>h[u]?1:-1;break}if(0>E){for(D=p==C?o:F;p;){if(h[--p]<D[p]){for(u=p;u&&!h[--u];h[u]=9);--h[u],h[p]+=10}h[p]-=D[p]}for(;!h[0];h.shift());}else break}if(G[m++]=E?l:++l,h[0]&&E)h[p]=n[d]||0;else h=[n[d]]}while((d++<f||h[0]!==c)&&s--);if(!G[0]&&1!=m)G.shift(),H.e--;if(m>I)r(H,A,i.RM,h[0]!==c);return H},E.eq=function(e){return!this.cmp(e)},E.gt=function(e){return this.cmp(e)>0},E.gte=function(e){return this.cmp(e)>-1},E.lt=function(e){return this.cmp(e)<0},E.lte=function(e){return this.cmp(e)<1},E.sub=E.minus=function(e){var t,i,n,r,a=this,o=a.constructor,s=a.s,A=(e=new o(e)).s;if(s!=A)return e.s=-A,a.plus(e);var B=a.c.slice(),C=a.e,D=e.c,l=e.e;if(!B[0]||!D[0])return D[0]?(e.s=-A,e):new o(B[0]?a:0);if(s=C-l){if(r=0>s)s=-s,n=B;else l=C,n=D;for(n.reverse(),A=s;A--;n.push(0));n.reverse()}else for(i=((r=B.length<D.length)?B:D).length,s=A=0;i>A;A++)if(B[A]!=D[A]){r=B[A]<D[A];break}if(r)n=B,B=D,D=n,e.s=-e.s;if((A=(i=D.length)-(t=B.length))>0)for(;A--;B[t++]=0);for(A=t;i>s;){if(B[--i]<D[i]){for(t=i;t&&!B[--t];B[t]=9);--B[t],B[i]+=10}B[i]-=D[i]}for(;0===B[--A];B.pop());for(;0===B[0];)B.shift(),--l;if(!B[0])e.s=1,B=[l=0];return e.c=B,e.e=l,e},E.mod=function(e){var t,i=this,n=i.constructor,r=i.s,o=(e=new n(e)).s;if(!e.c[0])a(NaN);if(i.s=e.s=1,t=1==e.cmp(i),i.s=r,e.s=o,t)return new n(i);else return r=n.DP,o=n.RM,n.DP=n.RM=0,i=i.div(e),n.DP=r,n.RM=o,this.minus(i.times(e))},E.add=E.plus=function(e){var t,i=this,n=i.constructor,r=i.s,a=(e=new n(e)).s;if(r!=a)return e.s=-a,i.minus(e);var o=i.e,s=i.c,A=e.e,B=e.c;if(!s[0]||!B[0])return B[0]?e:new n(s[0]?i:0*r);if(s=s.slice(),r=o-A){if(r>0)A=o,t=B;else r=-r,t=s;for(t.reverse();r--;t.push(0));t.reverse()}if(s.length-B.length<0)t=B,B=s,s=t;for(r=B.length,a=0;r;)a=(s[--r]=s[r]+B[r]+a)/10|0,s[r]%=10;if(a)s.unshift(a),++A;for(r=s.length;0===s[--r];s.pop());return e.c=s,e.e=A,e},E.pow=function(e){var t=this,i=new t.constructor(1),n=i,r=0>e;if(e!==~~e||-C>e||e>C)a("!pow!");for(e=r?-e:e;;){if(1&e)n=n.times(t);if(e>>=1,!e)break;t=t.times(t)}return r?i.div(n):n},E.round=function(e,t){var i=this,n=i.constructor;if(null==e)e=0;else if(e!==~~e||0>e||e>B)a("!round!");return r(i=new n(i),e,null==t?n.RM:t),i},E.sqrt=function(){var e,t,i,n=this,o=n.constructor,s=n.c,A=n.s,B=n.e,C=new o("0.5");if(!s[0])return new o(n);if(0>A)a(NaN);if(A=Math.sqrt(n.toString()),0===A||A===1/0){if(e=s.join(""),!(e.length+B&1))e+="0";t=new o(Math.sqrt(e).toString()),t.e=((B+1)/2|0)-(0>B||1&B)}else t=new o(A.toString());A=t.e+(o.DP+=4);do i=t,t=C.times(i.plus(n.div(i)));while(i.c.slice(0,A).join("")!==t.c.slice(0,A).join(""));return r(t,o.DP-=4,o.RM),t},E.mul=E.times=function(e){var t,i=this,n=i.constructor,r=i.c,a=(e=new n(e)).c,o=r.length,s=a.length,A=i.e,B=e.e;if(e.s=i.s==e.s?1:-1,!r[0]||!a[0])return new n(0*e.s);if(e.e=A+B,s>o)t=r,r=a,a=t,B=o,o=s,s=B;for(t=new Array(B=o+s);B--;t[B]=0);for(A=s;A--;){for(s=0,B=o+A;B>A;)s=t[B]+a[A]*r[B-A-1]+s,t[B--]=s%10,s=s/10|0;t[B]=(t[B]+s)%10}if(s)++e.e;if(!t[0])t.shift();for(A=t.length;!t[--A];t.pop());return e.c=t,e},E.toString=E.valueOf=E.toJSON=function(){var e=this,t=e.constructor,i=e.e,n=e.c.join(""),r=n.length;if(i<=t.E_NEG||i>=t.E_POS)n=n.charAt(0)+(r>1?"."+n.slice(1):"")+(0>i?"e":"e+")+i;else if(0>i){for(;++i;n="0"+n);n="0."+n}else if(i>0){if(++i>r)for(i-=r;i--;n+="0");else if(r>i)n=n.slice(0,i)+"."+n.slice(i)}else if(r>1)n=n.charAt(0)+"."+n.slice(1);return e.s<0&&e.c[0]?"-"+n:n},E.toExponential=function(e){if(null==e)e=this.c.length-1;else if(e!==~~e||0>e||e>B)a("!toExp!");return i(this,e,1)},E.toFixed=function(e){var t,n=this,r=n.constructor,o=r.E_NEG,s=r.E_POS;if(r.E_NEG=-(r.E_POS=1/0),null==e)t=n.toString();else if(e===~~e&&e>=0&&B>=e)if(t=i(n,n.e+e),n.s<0&&n.c[0]&&t.indexOf("-")<0)t="-"+t;if(r.E_NEG=o,r.E_POS=s,!t)a("!toFix!");return t},E.toPrecision=function(e){if(null==e)return this.toString();else if(e!==~~e||1>e||e>B)a("!toPre!");return i(this,e-1,2)},o=t()}),define("big.js",["big.js/big"],function(e){return e}),define("common/util/math",["exports","module","big.js","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){function i(e,t){return Math.abs(e-t)<=s}function n(e){return i(e,0)}function r(e,t){var i=new o["default"](e).times(t).toString();return+i}function a(e,t){var i=parseFloat(e);if(isNaN(i))return"-";var n=t||2,r=Math.pow(10,n);i+=1e-10;var a=new o["default"](i).times(r).round(0,0).div(r);return a.toFixed(n)}var o=t["default"](e),s=2.220446049250313e-16;module.exports={isNearlyEqual:i,isZero:n,safeMulti:r,fixPrecision:a}}),define("common/billing/common",["exports","inf-ria/helper","babel-runtime/helpers/interop-require-default","../util/math","../region","../constants"],function(exports,e,t,i,n,r){exports.__esModule=!0;var a=t["default"](e),o=t["default"](i),s=t["default"](n),A=t["default"](r),B=function(e,t,i,n){var r={serviceType:e,instanceIds:t.join(","),region:i||s["default"].getCurrentRegion().id};if("DCC"===e||"BCC"===e)r.rechargeType="ASSOCIATED";if(n)r.confirmV2Url=n;a["default"].redirectToModule("billing","/billing/recharge/list",r)};exports.recharge=B;var C=function(e,t,i,n){a["default"].redirectToModule("billing","/billing/alter/productTypeList",{serviceType:e,instanceIds:t.join(","),type:i||"TO_PREPAY",region:n||s["default"].getCurrentRegion().id})};exports.alterProductType=C;var D=function(e,t){var i=arguments.length<=2||void 0===arguments[2]?"NORMAL":arguments[2];if(t)return A["default"].orderSuccessUrl&&A["default"].orderSuccessUrl.rechargeUrl?A["default"].orderSuccessUrl.rechargeUrl:{module:"billing",path:"/billing/recharge/success"};if("TO_PREPAY"===i||"TO_POSTPAY"===i)return A["default"].orderSuccessUrl&&A["default"].orderSuccessUrl.alterUrl?A["default"].orderSuccessUrl.alterUrl:{module:"billing",path:"/billing/alter/success"};var n=A["default"].orderSuccessUrl&&A["default"].orderSuccessUrl.customUrl&&A["default"].orderSuccessUrl.customUrl[e]?A["default"].orderSuccessUrl.customUrl[e]:{};return n[i]||{module:"billing",path:"/order/success"}};exports.getSuccessUrlParam=D;var l=location.protocol+"//"+location.host,E=function(e,t,i,n){var r=D(e,t,n),module=r.module,o=r.path;return l+a["default"].buildUrl(module,o,i)};exports.getSuccessUrl=E;var u=function(e){return l+a["default"].buildUrl("billing","/order/fail",e)};exports.getFailureUrl=u;var c=function(e,t){if(void 0===e)e={};var i=e.cashBalance||0,n=e.serviceCouponBalance||{},r=Math.max(n.COMMON||0,0),a=Math.max(n[t]||0,0),s=Math.max(e.rebateBalance||0,0);return+o["default"].fixPrecision(i+r+a+s)};exports.getAllBalance=c}),define("common/eip/CreateModel",["require","bat-ria/mvc/FormModel","underscore","common/billing/common","common/region","./config","common/config","er/util"],function(require){function e(){t.apply(this,arguments),this.submitRequester=o.bccInstanceCreateOrder}var t=require("bat-ria/mvc/FormModel"),i=require("underscore"),n=require("common/billing/common"),r=require("common/region"),a=require("./config"),o=require("common/config").getConfig().api,s=a.PAYMENT;return e.prototype.datasource={quota:function(e){return o.eipInstanceQuota().then(function(e){return e.eipCreateAble=Math.max(e.quotaTotal-e.eipCreated,0),e})},accountBalance:function(e){return o.getMyAccount().then(function(e){return n.getAllBalance(e,"EIP")})}},e.prototype.getExtraData=function(){return{productType:this.get("productType")}},e.prototype.filterData=function(e){var t=this;if(e.productType===s.prepay)e.subProductType="";else e.purchaseLength="";var i=t.get("instanceId"),n=t.get("instanceType");if(i&&n)e.instanceId=i,e.instanceType=n,e.count=1;var r=t.get("config");if(r)e.count=r.purchaseNum;return e},e.prototype.prepare=function(){var e=this,t=e.get("config"),n="hk"===r.getCurrentRegion().id;e.set("isRegionHK",n);var a=e.get("instanceType"),o=e.get("parentView");if(e.set("isFromBlbOrBcc",t||a),e.set("isNotFromBlb",function(){if(a&&"BLB"===a||o&&o.viewContext&&-1!==o.viewContext.id.indexOf("blb"))return!1;else return!0}()),e.set("eipPurchaseNum",1),e.set("eipPurchaseLength",1),e.set("eipProductTypeIndex",0),e.set("eipPurchaseNumMax",1),t)e.set("eipPurchaseNum",t.purchaseNum),e.set("eipPurchaseLength",t.purchaseLength),t.productType&&e.set("eipProductTypeIndex",t.productType===s.prepay?0:1);var A=e.get("instancePayment");if(A)e.set("eipProductTypeIndex",A===s.prepay?0:1);e.set("eipPurchaseNumMax",i.max([e.get("eipPurchaseNum"),e.get("quota").eipCreateAble]))},e.prototype.getPrice=o.eipInstanceGetPrice,e.prototype.getMyAccount=o.getMyAccount,require("er/util").inherits(e,t),e}),define("common/util/timeUtil",["exports","module","moment","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var i=t["default"](e);module.exports={getStartTime:function(e){return i["default"](e).format("YYYY-MM-DD 00:00:00")},getEndTime:function(e){return i["default"](e).format("YYYY-MM-DD 23:59:59")},getMonthFirstDay:function(e){return i["default"](e||new Date).format("YYYY-MM-01")},timeToUtc:function(e){return i["default"](e).utc().format("YYYY-MM-DDTHH:mm:ss")+"Z"},toUtcTime:function(e){return i["default"](e).utc().format("YYYY-MM-DD HH:mm:ss")},toTime:function(e){return e?i["default"](e).format("YYYY-MM-DD HH:mm:ss"):""},utcToMinute:function(e){if(null!=e)return i["default"](e).format("YYYY-MM-DD HH:mm");else return""},toDate:function(e){return i["default"](e).format("YYYY-MM-DD")},checkUTC:function(e,t){var n=/^[0-9]{4}-[0-1]?[0-9]{1}-[0-3]?[0-9]{1}T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]Z$/,r=/^[0-9]{4}-[0-1]?[0-9]{1}-[0-3]?[0-9]{1}$/;if(n.test(e))return e;else if(r.test(e))return i["default"](e+(t?" 23:59:59":"")).utc().format("YYYY-MM-DDTHH:mm:ss")+"Z";return null},checkTime:function(e,t){var n=/^[0-9]{4}-[0-1]?[0-9]{1}-[0-3]?[0-9]{1}\s([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/,r=/^[0-9]{4}-[0-1]?[0-9]{1}-[0-3]?[0-9]{1}$/;if(n.test(e))return e;else if(r.test(e))return i["default"](e+(t?" 23:59:59":"")).format("YYYY-MM-DD HH:mm:ss");return null}}}),define("common/auth",["exports","module","underscore","babel-runtime/helpers/interop-require-default","moment","esui/lib","inf-ria/helper","./constants","./util/timeUtil"],function(exports,module,e,t,i,n,r,a,o){function s(){var e=f["default"].getAppName(location.pathname);return e?e.toUpperCase():""}function A(e,t,i){var n=arguments.length<=3||void 0===arguments[3]?" ; ":arguments[3],r=c["default"].trim(e.getContent());if(0===r.indexOf("错误提示"))r="";if(i)t=r?t+n+r:t+r;else t=r?r+n+t:r+t;e.setContent(t)}function B(e,t){if(t){var i=t.getAttribute("data-authtype"),n=t.getAttribute("data-ctrl-id"),r=n?e.get(n):null,a=["BUTTON","INPUT","SELECT","TEXTAREA","OPTGROUP","OPTION","COMMAND","FIELDSET"];if("READONLY"===i)if(r)if(r.setReadOnly)r.setReadOnly(!0);else r.disable();else{var o=t.tagName.toUpperCase();if("INPUT"===o&&("text"===t.type||"password"===t.type)||"TEXTAREA"===o)t.readonly=!0;else if(c["default"].contains(a,o))t.disabled=!0;else d["default"].un(t,"click"),t.onclick=function(e){return d["default"].event.stopPropagation(e),d["default"].event.preventDefault(e),!1};d["default"].addClass(t,"auth-disabled")}else if("NONE"===i)if(r)r.hide();else t.parentNode.removeChild(t);else if("SHOW"===i)if(r)r.show();else t.style.display="block"}}function C(e,t){function i(){if(d["default"].hasClass(t,"realname-tip"))A(e.get(C),"购买"+o+'需要实名认证，您还没有认证。<a href="/qualify/#/qualify/index">立即去认证</a>');B(e,t)}var n=!0,r=s(),a=h["default"].SERVICE_TYPE[r];if(a){var o="EIP"!==r?a.name+r:a.name,C=t.getAttribute("data-ctrl-id"),D=h["default"].verifyUser;if(("BAE"===r||"BMR"===r)&&"PASS"!==D.verifyStatus)return i(),n=!1;if("NONE"===D.verifyStatus)i(),n=!1;else if("NONE_UNEXPIRED"===D.verifyStatus){if(d["default"].hasClass(t,"realname-tip"))A(e.get(C),"继续使用"+o+"需要实名认证，您需要在"+p["default"].toDate(D.expireTime)+'日之前完成认证，逾期将无法继续使用，赶快去<a href="/qualify/#/qualify/index">认证</a>'),t.style.width="720px";B(e,t),n=!1}return n}}function D(e,t){var i=t.getAttribute("data-value")||100;if(d["default"].hasClass(t,"realname-tip")){var n=t.getAttribute("data-ctrl-id");A(e.get(n),'您的账户余额不足<span class="cash-balance">'+i+'</span>元，请<a href="/billing/#/account/recharge">立刻充值</a>'),t.style.width="300px"}return B(e,t),!1}function l(e,t){if(d["default"].hasClass(t,"realname-tip")){var i=t.getAttribute("data-ctrl-id");A(e.get(i),d["default"].getAttribute(t,"tip-message")+'；您的账户已欠费，请<a href="/billing/#/account/recharge">立刻充值</a>'),t.style.width="500px"}return B(e,t),!1}function E(e,t){var i=s(),n=t.getAttribute("data-auth-ban"),r=t.getAttribute("data-auth-deadLine"),a=F["default"](r).format(h["default"].TIME_FORMAT),o=void 0,C=void 0,D="EIP"!==i?h["default"].SERVICE_TYPE[i].name+i:h["default"].SERVICE_TYPE[i].name;if("true"===n)C=840,o="因未在"+a+"之前完成实名认证，您已部署的所有"+D+"应用已被封禁，实名认证完成后可重新自动解禁，请";else C=600,o="购买"+D+"需要实名认证， 您还没有认证。点此";if(o+='<a href="/qualify/#/qualify/index">立即去认证。</a>',d["default"].hasClass(t,"realname-tip")){var l=t.getAttribute("data-ctrl-id");A(e.get(l),o),t.style.width=C+"px"}return B(e,t),!1}function u(e,t){var i=s(),n=void 0;if(h["default"].forbiddenService&&-1!==h["default"].forbiddenService.split(",").indexOf(i)){if(n='因违反<a target="_blank" href="https://cloud.baidu.com/doc/UserGuide/info_safety.html">《百度云信息安全规定》</a>，您的'+i+'产品服务已被封禁，请清理违规内容后通过<a target="_blank" href="http://ticket.bce.baidu.com/#/ticket/create">工单</a>申请解禁',d["default"].hasClass(t,"realname-tip")){var r=t.getAttribute("data-ctrl-id");A(e.get(r),n,!0,"<br/>")}return B(e,t),!1}return!0}var c=t["default"](e),F=t["default"](i),d=t["default"](n),f=t["default"](r),h=t["default"](a),p=t["default"](o);module.exports={check:function(e){var t=!0;return c["default"].each(document.querySelectorAll("[data-auth]"),function(i){for(var n=i.getAttribute("data-auth"),r=n.split(","),a=i.getAttribute("data-auth-whenfailnotbreak"),o=!1,s=0;s<r.length;s++){if("verifiedUser"===r[s])o=C(e,i),o===!1&&(t=!1);else if("balanceNotEnough"===r[s])o=D(e,i),o===!1&&(t=!1);else if("debt"===r[s])o=l(e,i),o===!1&&(t=!1);else if("ban"===r[s])o=E(e,i),o===!1&&(t=!1);else if("forbidden"===r[s])o=u(e,i),o===!1&&(t=!1);if(o===!1&&!a){t=!1;break}}}),t},checkForbidden:function(e){return u(e)}}}),define("common/eip/Create",["require","bat-ria/mvc/FormAction","underscore","jquery","../constants","../auth","./config","./CreateModel","./CreateView","er/util"],function(require){function e(){s.apply(this,arguments)}function t(){var e=this,t=e.model.getSubmitData(e.view.getFormData()),i=e.model.get("myFormDataOld");if(!A.isEqual(t,i)){e.model.set("myFormDataOld",t);var n=++c;e.model.getPrice(t).then(function(i){if(!(c>n))e.view.get("eipBuyBucket").setValue(A.extend({},t,i))})}}function i(e,t,i){i=A.extend({shotsplit:"； ",longsplit:"<br/>",prepend:!1,maxLength:40,subtract:!1},i);var n=function(e){return e.replace(/<[^>]+>/g,"").length},r=A.trim(e.getContent()),a=r.split(i.longsplit);if(A.each(a,function(e,t,n){n[t]=e.split(i.shotsplit)}),a=A.flatten(a,!0),"错误提示"===a[0])a.shift(0);var o=a.indexOf(t);if(i.subtract){if(-1!==o)a.splice(o,1)}else if(-1===o)a[i.prepend?"unshift":"push"](t);var s="";s=A.reduce(a,function(e,t,r){if(0===r)e=t;else if(n(e+t)>i.maxLength)e+=e?i.longsplit:"",e+=t;else if(n(e+t)<=i.maxLength)e+=e?i.shotsplit:"",e+=t;return e},""),e.setContent(s)}function n(e){var t=this,i=[E.prepay,E.postpay][t.view.get("eipProductType").activeIndex];t.model.set("productType",i);var n=t.view.get("network"),r=t.view.get("networkType"),a=t.view.get("purchaseLengthPanel");if("productType"===e.optType&&0===e.optValue)a.show(),n.setProperties({max:200,value:1}),r.hide(),B(".eip-network-type").hide(),B(".eip-bandwidth-title").html("公网带宽：").parent().show(),t.check();else if("productType"===e.optType&&1===e.optValue)a.hide(),r.setSelectedIndex(0),r.show(),B(".eip-network-type").css({display:"table"}),t.check();else if("networkType"===e.optType&&0===e.optValue)n.setProperties({max:1e3,value:1e3}),B(".eip-bandwidth-title").html("带宽峰值：").parent().show();else if("networkType"===e.optType&&1===e.optValue)n.setProperties({max:200,value:1}),B(".eip-bandwidth-title").parent().hide()}function r(){var e=this;if(n.call(e,{optType:"productType",optValue:e.model.get("eipProductTypeIndex")}),t.call(e),e.model.get("isFromBlbOrBcc"))e.view.get("purchaseNum").disable()}function a(e){this.fire("prevPage")}function o(e){var t=this,i=this.model.getSubmitData(this.view.getFormData());t.model.getPrice(i).then(function(e){A.extend(i,{eipPrice:e}),t.fire("nextPage",{formData:i})})}var s=require("bat-ria/mvc/FormAction"),A=require("underscore"),B=require("jquery"),C=require("../constants"),D=require("../auth"),l=require("./config"),E=l.PAYMENT,u=l.EVENTS,c=0,F='您的账户余额不足<span class="cash-balance">100</span>元，请<a href="/billing/#/account/recharge">立刻充值</a>';return e.prototype.modelType=require("./CreateModel"),e.prototype.viewType=require("./CreateView"),e.prototype.check=function(){var e=this,t=e.view.get("toastLabel"),n=e.model.get("config"),r=e.model.get("productType")===E.postpay,a=!0;if(!D.check(e.view,t))a=!1;if(r&&e.model.get("accountBalance")<100)i(t,F),t.show(),a=!1;else i(t,F,{subtract:!0});var o=e.model.get("quota"),s=n?o.eipCreated>o.quotaTotal:o.eipCreated>=o.quotaTotal;if(s)i(t,'您创建的EIP实例已达到限额，如需了解配额规则请参考<a href="'+l.DOC_URL.QUATA+'" target="_blank">文档</a>，如需增加配额，请到<a href="'+C.domains.ticket+'/#/ticket/create">工单</a>申请'),t.show(),a=!1;if(this.model.get("isRegionHK"))a=!1;if(e.model.set("check",a),!a)e.view.get("eipBuyBucket").disableConfirm();else e.hideToastLabelWithCheck(),e.enableNextBtnWithCheck();return a},e.prototype.hideToastLabelWithCheck=function(){var e=this,t=e.view.get("toastLabel");if(e.model.get("check"))t.hide()},e.prototype.enableNextBtnWithCheck=function(){var e=this;if(e.model.get("check"))e.view.get("eipBuyBucket").enableConfirm()},e.prototype.initBehavior=function(){s.prototype.initBehavior.apply(this,arguments),this.view.on(u.GET_PRICE,t,this),this.view.on(u.UPDATE_PRODUCTTYPE,n,this),this.view.on(u.ORDER_CONFIRM,o,this),this.view.on("redirectPrevPage",a,this),this.on("entercomplete",r,this)},e.prototype.reset=function(){var e=this,t=this.view;if(t.get("name").setValue(""),n.call(e,{optType:"productType",optValue:t.get("eipProductType").activeIndex}),t.get("purchaseLength").setSelectedIndex(0),!e.model.get("config")&&!e.model.get("instanceType"))t.get("purchaseNum").setValue(1)},require("er/util").inherits(e,s),e}),define("common/billing/order/config",["require","er/controller"],function(require){var e=[{type:"common/billing/order/Recharge",path:"/common/billing/order/recharge"},{type:"common/billing/order/Confirm",path:"/common/billing/order/confirm"}],t=require("er/controller");t.registerAction(e);var i={TIMEUNIT_MAP:{DAY:"天",MONTH:"月",YEAR:"年"},CHARGE_TYPE_MAP:{cpt1:"按时长",cpt2:"包年包月",cpt3:"按量按时长",cpc:"按消耗量",cpt1_cdn_bandwidth:"CDN按带宽计费",peakbandwidth_avg:"月均值",eip_postpay_nettraffic:"按需按使用流量计费",eip_prepay_bandwidth:"包年包月按带宽计费",eip_postpay_bandwidth:"按需按带宽计费",lss_netraffic:"按使用流量计费",lss_bandwidth:"按日峰值带宽计费",lss_peakbandwidth_top_1:"大客户月峰值计费",lss_peakbandwidth_avg:"月均值",lss_peakbandwidth_percent_95:"95%峰值",lss_peakbandwidth_top_4:"第4峰值",vod_netraffic:"按使用流量计费",vod_bandwidth:"按日峰值带宽计费",vod_peakbandwidth_percent_95:"按月峰值带宽计费",project:{BML:"按个数",MAT:"按次计费",QSS:"按次计费",AAT:"按次计费"}}};return i}),define("common/billing/order/RechargeView",["require","inf-ria/tpl!common/tpl","bat-ria/mvc/BaseView","common/constants","er/util"],function(require){function e(){t.apply(this,arguments)}require("inf-ria/tpl!common/tpl");var t=require("bat-ria/mvc/BaseView"),i=require("common/constants").DURATION;return e.prototype.template="TPL_common_order_recharge",e.prototype.uiProperties={durationType:{datasource:[{name:"按月",value:"MONTH"},{name:"按年",value:"YEAR"}],selectedIndex:0},duration:{datasource:i.MONTH,selectedIndex:0}},e.prototype.uiEvents={"durationType:change":function(e){var t=e.target.getValue();this.get("duration").setProperties({datasource:i[t]}),this.fire("durationChange")},"duration:change":function(){this.fire("durationChange")}},require("er/util").inherits(e,t),e}),define("common/billing/order/RechargeModel",["require","bat-ria/mvc/BaseModel","moment","er/util"],function(require){function e(){t.apply(this,arguments)}var t=require("bat-ria/mvc/BaseModel"),i=require("moment");return e.prototype.datasource={expireTime:function(e){return i(e.get("expireTime")).format("YYYY-MM-DD HH:mm:ss")}},require("er/util").inherits(e,t),e}),define("common/enum",["exports","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","inf-ria/EnumX","babel-runtime/helpers/interop-require-default","inf-i18n","underscore"],function(exports,e,t,i,n,r,a){exports.__esModule=!0;var o=n["default"](i),s=n["default"](r),A=n["default"](a),B=function(i){function n(){t["default"](this,n),i.apply(this,arguments)}return e["default"](n,i),n.prototype.getRegionMap=function(e){var t=this,i={};return A["default"].each(e,function(e){return i[e]=t.getTextFromValue(e)}),i},n}(o["default"]),C=new B({alias:"GLOBAL",text:s["default"]("全局"),value:"global"},{alias:"BJ",text:s["default"]("华北 - 北京"),value:"bj"},{alias:"CNN1",text:s["default"]("华北 - 北京"),value:"cn-n1"},{alias:"GZ",text:s["default"]("华南 - 广州"),value:"gz"},{alias:"HK",text:s["default"]("香港"),value:"hk"},{alias:"HK02",text:s["default"]("香港2区"),value:"hk02"},{alias:"SU",text:s["default"]("华东 - 苏州"),value:"su"});exports.AllRegion=C;var D=new o["default"]({alias:"CPT1",text:"CPT1",value:"cpt1"},{alias:"CPT2",text:"CPT2",value:"cpt2"},{alias:"CPT3",text:"CPT3",value:"cpt3"},{alias:"CPC",text:"CPC",value:"cpc"},{alias:"CPT1_CDN_BANDWIDTH",text:"CPT1_CDN_BANDWIDTH",value:"cpt1_cdn_bandwidth"});exports.PriceType=D;var l=new o["default"]({alias:"PREPAY",text:s["default"]("预付费"),value:"prepay"},{alias:"POSTPAY",text:s["default"]("后付费"),value:"postpay"},{alias:"PACKAGE",text:s["default"]("合并付款"),value:"package"});exports.PayType=l;var E=new o["default"]({alias:"NEW",text:s["default"]("新订单"),value:"NEW"},{alias:"RESIZE",text:s["default"]("升降配"),value:"RESIZE"},{alias:"RENEW",text:s["default"]("续费"),value:"RENEW"},{alias:"EIP_RESIZE",text:s["default"]("EIP升降配"),value:"EIP_RESIZE"});exports.OrderType=E;var u=new o["default"]({alias:"COUPON",text:s["default"]("代金券"),value:"coupon"},{alias:"CAMPAIGN",text:s["default"]("活动"),value:"campaign"},{alias:"NORMAL",text:s["default"]("优惠"),value:"normal"});exports.CampaignType=u;var c=new o["default"]({alias:"COMMON",text:s["default"]("通用"),value:"COMMON"});exports.CouponType=c}),define("common/constants",["exports","module","inf-i18n","babel-runtime/helpers/interop-require-default","underscore","./enum"],function(exports,module,e,t,i,n){function r(e){return e+location.search}var a=t["default"](e),o=t["default"](i);module.exports={TIME_FORMAT:"YYYY-MM-DD HH:mm:ss",REGION:n.AllRegion.getRegionMap(o["default"].pluck(n.AllRegion.toArray(),"value")),MONITOR_SCOPE:{BBC:"BCE_BBC",BCC:"BCE_BCC",SCS:"BCE_SCS",RDS:"BCE_RDS",BOS:"BCE_BOS",CDS:"BCE_CDS",BLB:"BCE_BLB",BMR:"BCE_BMR",CDN:"BCE_CDN",SES:"BCE_SES",SMS:"BCE_SMS",BAEPRO:"BCE_BAE",TSDB:"BCE_IOT_TSDB",DTS:"BCE_RDS"},ALARM_STATE_QUERY_PERIOD:6e4,CHART_COLORS:["#36cdb3","#ffc500","#ff8f4b","#f2605d","#4dacff","#ff7f50","#87cefa","#32cd32","#6495ed","#7b68ee","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#00fa9a","#ffd700"],SERVICE_LAYOUT:[{name:a["default"]("计算和网络"),services:["BCC","DCC","BBC","GPU","BAEPRO","BAE","EIP","BLB","NETWORK"]},{name:a["default"]("存储和CDN"),services:["BOS","CDS","CDN","DI"]},{name:a["default"]("数据库"),services:["RDS","SCS","DTS"]},{name:a["default"]("安全和管理"),services:["BSS","DDOS","BCM","CAS"]},{name:a["default"]("数据分析"),services:["BMR","BML","BATCH","PALO","BES","BLS","KAFKA","BDL"]},{name:":seperator:",services:[],type:"seperator"},{name:a["default"]("智能多媒体服务"),services:["MCT","LSS","VOD","DOC"]},{name:a["default"]("物联网服务"),services:["IOT","MODBUS","IOTDM","TSDB","IOTRE","IOTVIZ"]},{name:a["default"]("人工智能"),services:["SPEECH","OCR","FACE","NLP","ANTIPORN"]},{name:a["default"]("应用服务"),services:["SES","SMS","APM","QSS","MAT","MKT"]},{name:a["default"]("网站服务"),services:["WMT","BCD","BCH","BEIAN"]}],SERVICE_TYPE:{BAEPRO:{icon:"icon-bae",name:a["default"]("应用引擎"),chargeType:"cpt2",product:"all",createUrl:r("/baepro/")+"#/baepro/app/create",listUrl:r("/baepro/")+"#/baepro/app/list",unit:null,region:["bj"],showName:a["default"]("应用引擎BAE专业版")},BCC:{name:a["default"]("云服务器"),chargeType:{postpay:[n.PriceType.CPT1],prepay:[n.PriceType.CPT2]},product:"all",createUrl:r("/bcc/")+"#/bcc/instance/create",listUrl:r("/bcc/")+"#/bcc/instance/list",unit:a["default"]("台"),region:["bj","gz","hk","hk02"]},RDS:{name:a["default"]("关系型数据库"),chargeType:{postpay:[n.PriceType.CPT1],prepay:[n.PriceType.CPT2,n.PriceType.CPC]},product:"all",createUrl:r("/rds/")+"#/rds/create",listUrl:r("/rds/")+"#/rds/list",unit:a["default"]("实例"),region:["bj","gz","hk02"]},RDS_REPLICA:{name:a["default"]("只读关系型数据库"),chargeType:"cpt1",product:"all",createUrl:r("/rds/")+"#/rds/create",listUrl:r("/rds/")+"#/rds/list",unit:a["default"]("实例"),region:["bj","hk02"]},RDS_PROXY:{name:a["default"]("代理关系型数据库"),chargeType:"cpt1",product:"all",createUrl:r("/rds/")+"#/rds/create",listUrl:r("/rds/")+"#/rds/list",unit:a["default"]("实例"),region:["bj","gz","hk02"]},BLB:{name:a["default"]("负载均衡"),chargeType:"cpt1",product:"postpay",createUrl:r("/blb/")+"#/blb/create",listUrl:r("/blb/")+"#/blb/list",unit:a["default"]("实例"),region:["bj","gz","hk02"]},CDS:{name:a["default"]("云磁盘"),chargeType:{postpay:[n.PriceType.CPT1],prepay:[n.PriceType.CPT2]},product:"all",createUrl:r("/bcc/")+"#/bcc/cds/create",listUrl:r("/bcc/")+"#/bcc/cds/list",unit:a["default"]("实例"),region:["bj","gz","hk","hk02"]},SCS:{name:a["default"]("简单缓存服务"),chargeType:{postpay:[n.PriceType.CPT1],prepay:[n.PriceType.CPT2]},product:"all",createUrl:r("/scs/")+"#/scs/instance/create",listUrl:r("/scs/")+"#/scs/list",unit:a["default"]("实例"),region:["bj","gz"]},DTS:{name:a["default"]("数据传输服务"),listUrl:r("/dts/")+"#/dts/migration/list",unit:a["default"]("实例"),region:["global"]},BMR:{name:a["default"]("百度MapReduce"),chargeType:{postpay:[n.PriceType.CPT1],prepay:[n.PriceType.CPT2]},product:"all",createUrl:r("/bmr/")+"#/bmr/cluster/create",listUrl:r("/bmr/")+"#/bmr/cluster/list",unit:a["default"]("集群"),region:["bj","gz","hk02"]},BDL:{name:a["default"]("百度深度学习"),showName:a["default"]("百度深度学习"),chargeType:{postpay:[n.PriceType.CPT1],prepay:[n.PriceType.CPT2]},product:"all",createUrl:r("/bdl/")+"#/bdl/cluster/create",listUrl:r("/bdl/")+"#/bdl/cluster/list",unit:a["default"]("集群"),abbr:null,region:["bj"]},BLS:{name:a["default"]("百度日志服务"),createUrl:r("/bls/")+"#/bls/task/create",listUrl:r("/bls/")+"#/bls/task/list",unit:null,region:["bj"]},KAFKA:{name:a["default"]("百度Kafka"),showName:a["default"]("百度Kafka"),createUrl:r("/kafka/")+"#/kafka/topic/list",listUrl:r("/kafka/")+"#/kafka/topic/list",product:"postpay",unit:null,abbr:null,region:["bj","gz","hk02"]},BOS:{name:a["default"]("对象存储"),chargeType:"cpt3",product:"postpay",createUrl:r("/bos/")+"#/bos/order",listUrl:r("/bos/")+"#/bos/list",unit:null,region:["global"]},CDN:{name:a["default"]("内容分发网络"),chargeType:"cpt3",product:"postpay",createUrl:r("/cdn/")+"#/cdn/order",listUrl:r("/cdn/")+"#/cdn/list",unit:null,region:["global"]},DI:{abbr:null,name:a["default"]("数据导入 Data Import"),listUrl:r("/bos/")+"#/bos/dts/order",unit:null,region:["global"]},SES:{name:a["default"]("简单邮件服务"),chargeType:"",product:"postpay",createUrl:r("/ses/")+"#/ses/order",listUrl:r("/ses/")+"#/ses/stat/index",unit:null,region:["global"]},SMS:{name:a["default"]("简单消息服务"),chargeType:"",product:"postpay",createUrl:r("/sms/")+"#/sms/order",listUrl:r("/sms/")+"#/sms/stat/index",unit:null,region:["global"]},BCM:{name:a["default"]("云监控"),chargeType:"",product:"postpay",createUrl:r("/bcm/")+"#/bcm/overview",listUrl:r("/bcm/")+"#/bcm/overview",unit:null,region:["global"]},BSS:{name:a["default"]("云安全"),chargeType:"",product:"",createUrl:r("/bss/")+"#/bss/overview",listUrl:r("/bss/")+"#/bss/overview",unit:null,region:["bj","gz","hk"]},ADAS:{name:a["default"]("DDoS高防服务"),showName:a["default"]("DDoS高防服务"),chargeType:"",product:"all",createUrl:r("/bss/")+"#/bss/adas/create",listUrl:r("/bss/")+"#/bss/adas/list",unit:null,region:["bj","gz","hk"]},DDOS:{name:a["default"]("DDoS防护服务"),abbr:null,chargeType:null,product:"",createUrl:r("/bss/")+"#/bss/ddos/list",listUrl:r("/bss/")+"#/bss/ddos/list",unit:null,region:["bj","gz","hk"]},BAE:{name:a["default"]("应用引擎"),chargeType:n.PriceType.CPT1,product:"postpay",createUrl:r("/bae/")+"#/bae/env/create",listUrl:r("/bae/")+"#/bae/app/list",unit:null,region:["bj"],showName:a["default"]("应用引擎BAE基础版")},BCH:{name:a["default"]("云虚拟主机"),chargeType:"cpt2",product:"prepay",createUrl:r("/bch/")+"#/bch/create/create",listUrl:r("/bch/")+"#/bch/manage/list",unit:null,region:["global"]},IOT:{abbr:null,name:a["default"]("物接入 IoT Hub"),listUrl:r("/iot/")+"#/iot/endpoint/list",region:["gz"],disableRegion404:!0,showName:a["default"]("物接入 IoT Hub")},MODBUS:{abbr:null,name:a["default"]("物解析 IoT Parser"),listUrl:r("/iot/")+"#/iot/modbus/manage",region:["gz"],showName:a["default"]("物解析 IoT Parser")},IOTDM:{abbr:null,name:a["default"]("物管理 IoT Device"),listUrl:r("/iotdm/")+"#/iotdm/device/list",title:"物管理 IoT Device Management",region:["gz"],showName:a["default"]("物管理 IoT Device")},IOTRE:{abbr:null,name:a["default"]("规则引擎 Rule Engine"),listUrl:r("/iotre/")+"#/iotre/rule/list",createUrl:r("/iotre/")+"#/iotre/rule/create",title:"规则引擎 Rule Engine",region:["gz"],
showName:a["default"]("规则引擎 Rule Engine")},TSDB:{name:a["default"]("时序数据库"),listUrl:r("/tsdb/")+"#/tsdb/list",createUrl:r("/tsdb/")+"#/tsdb/create",product:"prepay",region:["gz"]},BEIAN:{abbr:null,name:a["default"]("备案服务")},MCT:{name:a["default"]("音视频转码"),listUrl:r("/mct/")+"#/mct/pipeline/list",region:["bj","gz"]},LSS:{name:a["default"]("音视频直播"),chargeType:"cpt3",product:"postpay",createUrl:r("/lss/")+"#/lss/v3/domain/create",listUrl:r("/lss/")+"#/lss/v3/domain/list",region:["global"]},VOD:{name:a["default"]("音视频点播"),chargeType:"cpt3",product:"postpay",listUrl:r("/vod/")+"#/vod/media/list",region:["global"]},DOC:{name:a["default"]("文档服务"),chargeType:"cpt3",product:"postpay",createUrl:r("/dod/")+"#/dod/order",listUrl:r("/dod/")+"#/dod/doc/list",region:["global"]},WMT:{abbr:null,name:a["default"]("站点管理"),chargeType:"",product:"",createUrl:r("/ws/")+"#/website/list",listUrl:r("/ws/")+"#/website/list",unit:null,region:["global"]},QSS:{abbr:null,name:a["default"]("问卷调研服务"),chargeType:"",product:"",createUrl:r("/qss/"),listUrl:r("/qss/"),unit:null,region:["global"]},MAT:{abbr:null,name:a["default"]("移动App测试服务"),chargeType:"",product:"",createUrl:r("/mat/"),listUrl:r("/mat/"),unit:null,region:["global"]},AAT:{name:a["default"]("移动App测试服务"),chargeType:"",product:"",createUrl:r("/aat/"),listUrl:r("/aat/"),unit:null,region:["global"]},EIP:{name:a["default"]("弹性公网IP"),chargeType:{postpay_netraffic:[n.PriceType.CPT1,n.PriceType.CPC],postpay_bandwidth:[n.PriceType.CPT1],prepay:[n.PriceType.CPT2]},product:"all",createUrl:r("/eip/")+"#/eip/instance/create",listUrl:r("/eip/")+"#/eip/instance/list",unit:a["default"]("个"),region:["bj","gz","hk","hk02"]},EIPGROUP:{name:a["default"]("共享带宽"),chargeType:{prepay:[n.PriceType.CPT2]},product:"prepay",createUrl:r("/eip/")+"#/eip/group/create",listUrl:r("/eip/")+"#/eip/group/list",unit:a["default"]("个"),region:["bj","gz","hk","hk02"]},PALO:{abbr:"Palo",name:a["default"]("百度OLAP引擎"),chargeType:"cpt1",product:"postpay",createUrl:r("/palo/")+"#/palo/create",listUrl:r("/palo/")+"#/palo/list",unit:a["default"]("集群"),region:["bj","hk02"]},BSC:{name:a["default"]("百度云搜索"),chargeType:"",product:"",createUrl:r("/bsc/"),listUrl:r("/bsc/"),unit:null,region:["bj"]},BCD:{abbr:null,name:a["default"]("域名服务"),chargeType:"cpt2",product:"prepay",createUrl:r("/bcd/")+"#/bcd/search",listUrl:r("/bcd/")+"#/bcd/manage/list",unit:null,region:["global"],showName:a["default"]("域名服务"),showUrl:r("/bcd/")+"#/bcd/overview"},DCC:{name:a["default"]("专属服务器"),chargeType:{postpay:[n.PriceType.CPT1],prepay:[n.PriceType.CPT2]},product:"all",createUrl:r("/bcc/")+"#/dcc/host/create",listUrl:r("/bcc/")+"#/dcc/host/list",badgeNew:new Date<new Date("2017-1-1"),unit:a["default"]("台"),region:["bj"]},APM:{name:a["default"]("应用性能管理服务"),chargeType:"cpt3",product:"prepay",createUrl:r("/apm/")+"#/apm/web/create",listUrl:r("/apm/")+"#/apm/web/list",unit:null,region:["global"]},REFERER_API:{name:a["default"]("百度搜索REFERER API"),showName:a["default"]("百度搜索REFERER API"),chargeType:null,product:"postpay",createUrl:null,listUrl:null,unit:null,region:null},FC_API:{name:a["default"]("搜索推广API"),showName:a["default"]("搜索推广API"),chargeType:null,product:"postpay",createUrl:null,listUrl:null,unit:null,region:null},BML:{name:a["default"]("百度机器学习"),chargeType:"cpt1",product:"prepay",createUrl:r("/bml/")+"#/bml/workflow/create",listUrl:r("/bml/")+"#/bml/template/list",unit:null,region:["bj"]},CUSTOM:{name:a["default"]("订制订单"),chargeType:null,showName:a["default"]("订制订单"),product:"prepay",createUrl:null,listUrl:null,unit:null,region:["global"]},BES:{abbr:null,name:a["default"]("百度Elasticsearch"),chargeType:null,product:"postpay",createUrl:r("/bes/")+"#/bes/create",listUrl:r("/bes/")+"#/bes/list",unit:null,region:["global"]},CAS:{abbr:null,name:a["default"]("SSL证书服务"),showName:a["default"]("SSL证书服务"),chargeType:"cpt2",product:"prepay",createUrl:r("/cas/")+"#/cas/apply/create",listUrl:r("/cas/")+"#/cas/purchased/list",unit:null,region:["global"]},BBC:{name:a["default"]("物理机"),chargeType:{postpay:[n.PriceType.CPT1],prepay:[n.PriceType.CPT2]},product:"all",createUrl:r("/bbc/")+"#/bbc/instance/create",listUrl:r("/bbc/")+"#/bbc/instance/list",badgeNew:new Date<new Date("2017-1-1"),unit:a["default"]("台"),region:["bj","gz","hk","hk02"]},BATCH:{name:a["default"]("百度批量计算"),abbr:null,chargeType:null,product:null,createUrl:r("/batch/")+"#/batch/job/create",listUrl:r("/batch/")+"#/batch/job/list",unit:null,region:["bj","gz"]},NETWORK:{name:a["default"]("私有网络"),abbr:"VPC",chargeType:null,product:null,createUrl:r("/network/")+"#/vpc/instance/list",listUrl:r("/network/")+"#/vpc/instance/list",unit:null,region:["bj","gz","hk","hk02"]},VPN:{name:a["default"]("VPN网关"),product:"prepay",showName:a["default"]("VPN网关"),createUrl:r("/network/")+"#/vpc/instance/list",listUrl:r("/network/")+"#/vpc/instance/list",region:["bj","gz","hk","hk02"]},GPU:{name:a["default"]("GPU服务器"),abbr:null,chargeType:{postpay:[n.PriceType.CPT1],prepay:[n.PriceType.CPT2]},product:"prepay",createUrl:r("/bcc/")+"#/gpu/instance/create",listUrl:r("/bcc/")+"#/gpu/instance/list",badgeNew:new Date<new Date("2017-1-1"),unit:a["default"]("台"),region:["bj"]},MKT:{name:a["default"]("云市场"),abbr:null,chargeType:n.PriceType.CPT2,product:"prepay",createUrl:"https://cloud.baidu.com/market/home.html",listUrl:r("/mkt/")+"#/mkt/purchased/list",badgeNew:new Date<new Date("2016-10-28"),unit:a["default"]("个"),region:["global"]},IOTVIZ:{name:a["default"]("物可视"),abbr:"IoT Visualization",chargeType:null,product:null,createUrl:r("/viz/"),listUrl:r("/viz/"),unit:null,region:[]},SPEECH:{name:a["default"]("百度语音"),icon:"icon-sr",abbr:null,showUrl:r("/ai/")+"#/ai/speech/overview/index",listUrl:r("/ai/")+"#/ai/speech/overview/index"},OCR:{name:a["default"]("文字识别"),abbr:null,showUrl:r("/ai/")+"#/ai/ocr/overview/index",listUrl:r("/ai/")+"#/ai/ocr/overview/index"},FACE:{name:a["default"]("人脸识别"),icon:"icon-bfr",abbr:null,showUrl:r("/ai/")+"#/ai/face/overview/index",listUrl:r("/ai/")+"#/ai/face/overview/index"},NLP:{name:a["default"]("自然语言处理"),abbr:null,showUrl:r("/ai/")+"#/ai/nlp/overview/index",listUrl:r("/ai/")+"#/ai/nlp/overview/index"},ANTIPORN:{name:a["default"]("黄反识别"),abbr:null,showUrl:r("/ai/")+"#/ai/antiporn/overview/index",listUrl:r("/ai/")+"#/ai/antiporn/overview/index"}},PRODUCT_TYPE:{prepay:a["default"]("预付费订单"),postpay:a["default"]("后付费订单")},DURATION:{YEAR:[{name:a["default"]("1年"),value:12},{name:a["default"]("2年"),value:24},{name:a["default"]("3年"),value:36},{name:a["default"]("4年"),value:48},{name:a["default"]("5年"),value:60}],MONTH:[{name:a["default"]("1月"),value:1},{name:a["default"]("2月"),value:2},{name:a["default"]("3月"),value:3},{name:a["default"]("4月"),value:4},{name:a["default"]("5月"),value:5},{name:a["default"]("6月"),value:6},{name:a["default"]("7月"),value:7},{name:a["default"]("8月"),value:8},{name:a["default"]("9月"),value:9}]},MONITOR_METRIC_ENUM:{BCE_BMR_STATE:{0:"NOTINITED",1:"INITED",2:"STARTED",3:"STOPPED"},BCE_CDS_STATUS:{0:"ok",1:"warning",2:"impaired",3:"insufficient-data"}},BCM_STATISTICS:{AVERAGE:"average",SUM:"sum",MAXIMUM:"maximum",MINIMUM:"minimum",SAMPLE_COUNT:"sampleCount"},SIDEBAR_TITLE:{iam:a["default"]("用户中心"),accesskey:a["default"]("安全认证"),cert:a["default"]("安全认证"),user:a["default"]("多用户访问控制"),policy:a["default"]("多用户访问控制"),saml:a["default"]("多用户访问控制"),billing:a["default"]("财务中心"),mc:a["default"]("消息中心"),finance:a["default"]("财务中心"),qualify:a["default"]("安全认证")},PURCHASELENGTH:[{name:a["default"]("1个月"),value:1},{name:"2",value:2},{name:"3",value:3},{name:"4",value:4},{name:"5",value:5},{name:"6",value:6},{name:"7",value:7},{name:"8",value:8},{name:"9",value:9},{name:a["default"]("1年"),value:12},{name:a["default"]("2年"),value:24},{name:a["default"]("3年"),value:36}]}}),define("common/billing/order/Recharge",["require","bat-ria/mvc/BaseAction","moment","er/util","common/constants","./RechargeModel","./RechargeView","inf-ria/helper"],function(require){function e(){var e=n(this.model.get("expireTime")),t=this.view.get("duration").getRawValue(),i=e.month(e.month()+t).format(a.TIME_FORMAT);this.view.get("expireTime").setText(i)}function t(){i.apply(this,arguments)}var i=require("bat-ria/mvc/BaseAction"),n=require("moment"),r=require("er/util"),a=require("common/constants");return t.prototype.modelType=require("./RechargeModel"),t.prototype.viewType=require("./RechargeView"),t.prototype.initBehavior=function(){if(i.prototype.initBehavior.apply(this,arguments),e.call(this),"RDS_REPLICA"===this.model.get("serviceType"))this.view.get("durationType").disable(),this.view.get("duration").disable();this.view.on("durationChange",e,this)},t.prototype.submit=function(){var e=this.model.get("formData");e.duration=this.view.get("duration").getRawValue(),this.model.get("submitRequester")(e).then(r.bind(function(e){var t=this.model.get("serviceType");if("RDS_REPLICA"===t)t="RDS";require("inf-ria/helper").redirectToModule("billing","/order/confirm",{uuid:e.uuid,serviceType:t})},this))},require("er/util").inherits(t,i),t}),define("common/combine",["exports"],function(exports){});require(['etpl'], function(etpl) {etpl.config({namingConflict: 'override'});});
